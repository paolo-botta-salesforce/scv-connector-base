!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SCVConnectorBase",[],t):"object"==typeof exports?exports.SCVConnectorBase=t():e.SCVConnectorBase=t()}(this,(function(){return function(e){var t={};function E(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,E),r.l=!0,r.exports}return E.m=e,E.c=t,E.d=function(e,t,n){E.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},E.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},E.t=function(e,t){if(1&t&&(e=E(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(E.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)E.d(n,r,function(t){return e[t]}.bind(null,r));return n},E.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return E.d(t,"a",t),t},E.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E.p="",E(E.s=18)}([function(e,t,E){var n=E(9);function r(e,t){for(var E=0;E<t.length;E++){var r=t[E];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n(r.key),r)}}e.exports=function(e,t,E){return t&&r(e.prototype,t),E&&r(e,E),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(9);e.exports=function(e,t,E){return(t=n(t))in e?Object.defineProperty(e,t,{value:E,enumerable:!0,configurable:!0,writable:!0}):e[t]=E,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function E(t){return e.exports=E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,E(t)}e.exports=E,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(13)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t){function E(e,t,E,n,r,a,T){try{var o=e[a](T),i=o.value}catch(e){return void E(e)}o.done?t(i):Promise.resolve(i).then(n,r)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var T=e.apply(t,n);function o(e){E(T,r,a,o,i,"next",e)}function i(e){E(T,r,a,o,i,"throw",e)}o(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function E(t){return e.exports=E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,E(t)}e.exports=E,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(8);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function E(t,n){return e.exports=E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,E(t,n)}e.exports=E,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(3).default,r=E(12);e.exports=function(e){var t=r(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(3).default,r=E(14);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(6),r=E(8),a=E(15),T=E(16);function o(t){var E="function"==typeof Map?new Map:void 0;return e.exports=o=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==E){if(E.has(e))return E.get(e);E.set(e,t)}function t(){return T(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(3).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var E=e[Symbol.toPrimitive];if(void 0!==E){var r=E.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(3).default;function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=r=function(){return E},e.exports.__esModule=!0,e.exports.default=e.exports;var t,E={},a=Object.prototype,T=a.hasOwnProperty,o=Object.defineProperty||function(e,t,E){e[t]=E.value},i="function"==typeof Symbol?Symbol:{},_=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,E){return Object.defineProperty(e,t,{value:E,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(t){l=function(e,t,E){return e[t]=E}}function N(e,t,E,n){var r=t&&t.prototype instanceof I?t:I,a=Object.create(r.prototype),T=new Y(n||[]);return o(a,"_invoke",{value:v(e,E,T)}),a}function u(e,t,E){try{return{type:"normal",arg:e.call(t,E)}}catch(e){return{type:"throw",arg:e}}}E.wrap=N;var A="suspendedStart",O="executing",C="completed",R={};function I(){}function S(){}function P(){}var d={};l(d,_,(function(){return this}));var p=Object.getPrototypeOf,L=p&&p(p(U([])));L&&L!==a&&T.call(L,_)&&(d=L);var f=P.prototype=I.prototype=Object.create(d);function h(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function E(r,a,o,i){var _=u(e[r],e,a);if("throw"!==_.type){var s=_.arg,c=s.value;return c&&"object"==n(c)&&T.call(c,"__await")?t.resolve(c.__await).then((function(e){E("next",e,o,i)}),(function(e){E("throw",e,o,i)})):t.resolve(c).then((function(e){s.value=e,o(s)}),(function(e){return E("throw",e,o,i)}))}i(_.arg)}var r;o(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,r){E(e,n,t,r)}))}return r=r?r.then(a,a):a()}})}function v(e,E,n){var r=A;return function(a,T){if(r===O)throw Error("Generator is already running");if(r===C){if("throw"===a)throw T;return{value:t,done:!0}}for(n.method=a,n.arg=T;;){var o=n.delegate;if(o){var i=G(o,n);if(i){if(i===R)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===A)throw r=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=O;var _=u(e,E,n);if("normal"===_.type){if(r=n.done?C:"suspendedYield",_.arg===R)continue;return{value:_.arg,done:n.done}}"throw"===_.type&&(r=C,n.method="throw",n.arg=_.arg)}}}function G(e,E){var n=E.method,r=e.iterator[n];if(r===t)return E.delegate=null,"throw"===n&&e.iterator.return&&(E.method="return",E.arg=t,G(e,E),"throw"===E.method)||"return"!==n&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+n+"' method")),R;var a=u(r,e.iterator,E.arg);if("throw"===a.type)return E.method="throw",E.arg=a.arg,E.delegate=null,R;var T=a.arg;return T?T.done?(E[e.resultName]=T.value,E.next=e.nextLoc,"return"!==E.method&&(E.method="next",E.arg=t),E.delegate=null,R):T:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,R)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function U(e){if(e||""===e){var E=e[_];if(E)return E.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function E(){for(;++r<e.length;)if(T.call(e,r))return E.value=e[r],E.done=!1,E;return E.value=t,E.done=!0,E};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return S.prototype=P,o(f,"constructor",{value:P,configurable:!0}),o(P,"constructor",{value:S,configurable:!0}),S.displayName=l(P,c,"GeneratorFunction"),E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,l(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e},E.awrap=function(e){return{__await:e}},h(V.prototype),l(V.prototype,s,(function(){return this})),E.AsyncIterator=V,E.async=function(e,t,n,r,a){void 0===a&&(a=Promise);var T=new V(N(e,t,n,r),a);return E.isGeneratorFunction(t)?T:T.next().then((function(e){return e.done?e.value:T.next()}))},h(f),l(f,c,"Generator"),l(f,_,(function(){return this})),l(f,"toString",(function(){return"[object Generator]"})),E.keys=function(e){var t=Object(e),E=[];for(var n in t)E.push(n);return E.reverse(),function e(){for(;E.length;){var n=E.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},E.values=U,Y.prototype={constructor:Y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(b),!e)for(var E in this)"t"===E.charAt(0)&&T.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var E=this;function n(n,r){return o.type="throw",o.arg=e,E.next=n,r&&(E.method="next",E.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=T.call(a,"catchLoc"),_=T.call(a,"finallyLoc");if(i&&_){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!_)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var E=this.tryEntries.length-1;E>=0;--E){var n=this.tryEntries[E];if(n.tryLoc<=this.prev&&T.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,R):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),R},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var E=this.tryEntries[t];if(E.finallyLoc===e)return this.complete(E.completion,E.afterLoc),b(E),R}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var E=this.tryEntries[t];if(E.tryLoc===e){var n=E.completion;if("throw"===n.type){var r=n.arg;b(E)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,E,n){return this.delegate={iterator:U(e),resultName:E,nextLoc:n},"next"===this.method&&(this.arg=t),R}},E}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(8),r=E(17);e.exports=function(e,t,E){if(r())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var T=new(e.bind.apply(e,a));return E&&n(T,E.prototype),T},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(e.exports=E=function(){return!!t},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=E,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){"use strict";E.r(t),E.d(t,"initializeConnector",(function(){return Qe})),E.d(t,"publishEvent",(function(){return $e})),E.d(t,"publishError",(function(){return Xe})),E.d(t,"publishLog",(function(){return Je})),E.d(t,"log",(function(){return D})),E.d(t,"Constants",(function(){return B})),E.d(t,"ActiveCallsResult",(function(){return q})),E.d(t,"AgentConfigResult",(function(){return Q})),E.d(t,"AgentConfig",(function(){return J})),E.d(t,"CapabilitiesResult",(function(){return K})),E.d(t,"RecordingToggleResult",(function(){return X})),E.d(t,"ParticipantResult",(function(){return $})),E.d(t,"SignedRecordingUrlResult",(function(){return ne})),E.d(t,"ContactsResult",(function(){return z})),E.d(t,"PhoneContactsResult",(function(){return Z})),E.d(t,"CallResult",(function(){return ee})),E.d(t,"HangupResult",(function(){return te})),E.d(t,"HoldToggleResult",(function(){return Ee})),E.d(t,"InitResult",(function(){return re})),E.d(t,"GenericResult",(function(){return Te})),E.d(t,"MuteToggleResult",(function(){return W})),E.d(t,"LogoutResult",(function(){return oe})),E.d(t,"CallInfo",(function(){return ie})),E.d(t,"PhoneCall",(function(){return ce})),E.d(t,"PhoneCallAttributes",(function(){return se})),E.d(t,"Contact",(function(){return _e})),E.d(t,"Phone",(function(){return j})),E.d(t,"AgentStatusInfo",(function(){return Oe})),E.d(t,"AudioStatsElement",(function(){return Pe})),E.d(t,"AudioStats",(function(){return Se})),E.d(t,"StatsInfo",(function(){return de})),E.d(t,"VendorConnector",(function(){return Ne})),E.d(t,"TelephonyConnector",(function(){return le})),E.d(t,"SuperviseCallResult",(function(){return pe})),E.d(t,"SupervisorHangupResult",(function(){return Le})),E.d(t,"SupervisedCallInfo",(function(){return Ie})),E.d(t,"AgentVendorStatusInfo",(function(){return Ce})),E.d(t,"StateChangeResult",(function(){return Re})),E.d(t,"CustomError",(function(){return F})),E.d(t,"AgentWork",(function(){return Ae})),E.d(t,"ShowStorageAccessResult",(function(){return fe})),E.d(t,"DialOptions",(function(){return ae})),E.d(t,"ContactsFilter",(function(){return he}));var n=E(2),r=E.n(n),a=E(5),T=E.n(a),o=E(3),i=E.n(o),_=E(4),s=E.n(_),c={MESSAGE_TYPE:{SETUP_CONNECTOR:"SETUP_CONNECTOR",CONNECTOR_READY:"CONNECTOR_READY",LOG:"LOG",TELEPHONY_EVENT_DISPATCHED:"TELEPHONY_EVENT_DISPATCHED",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",LOGOUT:"LOGOUT",MESSAGE:"MESSAGE",DOWNLOAD_VENDOR_LOGS:"DOWNLOAD_VENDOR_LOGS",AGENT_WORK_EVENT:"AGENT_WORK_EVENT",GET_CONTACTS:"GET_CONTACTS",VOICE:{ACCEPT_CALL:"ACCEPT_CALL",DECLINE_CALL:"DECLINE_CALL",END_CALL:"END_CALL",MUTE:"MUTE",UNMUTE:"UNMUTE",HOLD:"HOLD",RESUME:"RESUME",DIAL:"DIAL",SEND_DIGITS:"SEND_DIGITS",GET_PHONE_CONTACTS:"GET_PHONE_CONTACTS",SWAP_PARTICIPANTS:"SWAP_PARTICIPANTS",ADD_PARTICIPANT:"ADD_PARTICIPANT",CONFERENCE:"CONFERENCE",PAUSE_RECORDING:"PAUSE_RECORDING",RESUME_RECORDING:"RESUME_RECORDING",SUPERVISE_CALL:"SUPERVISE_CALL",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",SUPERVISOR_DISCONNECT:"SUPERVISOR_DISCONNECT",SET_AGENT_CONFIG:"SET_AGENT_CONFIG",GET_SIGNED_RECORDING_URL:"GET_SIGNED_RECORDING_URL",WRAP_UP_CALL:"WRAP_UP_CALL",AGENT_AVAILABLE:"AGENT_AVAILABLE"}},EVENT_TYPE:{ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO",LOGIN_STARTED:"LOGIN_STARTED",LOGIN_RESULT:"LOGIN_RESULT",LOGOUT_RESULT:"LOGOUT_RESULT",SHOW_LOGIN:"SHOW_LOGIN",SET_AGENT_STATUS_RESULT:"SET_AGENT_STATUS_RESULT",GET_AGENT_STATUS_RESULT:"GET_AGENT_STATUS_RESULT",MESSAGE:"MESSAGE",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",STATE_CHANGE:"STATE_CHANGE",REMOTE_CONTROLLER:"REMOTE_CONTROLLER",SHOW_STORAGE_ACCESS:"SHOW_STORAGE_ACCESS",STORAGE_ACCESS_RESULT:"STORAGE_ACCESS_RESULT",GET_CONTACTS_RESULT:"GET_CONTACTS_RESULT",VOICE:{QUEUED_CALL_STARTED:"QUEUED_CALL_STARTED",CALL_STARTED:"CALL_STARTED",CALL_CONNECTED:"CALL_CONNECTED",CALL_FAILED:"CALL_FAILED",MUTE_TOGGLE:"MUTE_TOGGLE",HOLD_TOGGLE:"HOLD_TOGGLE",PHONE_CONTACTS:"PHONE_CONTACTS",PARTICIPANT_ADDED:"PARTICIPANT_ADDED",PARTICIPANT_CONNECTED:"PARTICIPANT_CONNECTED",PARTICIPANT_REMOVED:"PARTICIPANT_REMOVED",RECORDING_TOGGLE:"RECORDING_TOGGLE",PARTICIPANTS_SWAPPED:"PARTICIPANTS_SWAPPED",PARTICIPANTS_CONFERENCED:"PARTICIPANTS_CONFERENCED",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",UPDATE_AUDIO_STATS:"UPDATE_AUDIO_STATS",UPDATE_AUDIO_STATS_COMPLETED:"UPDATE_AUDIO_STATS_COMPLETED",SUPERVISOR_BARGED_IN:"SUPERVISOR_BARGED_IN",SUPERVISOR_CALL_STARTED:"SUPERVISOR_CALL_STARTED",SUPERVISOR_CALL_CONNECTED:"SUPERVISOR_CALL_CONNECTED",SUPERVISOR_HANGUP:"SUPERVISOR_HANGUP",CALL_BARGED_IN:"CALL_BARGED_IN",WRAP_UP_ENDED:"WRAP_UP_ENDED",AFTER_CALL_WORK_STARTED:"AFTER_CALL_WORK_STARTED",AGENT_CONFIG_UPDATED:"AGENT_CONFIG_UPDATED",AGENT_ERROR:"AGENT_ERROR",HANGUP:"HANGUP",SOFTPHONE_ERROR:"SOFTPHONE_ERROR",SHOW_TRANSFER_VIEW:"SHOW_TRANSFER_VIEW"}},INFO_TYPE:{VOICE:{CAN_NOT_ACCEPT_THE_CALL:"CAN_NOT_ACCEPT_THE_CALL"}},ERROR_TYPE:{VOICE:{CAN_NOT_DECLINE_THE_CALL:"CAN_NOT_DECLINE_THE_CALL",CAN_NOT_END_THE_CALL:"CAN_NOT_END_THE_CALL",CAN_NOT_HOLD_CALL:"CAN_NOT_HOLD_CALL",CAN_NOT_RESUME_CALL:"CAN_NOT_RESUME_CALL",CAN_NOT_MUTE_CALL:"CAN_NOT_MUTE_CALL",CAN_NOT_UNMUTE_CALL:"CAN_NOT_UNMUTE_CALL",CAN_NOT_TOGGLE_MUTE:"CAN_NOT_TOGGLE_MUTE",CAN_NOT_TOGGLE_HOLD:"CAN_NOT_TOGGLE_HOLD",CAN_NOT_TOGGLE_RECORD:"CAN_NOT_TOGGLE_RECORD",INVALID_PARTICIPANT:"INVALID_PARTICIPANT",INVALID_PARAMS:"INVALID_PARAMS",CAN_NOT_GET_PHONE_CONTACTS:"CAN_NOT_GET_PHONE_CONTACTS",CAN_NOT_SWAP_PARTICIPANTS:"CAN_NOT_SWAP_PARTICIPANTS",CAN_NOT_CONFERENCE:"CAN_NOT_CONFERENCE",INVALID_DESTINATION:"INVALID_DESTINATION",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",CAN_NOT_HANGUP_PARTICIPANT:"CAN_NOT_HANGUP_PARTICIPANT",CAN_NOT_ADD_PARTICIPANT:"CAN_NOT_ADD_PARTICIPANT",CAN_NOT_CONNECT_PARTICIPANT:"CAN_NOT_CONNECT_PARTICIPANT",CAN_NOT_START_THE_CALL:"CAN_NOT_START_THE_CALL",CAN_NOT_PAUSE_RECORDING:"CAN_NOT_PAUSE_RECORDING",CAN_NOT_RESUME_RECORDING:"CAN_NOT_RESUME_RECORDING",CAN_NOT_SET_AGENT_CONFIG:"CAN_NOT_SET_AGENT_CONFIG",CAN_NOT_SET_CAPABILITIES:"CAN_NOT_SET_CAPABILITIES",CAN_NOT_UPDATE_PHONE_NUMBER:"CAN_NOT_UPDATE_PHONE_NUMBER",CAN_NOT_GET_SIGNED_RECORDING_URL:"CAN_NOT_GET_SIGNED_RECORDING_URL",CAN_NOT_SUPERVISE_CALL:"CAN_NOT_SUPERVISE_CALL",CAN_NOT_DISCONNECT_SUPERVISOR:"CAN_NOT_DISCONNECT_SUPERVISOR",CAN_NOT_BARGE_IN_SUPERVISOR:"CAN_NOT_BARGE_IN_SUPERVISOR",CAN_NOT_BARGE_IN_CALL:"CAN_NOT_BARGE_IN_CALL",AGENT_ERROR:"AGENT_ERROR",MICROPHONE_NOT_SHARED:"MICROPHONE_NOT_SHARED",UNSUPPORTED_BROWSER:"UNSUPPORTED_BROWSER"},CUSTOM_ERROR:"CUSTOM_ERROR",GENERIC_ERROR:"GENERIC_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",INVALID_AGENT_STATUS:"INVALID_AGENT_STATUS",CAN_NOT_GET_AGENT_STATUS:"CAN_NOT_GET_AGENT_STATUS",CAN_NOT_SET_AGENT_STATUS:"CAN_NOT_SET_AGENT_STATUS",LOGIN_REQUIRED:"LOGIN_REQUIRED",CAN_NOT_LOG_IN:"CAN_NOT_LOG_IN",CAN_NOT_LOG_OUT:"CAN_NOT_LOG_OUT",INVALID_STATE_CHANGE_RESULT:"INVALID_STATE_CHANGE_RESULT",INVALID_STORAGE_ACCESS_RESULT:"INVALID_STORAGE_ACCESS_RESULT"},AGENT_STATUS:{ONLINE:"Online",OFFLINE:"Offline",ACW:"AfterCallWork",CALLBACK_MISSED_OR_REJECTED:"CallbackMissedOrRejected"},PARTICIPANT_TYPE:{AGENT:"Agent",INITIAL_CALLER:"Initial_Caller",THIRD_PARTY:"Third_Party",SUPERVISOR:"Supervisor"},CALL_TYPE:{INBOUND:"Inbound",OUTBOUND:"Outbound",CALLBACK:"Callback",ADD_PARTICIPANT:"AddParticipant",TRANSFER:"Transfer",INTERNAL_CALL:"InternalCall",DIALED_CALLBACK:"DialedCallback"},DIALER_TYPE:{OUTBOUND_PREVIEW:"OutboundPreview",NONE:"None"},CONTACT_TYPE:{PHONEBOOK:"PhoneBook",QUEUE:"Queue",PHONENUMBER:"PhoneNumber",AGENT:"Agent",FLOW:"Flow"},AGENT_CONFIG_TYPE:{SHOW_AGENT_SETTINGS:"SHOW_AGENT_SETTINGS",PHONES:"PHONES",SELECTED_PHONE:"SELECTED_PHONE"},CAPABILITIES_TYPE:{MUTE:"MUTE",RECORD:"RECORD",MERGE:"MERGE",SWAP:"SWAP",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",DEBUG_ENABLED:"DEBUG_ENABLED",CONTACT_SEARCH:"CONTACT_SEARCH",VENDOR_PROVIDED_AVAILABILITY:"VENDOR_PROVIDED_AVAILABILITY",VENDOR_PROVIDED_QUEUE_WAIT_TIME:"VENDOR_PROVIDED_QUEUE_WAIT_TIME",SUPERVISOR_LISTEN_IN:"SUPERVISOR_LISTEN_IN",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",MOS:"MOS",BLIND_TRANSFER:"BLIND_TRANSFER",TRANSFER_TO_OMNI_FLOW:"TRANSFER_TO_OMNI_FLOW",PENDING_STATUS_CHANGE:"PENDING_STATUS_CHANGE",PHONEBOOK:"PHONEBOOK",SFDC_PENDING_STATE:"SFDC_PENDING_STATE"},CALL_STATE:{RINGING:"ringing",CONNECTED:"connected",TRANSFERRING:"transferring",TRANSFERRED:"transferred",ENDED:"ended"},PHONE_TYPE:{DESK_PHONE:"DESK_PHONE",SOFT_PHONE:"SOFT_PHONE"},HANGUP_REASON:{PHONE_CALL_ERROR:"error",PHONE_CALL_ENDED:"ended"},AGENT_AVAILABILITY:{AVAILABLE:"AVAILABLE",BUSY:"BUSY",OFFLINE:"OFFLINE"},REMOVE_PARTICIPANT_VARIANT:{ALWAYS:"ALWAYS",NEVER:"NEVER",ALWAYS_EXCEPT_ON_HOLD:"ALWAYS_EXCEPT_ON_HOLD"},LOG_LEVEL:{ERROR:"ERROR",INFO:"INFO"},LOG_SOURCE:{SYSTEM:"SYSTEM",PARTNER:"PARTNER"},CONTACTS_FILTER_TYPES:{AGENT:"AGENT",QUEUE:"QUEUE",CONTACT:"CONTACT",DIRECTORY:"DIRECTORY",FLOW:"FLOW",AVAILABLE:"AVAILABLE"},WORK_EVENT:{ASSIGNED:"ASSIGNED",ACCEPTED:"ACCEPTED",DECLINED:"DECLINED",COMPLETED:"COMPLETED",CLOSED:"CLOSED"},DIAL_OPTIONS:{CALLBACK:"isCallback=true"}},l=["/internalNameLabel","/reqGeneralInfo/reqAdapterUrl","/reqGeneralInfo/reqVendorInfoApiName","isACWAllowed","isHVSEnabled","orgDomainName","phoneServiceChannelId","telephonySettingsComponentFqn"],N=["/reqHvcc"],u=["/reqHvcc/reqTelephonyIntegrationCertificate"],A=E(0),O=E.n(A),C=E(1),R=E.n(C),I=E(10),S=E.n(I),P=E(6),d=E.n(P),p=E(7),L=E.n(p),f=E(11),h=E.n(f);var V=function(e){return"string"==typeof e?e:JSON.stringify(e)},v=0,G=[];function D(e,t,E){!function(e,t,E){if(!t)throw new Error("Log Message required");e=e||c.LOG_LEVEL.INFO,E=E||c.LOG_SOURCE.PARTNER;var n=[(new Date).toISOString(),V(e),V(E),"".concat(V(t),"\n")].join("|");v+n.length>=75e5&&(G=[],v=0),v+=n.length,G.push(n)}(t,e,E)}function b(){return JSON.parse(JSON.stringify(G))}function Y(){!function(e,t,E){if(document&&e){var n="string"==typeof e?e:JSON.stringify(e),r=new Blob([n],{type:E}),a=document.createElement("a"),T=URL.createObjectURL(r);a.download=t,a.href=T,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(T)}}(G.join(""),"log-".concat((new Date).getTime(),".txt"),"text/plain")}function U(e,t){var E="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!E){if(Array.isArray(e)||(E=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var E=Object.prototype.toString.call(e).slice(8,-1);"Object"===E&&e.constructor&&(E=e.constructor.name);if("Map"===E||"Set"===E)return Array.from(e);if("Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){E&&(e=E);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,T=!0,o=!1;return{s:function(){E=E.call(e)},n:function(){var e=E.next();return T=e.done,e},e:function(e){o=!0,a=e},f:function(){try{T||null==E.return||E.return()}finally{if(o)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var E=0,n=new Array(t);E<t;E++)n[E]=e[E];return n}function y(e,t,E){return t=d()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,E||[],d()(e).constructor):t.apply(e,E))}function m(e,t){var E=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),E.push.apply(E,n)}return E}function M(e){for(var t=1;t<arguments.length;t++){var E=null!=arguments[t]?arguments[t]:{};t%2?m(Object(E),!0).forEach((function(t){r()(e,t,E[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(E)):m(Object(E)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(E,t))}))}return e}var x,k,w,H,B={EVENT_TYPE:{VOICE:{CALL_STARTED:c.EVENT_TYPE.VOICE.CALL_STARTED,QUEUED_CALL_STARTED:c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,CALL_CONNECTED:c.EVENT_TYPE.VOICE.CALL_CONNECTED,HANGUP:c.EVENT_TYPE.VOICE.HANGUP,MUTE_TOGGLE:c.EVENT_TYPE.VOICE.MUTE_TOGGLE,HOLD_TOGGLE:c.EVENT_TYPE.VOICE.HOLD_TOGGLE,RECORDING_TOGGLE:c.EVENT_TYPE.VOICE.RECORDING_TOGGLE,PARTICIPANTS_SWAPPED:c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED,PARTICIPANTS_CONFERENCED:c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED,PARTICIPANT_ADDED:c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,PARTICIPANT_CONNECTED:c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,PARTICIPANT_REMOVED:c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,AFTER_CALL_WORK_STARTED:c.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED,WRAP_UP_ENDED:c.EVENT_TYPE.VOICE.WRAP_UP_ENDED,AGENT_ERROR:c.EVENT_TYPE.VOICE.AGENT_ERROR,SOFTPHONE_ERROR:c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR,UPDATE_AUDIO_STATS:c.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS,SUPERVISOR_BARGED_IN:c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,SUPERVISOR_CALL_STARTED:c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,SUPERVISOR_CALL_CONNECTED:c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,SUPERVISOR_HANGUP:c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,SHOW_TRANSFER_VIEW:c.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW},LOGIN_RESULT:c.EVENT_TYPE.LOGIN_RESULT,LOGOUT_RESULT:c.EVENT_TYPE.LOGOUT_RESULT,MESSAGE:c.EVENT_TYPE.MESSAGE,SET_AGENT_STATUS:c.EVENT_TYPE.SET_AGENT_STATUS,GET_AGENT_STATUS:c.EVENT_TYPE.GET_AGENT_STATUS,STATE_CHANGE:c.EVENT_TYPE.STATE_CHANGE,STORAGE_ACCESS_RESULT:c.EVENT_TYPE.STORAGE_ACCESS_RESULT,GET_CONTACTS_RESULT:c.EVENT_TYPE.GET_CONTACTS_RESULT},ERROR_TYPE:{VOICE:{INVALID_PARTICIPANT:c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,INVALID_DESTINATION:c.ERROR_TYPE.VOICE.INVALID_DESTINATION,CAN_NOT_UPDATE_PHONE_NUMBER:c.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER,INVALID_PARAMS:c.ERROR_TYPE.VOICE.INVALID_PARAMS},GENERIC_ERROR:c.ERROR_TYPE.GENERIC_ERROR,INVALID_AGENT_STATUS:c.ERROR_TYPE.INVALID_AGENT_STATUS},AGENT_STATUS:M({},c.AGENT_STATUS),PARTICIPANT_TYPE:M({},c.PARTICIPANT_TYPE),CALL_TYPE:M({},c.CALL_TYPE),DIALER_TYPE:M({},c.DIALER_TYPE),CONTACT_TYPE:M({},c.CONTACT_TYPE),CALL_STATE:M({},c.CALL_STATE),HANGUP_REASON:M({},c.HANGUP_REASON),PHONE_TYPE:M({},c.PHONE_TYPE),AGENT_AVAILABILITY:M({},c.AGENT_AVAILABILITY),REMOVE_PARTICIPANT_VARIANT:M({},c.REMOVE_PARTICIPANT_VARIANT),LOG_LEVEL:M({},c.LOG_LEVEL),CONTACTS_FILTER_TYPES:M({},c.CONTACTS_FILTER_TYPES),WORK_EVENT:M({},c.WORK_EVENT)},F=function(e){function t(e){var E,n=e.labelName,r=e.namespace,a=e.message;return R()(this,t),E=y(this,t,[a]),ue.validateString(n),ue.validateString(r),a&&ue.validateString(a),E.labelName=n,E.namespace=r,E.message=a,E}return L()(t,e),O()(t)}(h()(Error)),j=O()((function e(t){var E=t.type,n=t.number;R()(this,e),ue.validateEnum(E,Object.values(c.PHONE_TYPE)),n&&ue.validateString(n),this.type=E,this.number=n})),W=O()((function e(t){var E=t.isMuted;R()(this,e),this.isMuted=E})),q=O()((function e(t){var E=t.activeCalls,n=void 0===E?[]:E;R()(this,e),n.length>0&&n.forEach((function(e){ue.validateClassObject(e,ce)})),this.activeCalls=n})),K=O()((function e(t){var E=t.hasMute,n=void 0===E||E,r=t.hasRecord,a=void 0===r||r,T=t.hasMerge,o=void 0===T||T,i=t.hasSwap,_=void 0===i||i,s=t.hasSignedRecordingUrl,c=void 0!==s&&s,l=t.debugEnabled,N=void 0===l||l,u=t.hasContactSearch,A=void 0!==u&&u,O=t.hasAgentAvailability,C=void 0!==O&&O,I=t.hasQueueWaitTime,S=void 0!==I&&I,P=t.supportsMos,d=void 0!==P&&P,p=t.hasSupervisorListenIn,L=void 0!==p&&p,f=t.hasSupervisorBargeIn,h=void 0!==f&&f,V=t.hasBlindTransfer,v=void 0!==V&&V,G=t.hasTransferToOmniFlow,D=void 0!==G&&G,b=t.hasPendingStatusChange,Y=void 0!==b&&b,U=t.hasPhoneBook,g=void 0!==U&&U,y=t.hasSFDCPendingState,m=void 0!==y&&y;R()(this,e),ue.validateBoolean(n),ue.validateBoolean(a),ue.validateBoolean(o),ue.validateBoolean(_),ue.validateBoolean(c),ue.validateBoolean(N),ue.validateBoolean(A),ue.validateBoolean(C),ue.validateBoolean(S),ue.validateBoolean(d),ue.validateBoolean(L),ue.validateBoolean(h),ue.validateBoolean(v),ue.validateBoolean(D),ue.validateBoolean(Y),ue.validateBoolean(g),ue.validateBoolean(m),this.hasMute=n,this.hasRecord=a,this.hasMerge=o,this.hasSwap=_,this.hasSignedRecordingUrl=c,this.debugEnabled=N,this.hasContactSearch=A,this.hasAgentAvailability=C,this.hasQueueWaitTime=S,this.supportsMos=d,this.hasSupervisorListenIn=L,this.hasSupervisorBargeIn=h,this.hasBlindTransfer=v,this.hasTransferToOmniFlow=D,this.hasPendingStatusChange=Y,this.hasPhoneBook=g,this.hasSFDCPendingState=m})),Q=O()((function e(t){var E=t.phones,n=void 0===E?[c.PHONE_TYPE.SOFT_PHONE]:E,r=t.selectedPhone,a=void 0===r?new j({type:c.PHONE_TYPE.SOFT_PHONE}):r;R()(this,e),ue.validateClassObject(n,Array),ue.validateClassObject(a,j),this.phones=n,this.selectedPhone=a})),J=O()((function e(t){var E=t.selectedPhone;R()(this,e),ue.validateClassObject(E,j),this.selectedPhone=E})),X=O()((function e(t){var E=t.isRecordingPaused,n=t.contactId,r=void 0===n?null:n,a=t.initialContactId,T=void 0===a?null:a,o=t.instanceId,i=void 0===o?null:o,_=t.region,s=void 0===_?null:_;R()(this,e),this.isRecordingPaused=E,this.contactId=r,this.initialContactId=T,this.instanceId=i,this.region=s})),$=O()((function e(t){var E=t.initialCallHasEnded,n=t.callInfo,r=t.phoneNumber,a=t.callId;R()(this,e),ue.validateClassObject(n,ie),this.initialCallHasEnded=E,this.callInfo=n,this.phoneNumber=r,this.callId=a})),z=O()((function e(t){var E=t.contacts,n=void 0===E?[]:E,r=t.contactTypes,a=void 0===r?[]:r;R()(this,e),n.length>0&&n.forEach((function(e){ue.validateClassObject(e,_e)})),a.length>0&&a.forEach((function(e){ue.validateEnum(e,Object.values(c.CONTACT_TYPE))})),this.contacts=n,this.contactTypes=a})),Z=function(e){function t(e){var E=e.contacts,n=void 0===E?[]:E,r=e.contactTypes,a=void 0===r?[]:r;return R()(this,t),y(this,t,[{contacts:n,contactTypes:a}])}return L()(t,e),O()(t)}(z),ee=O()((function e(t){var E=t.call;R()(this,e),void 0!==E&&ue.validateClassObject(E,ce),this.call=E})),te=O()((function e(t){var E=t.calls;R()(this,e),E instanceof Array?(E.forEach((function(e){return ue.validateClassObject(e,ce)})),this.calls=E):(ue.validateClassObject(E,ce),this.calls=[E])})),Ee=O()((function e(t){var E=t.isThirdPartyOnHold,n=t.isCustomerOnHold,r=t.calls;R()(this,e),r&&(Object.values(r).forEach((function(e){ue.validateClassObject(e,ce)})),this.calls=r),this.isThirdPartyOnHold=E,this.isCustomerOnHold=n})),ne=O()((function e(t){var E=t.success,n=t.url,r=t.duration,a=t.callId;R()(this,e),E&&(ue.validateString(n),ue.validateString(a),r&&ue.validateNumber(r)),this.success=E,this.url=n,this.duration=r,this.callId=a})),re=O()((function e(t){var E=t.showLogin,n=void 0!==E&&E,r=t.loginFrameHeight,a=void 0===r?350:r,T=t.isSilentLogin,o=void 0!==T&&T,i=t.showStorageAccess,_=void 0!==i&&i;R()(this,e),this.showLogin=n,this.loginFrameHeight=a,this.isSilentLogin=!this.showLogin&&o,this.showStorageAccess=_})),ae=O()((function e(t){var E=t.isCallback,n=void 0!==E&&E;R()(this,e),this.isCallback=n})),Te=O()((function e(t){var E=t.success;R()(this,e),this.success=E})),oe=O()((function e(t){var E=t.success,n=t.loginFrameHeight,r=void 0===n?350:n;R()(this,e),this.success=E,this.loginFrameHeight=r})),ie=O()((function e(t){var E=t.callStateTimestamp,n=void 0===E?null:E,r=t.isOnHold,a=t.isMuted,T=void 0!==a&&a,o=t.isRecordingPaused,i=void 0!==o&&o,_=t.initialCallId,s=t.queueId,l=void 0===s?null:s,N=t.queueName,u=void 0===N?null:N,A=t.queueTimestamp,O=void 0===A?null:A,C=t.isSoftphoneCall,I=void 0===C||C,S=t.acceptEnabled,P=void 0===S||S,d=t.declineEnabled,p=void 0===d||d,L=t.muteEnabled,f=void 0===L||L,h=t.swapEnabled,V=void 0===h||h,v=t.conferenceEnabled,G=void 0===v||v,D=t.holdEnabled,b=void 0===D||D,Y=t.recordEnabled,U=void 0===Y||Y,g=t.addCallerEnabled,y=void 0===g||g,m=t.extensionEnabled,M=void 0===m||m,x=t.isReplayable,k=void 0===x||x,w=t.isBargeable,H=void 0!==w&&w,F=t.isExternalTransfer,j=t.showMuteButton,W=void 0===j||j,q=t.showRecordButton,K=void 0===q||q,Q=t.showAddCallerButton,J=void 0===Q||Q,X=t.showAddBlindTransferButton,$=void 0===X||X,z=t.showMergeButton,Z=void 0===z||z,ee=t.showSwapButton,te=void 0===ee||ee,Ee=t.removeParticipantVariant,ne=void 0===Ee?B.REMOVE_PARTICIPANT_VARIANT.ALWAYS:Ee,re=t.additionalFields,ae=void 0===re?null:re,Te=t.isMultiParty,oe=void 0!==Te&&Te;R()(this,e),n&&ue.validateDate(n),O&&ue.validateDate(O),l&&ue.validateString(l),u&&ue.validateString(u),ue.validateBoolean(i),ue.validateBoolean(T),ue.validateBoolean(I),ue.validateBoolean(P),ue.validateBoolean(p),ue.validateBoolean(f),ue.validateBoolean(V),ue.validateBoolean(G),ue.validateBoolean(b),ue.validateBoolean(U),ue.validateBoolean(y),ue.validateBoolean(M),ue.validateBoolean(H),ue.validateBoolean(W),ue.validateBoolean(K),ue.validateBoolean(J),ue.validateBoolean($),ue.validateBoolean(Z),ue.validateBoolean(te),void 0!==F&&ue.validateBoolean(F),ue.validateEnum(ne,Object.values(c.REMOVE_PARTICIPANT_VARIANT)),ae&&ue.validateString(ae),ue.validateBoolean(oe),this.callStateTimestamp=n,this.isRecordingPaused=i,this.isMuted=T,this.isOnHold=r,this.initialCallId=_,this.queueName=u,this.queueId=l,this.queueTimestamp=O,this.isSoftphoneCall=I,this.acceptEnabled=P,this.declineEnabled=p,this.muteEnabled=f,this.swapEnabled=V,this.conferenceEnabled=G,this.holdEnabled=b,this.recordEnabled=U,this.addCallerEnabled=y,this.extensionEnabled=M,this.isReplayable=k,this.isBargeable=H,this.isExternalTransfer=F,this.removeParticipantVariant=ne,this.showMuteButton=W,this.showRecordButton=K,this.showAddCallerButton=J,this.showAddBlindTransferButton=$,this.showMergeButton=Z,this.showSwapButton=te,this.additionalFields=ae,this.isMultiParty=oe})),_e=O()((function e(t){var E=t.phoneNumber,n=t.id,r=t.type,a=t.name,T=t.prefix,o=t.extension,i=t.endpointARN,_=t.queue,s=t.availability,l=t.recordId,N=t.description,u=t.queueWaitTime;R()(this,e),E&&ue.validateString(E),r&&ue.validateEnum(r,Object.values(c.CONTACT_TYPE)),n&&ue.validateString(n),a&&ue.validateString(a),T&&ue.validateString(T),o&&ue.validateString(o),s&&ue.validateEnum(s,Object.values(c.AGENT_AVAILABILITY)),l&&ue.validateString(l),N&&ue.validateString(N),u&&ue.validateString(u),this.phoneNumber=E,this.id=n,this.type=r,this.name=a,this.prefix=T,this.extension=o,this.endpointARN=i,this.queue=_,c.CONTACT_TYPE.AGENT===this.type?this.availability=s:this.availability=null,this.queueWaitTime=u,this.recordId=l,this.description=N})),se=O()((function e(t){var E=t.voiceCallId,n=t.participantType,r=t.dialerType,a=void 0===r?B.DIALER_TYPE.NONE:r,T=t.parentId,o=t.isOnHold,i=t.hasSupervisorBargedIn,_=void 0!==i&&i;R()(this,e),E&&ue.validateString(E),n&&ue.validateEnum(n,Object.values(c.PARTICIPANT_TYPE)),T&&ue.validateString(T),void 0!==o&&ue.validateBoolean(o),ue.validateBoolean(_),ue.validateEnum(a,Object.values(c.DIALER_TYPE)),this.voiceCallId=E,this.participantType=n,this.parentId=T,this.isOnHold=o,this.dialerType=a,this.hasSupervisorBargedIn=_})),ce=O()((function e(t){var E=t.callId,n=t.callType,r=t.contact,a=t.state,T=t.callAttributes,o=t.phoneNumber,i=t.callInfo,_=t.reason,s=t.closeCallOnError,l=t.agentStatus;R()(this,e),E&&(ue.validateString(E),this.callId=E),n&&(ue.validateEnum(n,Object.values(c.CALL_TYPE)),this.callType=n),o&&(ue.validateString(o),this.phoneNumber=o),i&&(ue.validateClassObject(i,ie),this.callInfo=i),r&&(ue.validateClassObject(r,_e),this.contact=r),_&&(this.reason=_),s&&(this.closeCallOnError=s),l&&(this.agentStatus=l),this.state=a,this.callAttributes=T})),le=function(){return O()((function e(){R()(this,e)}),[{key:"getActiveCalls",value:function(){throw new Error("Not implemented")}},{key:"acceptCall",value:function(e){throw new Error("Not implemented")}},{key:"declineCall",value:function(e){throw new Error("Not implemented")}},{key:"endCall",value:function(e,t){throw new Error("Not implemented")}},{key:"mute",value:function(){throw new Error("Not implemented")}},{key:"unmute",value:function(){throw new Error("Not implemented")}},{key:"hold",value:function(e){throw new Error("Not implemented")}},{key:"resume",value:function(e){throw new Error("Not implemented")}},{key:"dial",value:function(e,t){throw new Error("Not implemented")}},{key:"sendDigits",value:function(e){throw new Error("Not implemented")}},{key:"getPhoneContacts",value:function(e){throw new Error("Not implemented")}},{key:"swap",value:function(e,t){throw new Error("Not implemented")}},{key:"conference",value:function(e){throw new Error("Not implemented")}},{key:"addParticipant",value:function(e,t,E){throw new Error("Not implemented")}},{key:"pauseRecording",value:function(e){throw new Error("Not implemented")}},{key:"resumeRecording",value:function(e){throw new Error("Not implemented")}},{key:"getAgentConfig",value:function(){throw new Error("Not implemented")}},{key:"setAgentConfig",value:function(e){throw new Error("Not implemented")}},{key:"getCapabilities",value:function(){throw new Error("Not implemented")}},{key:"wrapUpCall",value:function(e){throw new Error("Not implemented")}},{key:"getSignedRecordingUrl",value:function(e,t,E){throw new Error("Not implemented")}},{key:"superviseCall",value:function(e){throw new Error("Not implemented")}},{key:"supervisorDisconnect",value:function(e){throw new Error("Not implemented")}},{key:"supervisorBargeIn",value:function(e){throw new Error("Not implemented")}}])}(),Ne=function(){return O()((function e(){R()(this,e)}),[{key:"init",value:function(e){throw new Error("Not implemented")}},{key:"getTelephonyConnector",value:function(){throw new Error("Not implemented")}},{key:"onAgentWorkEvent",value:function(e){throw new Error("Not implemented")}},{key:"setAgentStatus",value:function(e,t,E){throw new Error("Not implemented")}},{key:"getAgentStatus",value:function(){this.logMessageToVendor(c.LOG_LEVEL.INFO,"getAgentStatus API is NOT Implemented")}},{key:"logout",value:function(){throw new Error("Not implemented")}},{key:"handleMessage",value:function(e){throw new Error("Not implemented")}},{key:"downloadLogs",value:function(e){Y()}},{key:"logMessageToVendor",value:function(e,t,E){}},{key:"getContacts",value:function(e,t){throw new Error("Not implemented")}}])}(),ue=function(){return O()((function e(){R()(this,e)}),null,[{key:"validateString",value:function(e){if("string"!=typeof e)throw new Error("Invalid argument. Expecting a string but got ".concat(i()(e)));return this}},{key:"validateNumber",value:function(e){if("number"!=typeof e)throw new Error("Invalid argument. Expecting a number but got ".concat(i()(e)));return this}},{key:"validateBoolean",value:function(e){if("boolean"!=typeof e)throw new Error("Invalid argument. Expecting a boolean but got ".concat(i()(e)));return this}},{key:"validateEnum",value:function(e,t){if(!new RegExp(t.join("|"),"i").test(e))throw new Error("Invalid argument. Expecting a value from ".concat(JSON.stringify(t)," but got ").concat(e));return this}},{key:"validateDate",value:function(e){if(!(e instanceof Date))throw new Error("Invalid argument. Expecting a Date object but got ".concat(i()(e)));return this}},{key:"validateClassObject",value:function(e,t){if(!(e instanceof t))throw new Error("Invalid className. Expecting object of class ".concat(t," but got ").concat(i()(e)));return this}}])}(),Ae=O()((function e(t){var E=t.workItemId,n=t.workId,r=t.workEvent;R()(this,e),ue.validateEnum(r,Object.values(c.WORK_EVENT)),this.workEvent=r,this.workItemId=E,this.workId=n})),Oe=O()((function e(t){var E=t.statusId,n=t.statusApiName,r=t.statusName;R()(this,e),ue.validateString(E),n&&ue.validateString(n),r&&ue.validateString(r),this.statusId=E,this.statusApiName=n,this.statusName=r})),Ce=O()((function e(t){var E=t.statusId,n=t.statusType,r=t.statusName;R()(this,e),E&&ue.validateString(E),n&&ue.validateString(n),r&&ue.validateString(r),this.statusId=E,this.statusType=n,this.statusName=r})),Re=O()((function e(t){var E=t.newVendorStateInfo,n=t.oldVendorStateInfo;R()(this,e),ue.validateClassObject(E,Ce),ue.validateString(E.statusName),n&&ue.validateClassObject(n,Ce),this.newVendorStateInfo=E,this.oldVendorStateInfo=n})),Ie=O()((function e(t){var E=t.callId,n=t.voiceCallId,r=t.callType,a=t.from,T=t.to,o=t.supervisorName,i=t.isBargedIn;R()(this,e),ue.validateString(E),this.callId=E,this.voiceCallId=n,this.callType=r,this.from=a,this.to=T,this.supervisorName=o,this.isBargedIn=i})),Se=O()((function e(t){var E=t.callId,n=t.stats,r=t.isAudioStatsCompleted;R()(this,e),E&&(ue.validateString(E),this.callId=E),n&&(ue.validateClassObject(n,Array),n.forEach((function(e){return ue.validateClassObject(e,Pe)})),this.stats=n),r&&(ue.validateBoolean(r),this.isAudioStatsCompleted=r)})),Pe=O()((function e(t){var E=t.inputChannelStats,n=t.outputChannelStats;R()(this,e),E&&ue.validateClassObject(E,de),n&&ue.validateClassObject(n,de),this.inputChannelStats=E,this.outputChannelStats=n})),de=O()((function e(t){var E=t.packetsCount,n=t.packetsLost,r=t.jitterBufferMillis,a=t.roundTripTimeMillis;R()(this,e),E=null==E||E<0?0:E,n=null==n||n<0?0:n,r=null==r||r<0?0:r,a=null==a||a<0?0:a,this.statsCount=0,this.packetsCount=E,this.packetsLost=n,this.jitterBufferMillis=r,this.roundTripTimeMillis=a})),pe=O()((function e(t){var E=t.call;R()(this,e),ue.validateClassObject(E,ce),this.call=E})),Le=function(e){function t(e){var E=e.calls;return R()(this,t),y(this,t,[{calls:E}])}return L()(t,e),O()(t)}(te),fe=O()((function e(t){var E=t.success,n=void 0!==E&&E,r=t.showLogin,a=void 0!==r&&r,T=t.loginFrameHeight,o=void 0===T?350:T;R()(this,e),this.success=n,this.showLogin=a,this.loginFrameHeight=o})),he=O()((function e(t){if(R()(this,e),t){var E=t.contains,n=void 0===E?null:E,r=t.limit,a=void 0===r?50:r,T=t.offset,o=void 0===T?0:T,i=t.types,_=void 0===i?[]:i;n&&ue.validateString(n),ue.validateNumber(a),ue.validateNumber(o);var s,l=U(_);try{for(l.s();!(s=l.n()).done;){s.value;ue.validateEnum(_,Object.values(c.CONTACTS_FILTER_TYPES))}}catch(e){l.e(e)}finally{l.f()}this.contains=n,this.limit=a,this.offset=o,this.types=_}})),Ve=!1;function ve(e){var t=function(e){var t=x[e];return{packetsCount:t.packetsCount/t.statsCount,packetsLost:t.packetsLost/t.statsCount,jitterBufferMillis:t.jitterBufferMillis/t.statsCount,roundTripTimeMillis:t.roundTripTimeMillis/t.statsCount}}(e),E=t.roundTripTimeMillis+2*t.jitterBufferMillis+10,n=0;return n=E<160?93.2-E/40:93.2-(E-120)/10,1+.035*(n-=t.packetsLost/t.packetsCount*2.5)+7e-6*n*(n-60)*(100-n)}function Ge(){Ve=!0}function De(){if(Ve&&x){var e=ve("inputChannelStats"),t=ve("outputChannelStats");return x=null,isNaN(t)&&isNaN(e)?0:isNaN(t)?e:isNaN(e)?t:Math.min(e,t)}}function be(){x=new Pe({inputChannelStats:new de({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0}),outputChannelStats:new de({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0})})}function Ye(e){x&&e.forEach((function(e){e.inputChannelStats&&(x.inputChannelStats.statsCount++,x.inputChannelStats.packetsCount+=0|e.inputChannelStats.packetsCount,x.inputChannelStats.packetsLost+=0|e.inputChannelStats.packetsLost,x.inputChannelStats.jitterBufferMillis+=0|e.inputChannelStats.jitterBufferMillis,x.inputChannelStats.roundTripTimeMillis+=0|e.inputChannelStats.roundTripTimeMillis),e.outputChannelStats&&(x.outputChannelStats.statsCount++,x.outputChannelStats.packetsCount+=0|e.outputChannelStats.packetsCount,x.outputChannelStats.packetsLost+=0|e.outputChannelStats.packetsLost,x.outputChannelStats.jitterBufferMillis+=0|e.outputChannelStats.jitterBufferMillis,x.outputChannelStats.roundTripTimeMillis+=0|e.outputChannelStats.roundTripTimeMillis)}))}function Ue(e){return e&&e.type?e.type:e}function ge(e){return e&&e.message?e.message:e}function ye(e,t,E){var n=function e(t){if(t){if("function"==typeof t)return;if("object"===i()(t)){var E=Array.isArray(t),n=E?[]:{};if(E)t.forEach((function(t){n.push(e(t))}));else for(var r in t)"phoneNumber"!==r&&"number"!==r&&"name"!==r&&"callAttributes"!==r&&(n[r]=e(t[r]));return n}}return t}(t);D({eventType:e,payload:t},E?c.LOG_LEVEL.ERROR:c.LOG_LEVEL.INFO,c.LOG_SOURCE.SYSTEM),k.postMessage({type:c.MESSAGE_TYPE.LOG,payload:{eventType:e,payload:n,isError:E}})}function me(e,t){var E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];k.postMessage({type:c.MESSAGE_TYPE.TELEPHONY_EVENT_DISPATCHED,payload:{telephonyEventType:e,telephonyEventPayload:t}}),E&&ye(e,t,!1)}function Me(e,t,E){console.error("SCV dispatched error ".concat(e," for eventType ").concat(E),t),me(c.EVENT_TYPE.ERROR,{message:e},!1),ye(E,{errorType:e,error:t},!0)}function xe(e,t){var E={customError:{labelName:e.labelName,namespace:e.namespace,message:e.message}};console.error("SCV dispatched custom error for eventType ".concat(t),E),me(c.EVENT_TYPE.ERROR,E,!1),ye(t,{errorType:c.ERROR_TYPE.CUSTOM_ERROR,error:e},!0)}function ke(e,t){console.info("SCV info message dispatched for eventType ".concat(e," with payload ").concat(JSON.stringify(t))),me(c.EVENT_TYPE.INFO,{message:e},!1),ye(e,t,!1)}function we(){return He.apply(this,arguments)}function He(){return(He=T()(s.a.mark((function e(){var t,E,n,a,T,o,i,_;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.getTelephonyConnector();case 3:return E=e.sent,e.next=6,E.getAgentConfig();case 6:return n=e.sent,e.next=9,E.getCapabilities();case 9:return a=e.sent,ue.validateClassObject(n,Q),ue.validateClassObject(a,K),a.supportsMos&&Ge(),e.next=15,E.getActiveCalls();case 15:T=e.sent,ue.validateClassObject(T,q),o=T.activeCalls,i=c.MESSAGE_TYPE.CONNECTOR_READY,_={agentConfig:r()(r()({},c.AGENT_CONFIG_TYPE.PHONES,n.phones),c.AGENT_CONFIG_TYPE.SELECTED_PHONE,n.selectedPhone),capabilities:(t={},r()(r()(r()(r()(r()(r()(r()(r()(r()(r()(t,c.CAPABILITIES_TYPE.MUTE,a.hasMute),c.CAPABILITIES_TYPE.RECORD,a.hasRecord),c.CAPABILITIES_TYPE.MERGE,a.hasMerge),c.CAPABILITIES_TYPE.SWAP,a.hasSwap),c.CAPABILITIES_TYPE.SIGNED_RECORDING_URL,a.hasSignedRecordingUrl),c.CAPABILITIES_TYPE.DEBUG_ENABLED,a.debugEnabled),c.CAPABILITIES_TYPE.CONTACT_SEARCH,a.hasContactSearch),c.CAPABILITIES_TYPE.VENDOR_PROVIDED_AVAILABILITY,a.hasAgentAvailability),c.CAPABILITIES_TYPE.VENDOR_PROVIDED_QUEUE_WAIT_TIME,a.hasQueueWaitTime),c.CAPABILITIES_TYPE.SUPERVISOR_LISTEN_IN,a.hasSupervisorListenIn),r()(r()(r()(r()(r()(r()(r()(t,c.CAPABILITIES_TYPE.SUPERVISOR_BARGE_IN,a.hasSupervisorBargeIn),c.CAPABILITIES_TYPE.MOS,a.supportsMos),c.CAPABILITIES_TYPE.BLIND_TRANSFER,a.hasBlindTransfer),c.CAPABILITIES_TYPE.TRANSFER_TO_OMNI_FLOW,a.hasTransferToOmniFlow),c.CAPABILITIES_TYPE.PENDING_STATUS_CHANGE,a.hasPendingStatusChange),c.CAPABILITIES_TYPE.PHONEBOOK,a.hasPhoneBook),c.CAPABILITIES_TYPE.SFDC_PENDING_STATE,a.hasSFDCPendingState)),callInProgress:o.length>0?o[0]:null},k.postMessage({type:i,payload:_}),ye(i,_,!1),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),k.postMessage({type:c.MESSAGE_TYPE.CONNECTOR_READY,payload:{}}),ye(c.MESSAGE_TYPE.CONNECTOR_READY,{},!1);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}function Be(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=T()(s.a.mark((function e(t){var E,n,r,a,T,o,i,_,l,N,u,A,O,C,R,I,S,P,d,p,L,f,h,V,v,G,D,Y,U,g,y,m,M,x,k,B,j,W,K,Q,J,X,$,Ee,re,ie,se,ce,le,Ne,Ae,Oe,Re,Ie,Se,Pe,de,fe,he,Ve,ve,Ge,De,Ye,we,He,Be,Fe,je,We,qe,Ke,Qe,Je,Xe,ze,Ze,et,tt,Et;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(E=t.data.type)!==c.MESSAGE_TYPE.LOG&&ye(E,t.data,!1),e.t0=E,e.next=e.t0===c.MESSAGE_TYPE.VOICE.ACCEPT_CALL?5:e.t0===c.MESSAGE_TYPE.VOICE.DECLINE_CALL?32:e.t0===c.MESSAGE_TYPE.VOICE.END_CALL?48:e.t0===c.MESSAGE_TYPE.VOICE.MUTE?69:e.t0===c.MESSAGE_TYPE.VOICE.UNMUTE?83:e.t0===c.MESSAGE_TYPE.VOICE.HOLD?97:e.t0===c.MESSAGE_TYPE.VOICE.RESUME?121:e.t0===c.MESSAGE_TYPE.SET_AGENT_STATUS?145:e.t0===c.MESSAGE_TYPE.GET_AGENT_STATUS?171:e.t0===c.MESSAGE_TYPE.VOICE.DIAL?183:e.t0===c.MESSAGE_TYPE.VOICE.SEND_DIGITS?213:e.t0===c.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS?225:e.t0===c.MESSAGE_TYPE.GET_CONTACTS?241:e.t0===c.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS?254:e.t0===c.MESSAGE_TYPE.VOICE.CONFERENCE?268:e.t0===c.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT?282:e.t0===c.MESSAGE_TYPE.VOICE.PAUSE_RECORDING?308:e.t0===c.MESSAGE_TYPE.VOICE.RESUME_RECORDING?322:e.t0===c.MESSAGE_TYPE.LOGOUT?336:e.t0===c.MESSAGE_TYPE.MESSAGE?349:e.t0===c.MESSAGE_TYPE.VOICE.WRAP_UP_CALL?351:e.t0===c.MESSAGE_TYPE.VOICE.AGENT_AVAILABLE?356:e.t0===c.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG?398:e.t0===c.MESSAGE_TYPE.VOICE.GET_SIGNED_RECORDING_URL?413:e.t0===c.MESSAGE_TYPE.DOWNLOAD_VENDOR_LOGS?431:e.t0===c.MESSAGE_TYPE.LOG?433:e.t0===c.MESSAGE_TYPE.VOICE.SUPERVISE_CALL?436:e.t0===c.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT?456:e.t0===c.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN?472:e.t0===c.MESSAGE_TYPE.AGENT_WORK_EVENT?487:490;break;case 5:if(e.prev=5,!t.data.call||!t.data.call.callType||t.data.call.callType.toLowerCase()!==c.CALL_TYPE.OUTBOUND.toLowerCase()&&t.data.call.callType.toLowerCase()!==c.CALL_TYPE.DIALED_CALLBACK.toLowerCase()){e.next=8;break}return e.abrupt("return");case 8:return be(),e.next=11,w.getTelephonyConnector();case 11:if(n=e.sent,!H){e.next=19;break}return e.next=15,n.supervisorDisconnect();case 15:r=e.sent,ue.validateClassObject(r,Le),H=!1,me(c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,r.calls);case 19:return e.next=21,n.acceptCall(t.data.call);case 21:a=e.sent,ue.validateClassObject(a,ee),me((T=a.call).callType.toLowerCase()===c.CALL_TYPE.CALLBACK.toLowerCase()?c.EVENT_TYPE.VOICE.CALL_STARTED:c.EVENT_TYPE.VOICE.CALL_CONNECTED,T),e.next=31;break;case 27:e.prev=27,e.t1=e.catch(5),H=!1,e.t1 instanceof F?xe(e.t1,c.MESSAGE_TYPE.VOICE.ACCEPT_CALL):ke(c.INFO_TYPE.VOICE.CAN_NOT_ACCEPT_THE_CALL,{messagetype:c.MESSAGE_TYPE.VOICE.ACCEPT_CALL,additionalInfo:e.t1});case 31:return e.abrupt("break",491);case 32:return e.prev=32,e.next=35,w.getTelephonyConnector();case 35:return o=e.sent,e.next=38,o.declineCall(t.data.call);case 38:i=e.sent,ue.validateClassObject(i,ee),_=i.call,me(c.EVENT_TYPE.VOICE.HANGUP,_),e.next=47;break;case 44:e.prev=44,e.t2=e.catch(32),e.t2 instanceof F?xe(e.t2,c.MESSAGE_TYPE.VOICE.DECLINE_CALL):Me(c.ERROR_TYPE.VOICE.CAN_NOT_DECLINE_THE_CALL,e.t2,c.MESSAGE_TYPE.VOICE.DECLINE_CALL);case 47:return e.abrupt("break",491);case 48:return e.prev=48,e.next=51,w.getTelephonyConnector();case 51:return l=e.sent,e.next=54,l.endCall(t.data.call,t.data.agentStatus);case 54:return N=e.sent,ue.validateClassObject(N,te),e.next=58,l.getActiveCalls();case 58:u=e.sent,ue.validateClassObject(u,q),A=u.activeCalls,O=N.calls,0===A.length?me(c.EVENT_TYPE.VOICE.HANGUP,O):me(c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,O.length>0&&O[0]),e.next=68;break;case 65:e.prev=65,e.t3=e.catch(48),e.t3 instanceof F?xe(e.t3,c.MESSAGE_TYPE.VOICE.END_CALL):Me(c.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,e.t3,c.MESSAGE_TYPE.VOICE.END_CALL);case 68:return e.abrupt("break",491);case 69:return e.prev=69,e.next=72,w.getTelephonyConnector();case 72:return C=e.sent,e.next=75,C.mute();case 75:R=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.MUTE_TOGGLE,payload:R}),e.next=82;break;case 79:e.prev=79,e.t4=e.catch(69),e.t4 instanceof F?xe(e.t4,c.MESSAGE_TYPE.VOICE.MUTE):Me(c.ERROR_TYPE.VOICE.CAN_NOT_MUTE_CALL,e.t4,c.MESSAGE_TYPE.VOICE.MUTE);case 82:return e.abrupt("break",491);case 83:return e.prev=83,e.next=86,w.getTelephonyConnector();case 86:return I=e.sent,e.next=89,I.unmute();case 89:S=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.MUTE_TOGGLE,payload:S}),e.next=96;break;case 93:e.prev=93,e.t5=e.catch(83),e.t5 instanceof F?xe(e.t5,c.MESSAGE_TYPE.VOICE.UNMUTE):Me(c.ERROR_TYPE.VOICE.CAN_NOT_UNMUTE_CALL,e.t5,c.MESSAGE_TYPE.VOICE.UNMUTE);case 96:return e.abrupt("break",491);case 97:return e.prev=97,e.next=100,w.getTelephonyConnector();case 100:return P=e.sent,e.next=103,P.hold(t.data.call);case 103:d=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.HOLD_TOGGLE,payload:d}),e.next=120;break;case 107:if(e.prev=107,e.t6=e.catch(97),!(e.t6 instanceof F)){e.next=113;break}xe(e.t6,c.MESSAGE_TYPE.VOICE.HOLD),e.next=120;break;case 113:e.t7=Ue(e.t6),e.next=e.t7===c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?116:118;break;case 116:return Me(c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,ge(e.t6),c.MESSAGE_TYPE.VOICE.HOLD),e.abrupt("break",120);case 118:return Me(c.ERROR_TYPE.VOICE.CAN_NOT_HOLD_CALL,ge(e.t6),c.MESSAGE_TYPE.VOICE.HOLD),e.abrupt("break",120);case 120:return e.abrupt("break",491);case 121:return e.prev=121,e.next=124,w.getTelephonyConnector();case 124:return p=e.sent,e.next=127,p.resume(t.data.call);case 127:L=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.HOLD_TOGGLE,payload:L}),e.next=144;break;case 131:if(e.prev=131,e.t8=e.catch(121),!(e.t8 instanceof F)){e.next=137;break}xe(e.t8,c.MESSAGE_TYPE.VOICE.RESUME),e.next=144;break;case 137:e.t9=Ue(e.t8),e.next=e.t9===c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?140:142;break;case 140:return Me(c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,ge(e.t8),c.MESSAGE_TYPE.VOICE.RESUME),e.abrupt("break",144);case 142:return Me(c.ERROR_TYPE.VOICE.CAN_NOT_RESUME_CALL,ge(e.t8),c.MESSAGE_TYPE.VOICE.RESUME),e.abrupt("break",144);case 144:return e.abrupt("break",491);case 145:return e.prev=145,f=t.data.statusInfo||{},h=t.data.enqueueNextState||!1,e.next=150,w.setAgentStatus(t.data.agentStatus,f,h);case 150:V=e.sent,ue.validateClassObject(V,Te),v=V.success,me(c.EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:v}),e.next=170;break;case 156:if(e.prev=156,e.t10=e.catch(145),!(e.t10 instanceof F)){e.next=162;break}xe(e.t10,c.MESSAGE_TYPE.SET_AGENT_STATUS),e.next=170;break;case 162:t.data.statusInfo&&me(c.EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:!1}),e.t11=Ue(e.t10),e.next=e.t11===c.ERROR_TYPE.INVALID_AGENT_STATUS?166:168;break;case 166:return Me(c.ERROR_TYPE.INVALID_AGENT_STATUS,ge(e.t10),c.MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("break",170);case 168:return Me(c.ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,ge(e.t10),c.MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("break",170);case 170:return e.abrupt("break",491);case 171:return e.prev=171,e.next=174,w.getAgentStatus();case 174:G=e.sent,ue.validateClassObject(G,Ce),me(c.EVENT_TYPE.GET_AGENT_STATUS_RESULT,G),e.next=182;break;case 179:e.prev=179,e.t12=e.catch(171),e.t12 instanceof F?xe(e.t12,c.MESSAGE_TYPE.GET_AGENT_STATUS):Me(c.ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,ge(e.t12),c.MESSAGE_TYPE.GET_AGENT_STATUS);case 182:return e.abrupt("break",491);case 183:return e.prev=183,e.next=186,w.getTelephonyConnector();case 186:return D=e.sent,Y=t.data.params&&t.data.params.indexOf(c.DIAL_OPTIONS.CALLBACK)>=0,e.next=190,D.dial(new _e(t.data.contact),new ae({isCallback:Y}));case 190:U=e.sent,ue.validateClassObject(U,ee),g=U.call,c.CALL_TYPE.DIALED_CALLBACK.toLowerCase()===g.callType.toLowerCase()&&Y?me(c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,g):me(c.EVENT_TYPE.VOICE.CALL_STARTED,g),e.next=212;break;case 196:if(e.prev=196,e.t13=e.catch(183),me(c.EVENT_TYPE.VOICE.CALL_FAILED),!(e.t13 instanceof F)){e.next=203;break}xe(e.t13,c.MESSAGE_TYPE.VOICE.DIAL),e.next=212;break;case 203:e.t14=Ue(e.t13),e.next=e.t14===c.ERROR_TYPE.VOICE.INVALID_DESTINATION?206:e.t14===c.ERROR_TYPE.GENERIC_ERROR?208:210;break;case 206:return Me(c.ERROR_TYPE.VOICE.INVALID_DESTINATION,ge(e.t13),c.MESSAGE_TYPE.VOICE.DIAL),e.abrupt("break",212);case 208:return Me(c.ERROR_TYPE.GENERIC_ERROR,ge(e.t13),c.MESSAGE_TYPE.VOICE.DIAL),e.abrupt("break",212);case 210:return Me(c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,ge(e.t13),c.MESSAGE_TYPE.VOICE.DIAL),e.abrupt("break",212);case 212:return e.abrupt("break",491);case 213:return e.prev=213,e.next=216,w.getTelephonyConnector();case 216:return y=e.sent,e.next=219,y.sendDigits(t.data.digits);case 219:e.next=224;break;case 221:e.prev=221,e.t15=e.catch(213),ye(c.MESSAGE_TYPE.VOICE.SEND_DIGITS,t.data.digits,!0);case 224:return e.abrupt("break",491);case 225:return e.prev=225,e.next=228,w.getTelephonyConnector();case 228:return m=e.sent,e.next=231,m.getPhoneContacts(t.data.filter);case 231:M=e.sent,ue.validateClassObject(M,Z),x=M.contacts.map((function(e){return{id:e.id,type:e.type,name:e.name,phoneNumber:e.phoneNumber,prefix:e.prefix,extension:e.extension,endpointARN:e.endpointARN,queue:e.queue,availability:e.availability,queueWaitTime:e.queueWaitTime,recordId:e.recordId,description:e.description}})),me(c.EVENT_TYPE.VOICE.PHONE_CONTACTS,{contacts:x,contactTypes:M.contactTypes}),e.next=240;break;case 237:e.prev=237,e.t16=e.catch(225),e.t16 instanceof F?xe(e.t16,c.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS):Me(c.ERROR_TYPE.VOICE.CAN_NOT_GET_PHONE_CONTACTS,e.t16,c.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS);case 240:return e.abrupt("break",491);case 241:return e.prev=241,e.next=244,w.getContacts(t.data.filter,t.data.workItemId);case 244:k=e.sent,ue.validateClassObject(k,z),B=k.contacts.map((function(e){return{id:e.id,type:e.type,name:e.name,phoneNumber:e.phoneNumber,prefix:e.prefix,extension:e.extension,endpointARN:e.endpointARN,queue:e.queue,availability:e.availability,queueWaitTime:e.queueWaitTime,recordId:e.recordId,description:e.description}})),me(c.EVENT_TYPE.GET_CONTACTS_RESULT,{contacts:B,contactTypes:k.contactTypes}),e.next=253;break;case 250:e.prev=250,e.t17=e.catch(241),xe(e.t17,c.MESSAGE_TYPE.GET_CONTACTS);case 253:return e.abrupt("break",491);case 254:return e.prev=254,e.next=257,w.getTelephonyConnector();case 257:return j=e.sent,e.next=260,j.swap(t.data.callToHold,t.data.callToResume);case 260:W=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED,payload:W}),e.next=267;break;case 264:e.prev=264,e.t18=e.catch(254),e.t18 instanceof F?xe(e.t18,c.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS):Me(c.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,e.t18,c.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS);case 267:return e.abrupt("break",491);case 268:return e.prev=268,e.next=271,w.getTelephonyConnector();case 271:return K=e.sent,e.next=274,K.conference(t.data.calls);case 274:Q=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED,payload:Q}),e.next=281;break;case 278:e.prev=278,e.t19=e.catch(268),e.t19 instanceof F?xe(e.t19,c.MESSAGE_TYPE.VOICE.CONFERENCE):Me(c.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,e.t19,c.MESSAGE_TYPE.VOICE.CONFERENCE);case 281:return e.abrupt("break",491);case 282:return e.prev=282,e.next=285,w.getTelephonyConnector();case 285:return J=e.sent,e.next=288,J.addParticipant(new _e(t.data.contact),t.data.call,t.data.isBlindTransfer);case 288:X=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,payload:X}),t.data.isBlindTransfer&&me(c.EVENT_TYPE.VOICE.HANGUP,t.data.call),e.next=307;break;case 293:if(e.prev=293,e.t20=e.catch(282),me(c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,{reason:c.EVENT_TYPE.ERROR.toLowerCase()}),!(e.t20 instanceof F)){e.next=300;break}xe(e.t20,c.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),e.next=307;break;case 300:e.t21=Ue(e.t20),e.next=e.t21===c.ERROR_TYPE.VOICE.INVALID_DESTINATION?303:305;break;case 303:return Me(c.ERROR_TYPE.VOICE.INVALID_DESTINATION,ge(e.t20),c.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),e.abrupt("break",307);case 305:return Me(c.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,ge(e.t20),c.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),e.abrupt("break",307);case 307:return e.abrupt("break",491);case 308:return e.prev=308,e.next=311,w.getTelephonyConnector();case 311:return $=e.sent,e.next=314,$.pauseRecording(t.data.call);case 314:Ee=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.RECORDING_TOGGLE,payload:Ee}),e.next=321;break;case 318:e.prev=318,e.t22=e.catch(308),e.t22 instanceof F?xe(e.t22,c.MESSAGE_TYPE.VOICE.PAUSE_RECORDING):Me(c.ERROR_TYPE.VOICE.CAN_NOT_PAUSE_RECORDING,e.t22,c.MESSAGE_TYPE.VOICE.PAUSE_RECORDING);case 321:return e.abrupt("break",491);case 322:return e.prev=322,e.next=325,w.getTelephonyConnector();case 325:return re=e.sent,e.next=328,re.resumeRecording(t.data.call);case 328:ie=e.sent,$e({eventType:c.EVENT_TYPE.VOICE.RECORDING_TOGGLE,payload:ie}),e.next=335;break;case 332:e.prev=332,e.t23=e.catch(322),e.t23 instanceof F?xe(e.t23,c.MESSAGE_TYPE.VOICE.RESUME_RECORDING):Me(c.ERROR_TYPE.VOICE.CAN_NOT_RESUME_RECORDING,e.t23,c.MESSAGE_TYPE.VOICE.RESUME_RECORDING);case 335:return e.abrupt("break",491);case 336:return e.prev=336,e.next=339,w.logout();case 339:se=e.sent,ue.validateClassObject(se,oe),ce=se.success,le=se.loginFrameHeight,me(c.EVENT_TYPE.LOGOUT_RESULT,{success:ce,loginFrameHeight:le}),e.next=348;break;case 345:e.prev=345,e.t24=e.catch(336),e.t24 instanceof F?xe(e.t24,c.MESSAGE_TYPE.LOGOUT):Me(c.ERROR_TYPE.CAN_NOT_LOG_OUT,e.t24,c.MESSAGE_TYPE.LOGOUT);case 348:return e.abrupt("break",491);case 349:return w.handleMessage(t.data.message),e.abrupt("break",491);case 351:return e.next=353,w.getTelephonyConnector();case 353:return e.sent.wrapUpCall(t.data.call),e.abrupt("break",491);case 356:if(!t.data||!t.data.isAvailable){e.next=397;break}return e.next=359,w.getTelephonyConnector();case 359:return Ne=e.sent,e.next=362,Ne.getActiveCalls();case 362:Ae=e.sent,ue.validateClassObject(Ae,q),Oe=Ae.activeCalls,e.t25=s.a.keys(Oe);case 366:if((e.t26=e.t25()).done){e.next=397;break}if(Re=e.t26.value,Ie=Oe[Re],Se=!Ie.callInfo||Ie.callInfo.isReplayable,Pe=Ie.callAttributes&&Ie.callAttributes.participantType===c.PARTICIPANT_TYPE.SUPERVISOR,de=Pe&&Ie.callAttributes&&Ie.callAttributes.hasSupervisorBargedIn,!Se){e.next=395;break}Ie.isReplayedCall=!0,e.t27=Ie.state,e.next=e.t27===c.CALL_STATE.CONNECTED?377:e.t27===c.CALL_STATE.RINGING?384:e.t27===c.CALL_STATE.TRANSFERRING?390:e.t27===c.CALL_STATE.TRANSFERRED?392:394;break;case 377:if(!Pe){e.next=382;break}return H=!0,me(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,Ie),de&&me(c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,Ie),e.abrupt("break",395);case 382:return me(c.EVENT_TYPE.VOICE.CALL_CONNECTED,Ie),e.abrupt("break",395);case 384:if(!Pe){e.next=388;break}return H=!0,me(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,Ie),e.abrupt("break",395);case 388:return me(c.EVENT_TYPE.VOICE.CALL_STARTED,Ie),e.abrupt("break",395);case 390:return me(c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,{phoneNumber:Ie.contact.phoneNumber,callInfo:Ie.callInfo,initialCallHasEnded:Ie.callAttributes.initialCallHasEnded,callId:Ie.callId}),e.abrupt("break",395);case 392:return me(c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{phoneNumber:Ie.contact.phoneNumber,callInfo:Ie.callInfo,initialCallHasEnded:Ie.callAttributes.initialCallHasEnded,callId:Ie.callId}),e.abrupt("break",395);case 394:return e.abrupt("break",395);case 395:e.next=366;break;case 397:return e.abrupt("break",491);case 398:return e.prev=398,e.next=401,w.getTelephonyConnector();case 401:return fe=e.sent,e.next=404,fe.setAgentConfig(t.data.config);case 404:he=e.sent,ue.validateClassObject(he,Te),me(c.EVENT_TYPE.VOICE.AGENT_CONFIG_UPDATED,he),e.next=412;break;case 409:e.prev=409,e.t28=e.catch(398),e.t28 instanceof F?xe(e.t28,c.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG):Me(Ue(e.t28)===c.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER?c.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER:c.ERROR_TYPE.VOICE.CAN_NOT_SET_AGENT_CONFIG,ge(e.t28),c.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG);case 412:return e.abrupt("break",491);case 413:return e.prev=413,Ve=t.data,ve=Ve.recordingUrl,Ge=Ve.vendorCallKey,De=Ve.callId,e.next=417,w.getTelephonyConnector();case 417:return Ye=e.sent,e.next=420,Ye.getSignedRecordingUrl(ve,Ge,De);case 420:we=e.sent,ue.validateClassObject(we,ne),me(c.EVENT_TYPE.VOICE.SIGNED_RECORDING_URL,we),e.next=430;break;case 425:e.prev=425,e.t29=e.catch(413),He=new ne({success:!1}),me(c.EVENT_TYPE.VOICE.SIGNED_RECORDING_URL,He,!1),ye(c.MESSAGE_TYPE.VOICE.GET_SIGNED_RECORDING_URL,He,!0);case 430:return e.abrupt("break",491);case 431:return w.downloadLogs(b()),e.abrupt("break",491);case 433:return Be=t.data,Fe=Be.logLevel,je=Be.logMessage,We=Be.payload,w.logMessageToVendor(Fe,je,We),e.abrupt("break",491);case 436:return e.prev=436,H=!0,e.next=440,w.getTelephonyConnector();case 440:return qe=e.sent,e.next=443,qe.superviseCall(t.data.call);case 443:return Ke=e.sent,ue.validateClassObject(Ke,pe),e.next=447,qe.getAgentConfig();case 447:e.sent.selectedPhone.type===c.PHONE_TYPE.SOFT_PHONE?me(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,Ke.call):me(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,Ke.call),e.next=455;break;case 451:e.prev=451,e.t30=e.catch(436),H=!1,e.t30 instanceof F?xe(e.t30,c.MESSAGE_TYPE.VOICE.SUPERVISE_CALL):Me(c.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,e.t30,c.MESSAGE_TYPE.VOICE.SUPERVISE_CALL);case 455:return e.abrupt("break",491);case 456:return e.prev=456,e.next=459,w.getTelephonyConnector();case 459:return Qe=e.sent,e.next=462,Qe.supervisorDisconnect(t.data.call);case 462:Je=e.sent,ue.validateClassObject(Je,Le),H=!1,me(c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,Je.calls),e.next=471;break;case 468:e.prev=468,e.t31=e.catch(456),e.t31 instanceof F?xe(e.t31,c.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT):Me(c.ERROR_TYPE.VOICE.CAN_NOT_DISCONNECT_SUPERVISOR,e.t31,c.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT);case 471:return e.abrupt("break",491);case 472:return e.prev=472,e.next=475,w.getTelephonyConnector();case 475:return Xe=e.sent,e.next=478,Xe.supervisorBargeIn(t.data.call);case 478:ze=e.sent,ue.validateClassObject(ze,pe),me(c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,ze.call),e.next=486;break;case 483:e.prev=483,e.t32=e.catch(472),e.t32 instanceof F?xe(e.t32,c.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN):Me(c.ERROR_TYPE.VOICE.CAN_NOT_BARGE_IN_SUPERVISOR,e.t32,c.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN);case 486:return e.abrupt("break",491);case 487:return Ze=t.data.agentWork,et=Ze.workItemId,tt=Ze.workId,Et=Ze.workEvent,w.onAgentWorkEvent({workItemId:et,workId:tt,workEvent:Et}),e.abrupt("break",491);case 490:return e.abrupt("break",491);case 491:case"end":return e.stop()}}),e,null,[[5,27],[32,44],[48,65],[69,79],[83,93],[97,107],[121,131],[145,156],[171,179],[183,196],[213,221],[225,237],[241,250],[254,264],[268,278],[282,293],[308,318],[322,332],[336,345],[398,409],[413,425],[436,451],[456,468],[472,483]])})))).apply(this,arguments)}function je(e){return We.apply(this,arguments)}function We(){return(We=T()(s.a.mark((function e(t){var E,n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.data.type,e.next=e.t0===c.MESSAGE_TYPE.SETUP_CONNECTOR?3:33;break;case 3:if(E=/^https:\/\/[\w-.]+(lightning\.[\w]+\.soma\.force\.com|\.lightning\.force\.com|\.lightning\.pc-rnd\.force\.com|\.stm\.force\.com|\.vf\.force\.com|\.salesforce\.com|\.my\.salesforce-sites\.com|\.lightning\.localhost\.[\w]+\.force.com)$/,n=new URL(t.origin),r=n.protocol+"//"+n.hostname,!E.test(r)){e.next=31;break}return(k=t.ports[0]).onmessage=Be,ye(c.MESSAGE_TYPE.SETUP_CONNECTOR,qe(t.data.connectorConfig),!1),e.prev=10,e.next=13,w.init(t.data.connectorConfig);case 13:a=e.sent,ue.validateClassObject(a,re),a.showStorageAccess?me(c.EVENT_TYPE.SHOW_STORAGE_ACCESS,{success:!0}):a.showLogin?me(c.EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:a.loginFrameHeight}):a.isSilentLogin?me(c.EVENT_TYPE.SHOW_LOGIN,{isSilentLogin:a.isSilentLogin}):we(),e.next=31;break;case 18:if(e.prev=18,e.t1=e.catch(10),!(e.t1 instanceof F)){e.next=24;break}xe(e.t1,c.MESSAGE_TYPE.SETUP_CONNECTOR),e.next=31;break;case 24:e.t2=Ue(e.t1),e.next=e.t2===c.ERROR_TYPE.VOICE.INVALID_PARAMS?27:29;break;case 27:return Me(c.ERROR_TYPE.VOICE.INVALID_PARAMS,ge(e.t1),c.MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("break",31);case 29:return Me(c.ERROR_TYPE.CAN_NOT_LOG_IN,ge(e.t1),c.MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("break",31);case 31:return window.removeEventListener("message",je),e.abrupt("break",34);case 33:return e.abrupt("break",34);case 34:case"end":return e.stop()}}),e,null,[[10,18]])})))).apply(this,arguments)}function qe(e){e=e||{};var t={};return l.forEach((function(E){e.hasOwnProperty(E)&&(t[E]=e[E])})),N.forEach((function(E){Object.keys(e).forEach((function(n){n.startsWith(E)&&!u.includes(n)&&(t[n]=e[n])}))})),t}function Ke(e,t,E,n){try{return ue.validateClassObject(e,t),!0}catch(e){return E&&Me(E,e,n),!1}}function Qe(e){w=e,window.addEventListener("message",je)}function Je(e){ye(e.eventType,e.payload,e.isError)}function Xe(e){var t=e.eventType,E=e.error;if(E instanceof F)xe(E,t);else switch(t){case c.EVENT_TYPE.LOGIN_RESULT:Me(c.ERROR_TYPE.CAN_NOT_LOG_IN,E,c.EVENT_TYPE.LOGIN_RESULT);break;case c.EVENT_TYPE.LOGOUT_RESULT:Me(c.ERROR_TYPE.CAN_NOT_LOG_OUT,E,c.EVENT_TYPE.LOGOUT_RESULT);break;case c.EVENT_TYPE.VOICE.CALL_STARTED:Me(c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,c.EVENT_TYPE.VOICE.CALL_STARTED);break;case c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED:Me(c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED);break;case c.EVENT_TYPE.VOICE.CALL_CONNECTED:Me(c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,c.EVENT_TYPE.VOICE.CALL_CONNECTED);break;case c.EVENT_TYPE.VOICE.HANGUP:Me(c.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,E,c.EVENT_TYPE.VOICE.HANGUP);break;case c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED:Me(Ue(E)===c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT:c.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,E,c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED);break;case c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED:Me(c.ERROR_TYPE.VOICE.CAN_NOT_CONNECT_PARTICIPANT,E,c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED);break;case c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED:Me(c.ERROR_TYPE.VOICE.CAN_NOT_HANGUP_PARTICIPANT,E,c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED);break;case c.EVENT_TYPE.VOICE.MUTE_TOGGLE:Me(c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_MUTE,E,c.EVENT_TYPE.VOICE.MUTE_TOGGLE);break;case c.EVENT_TYPE.VOICE.HOLD_TOGGLE:Me(Ue(E)===c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT:c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_HOLD,E,c.EVENT_TYPE.VOICE.HOLD_TOGGLE);break;case c.EVENT_TYPE.VOICE.RECORDING_TOGGLE:Me(c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_RECORD,E,c.EVENT_TYPE.VOICE.RECORDING_TOGGLE);break;case c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED:Me(c.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,E,c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED);break;case c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED:Me(c.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,E,c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED);break;case c.EVENT_TYPE.VOICE.AGENT_ERROR:Me(c.ERROR_TYPE.VOICE.AGENT_ERROR,E,c.EVENT_TYPE.VOICE.AGENT_ERROR);break;case c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR:switch(Ue(E)){case c.ERROR_TYPE.VOICE.UNSUPPORTED_BROWSER:Me(c.ERROR_TYPE.VOICE.UNSUPPORTED_BROWSER,E,c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR);break;case c.ERROR_TYPE.VOICE.MICROPHONE_NOT_SHARED:Me(c.ERROR_TYPE.VOICE.MICROPHONE_NOT_SHARED,E,c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR);break;default:Me(c.ERROR_TYPE.GENERIC_ERROR,E,c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR)}break;default:console.error("Unhandled error scenario with arguments ",arguments)}}function $e(e){return ze.apply(this,arguments)}function ze(){return(ze=T()(s.a.mark((function e(t){var E,n,r,a,T,o,i,_,l,N,u,A,O,C,R,I,S,P,d,p,L,f,h,V,v,G,D,b,Y,U,g,y,m,M,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E=t.eventType,n=t.payload,r=t.registerLog,a=void 0===r||r,e.t0=E,e.next=e.t0===c.EVENT_TYPE.LOGIN_RESULT?4:e.t0===c.EVENT_TYPE.LOGOUT_RESULT?6:e.t0===c.EVENT_TYPE.VOICE.CALL_STARTED?8:e.t0===c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED?10:e.t0===c.EVENT_TYPE.VOICE.CALL_CONNECTED?12:e.t0===c.EVENT_TYPE.VOICE.HANGUP?28:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED?30:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED?32:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED?34:e.t0===c.EVENT_TYPE.MESSAGE?44:e.t0===c.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED?46:e.t0===c.EVENT_TYPE.VOICE.WRAP_UP_ENDED?48:e.t0===c.EVENT_TYPE.REMOTE_CONTROLLER?50:e.t0===c.EVENT_TYPE.VOICE.MUTE_TOGGLE?52:e.t0===c.EVENT_TYPE.VOICE.HOLD_TOGGLE?54:e.t0===c.EVENT_TYPE.VOICE.RECORDING_TOGGLE?57:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED?60:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED?62:e.t0===c.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS?64:e.t0===c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN?66:e.t0===c.EVENT_TYPE.VOICE.CALL_BARGED_IN?68:e.t0===c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED?70:e.t0===c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED?72:e.t0===c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP?74:e.t0===c.EVENT_TYPE.SET_AGENT_STATUS?76:e.t0===c.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW?78:e.t0===c.EVENT_TYPE.STORAGE_ACCESS_RESULT?80:e.t0===c.EVENT_TYPE.GET_AGENT_STATUS?82:e.t0===c.EVENT_TYPE.STATE_CHANGE?84:86;break;case 4:return Ke(n,Te,c.ERROR_TYPE.CAN_NOT_LOG_IN,c.EVENT_TYPE.LOGIN_RESULT)&&(me(c.EVENT_TYPE.LOGIN_RESULT,n,a),n.success&&we()),e.abrupt("break",86);case 6:return Ke(n,oe,c.ERROR_TYPE.CAN_NOT_LOG_OUT,c.EVENT_TYPE.LOGOUT_RESULT)&&me(c.EVENT_TYPE.LOGOUT_RESULT,{success:n.success,loginFrameHeight:n.loginFrameHeight},a),e.abrupt("break",86);case 8:return Ke(n,ee,c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,c.EVENT_TYPE.VOICE.CALL_STARTED)&&me(c.EVENT_TYPE.VOICE.CALL_STARTED,n.call,!0),e.abrupt("break",86);case 10:return Ke(n,ee,c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED)&&me(c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,n.call,!0),e.abrupt("break",86);case 12:if(!Ke(n,ee,c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,c.EVENT_TYPE.VOICE.CALL_CONNECTED)){e.next=27;break}if(be(),!H){e.next=26;break}return e.next=17,w.getTelephonyConnector();case 17:return T=e.sent,e.next=20,T.supervisorDisconnect();case 20:return o=e.sent,ue.validateClassObject(o,Le),H=!1,me(c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,o,!0),me(c.EVENT_TYPE.VOICE.CALL_CONNECTED,n.call,!0),e.abrupt("break",86);case 26:me(c.EVENT_TYPE.VOICE.CALL_CONNECTED,n.call,!0);case 27:return e.abrupt("break",86);case 28:return Ke(n,te,c.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,c.EVENT_TYPE.VOICE.HANGUP)&&me(c.EVENT_TYPE.VOICE.HANGUP,n.calls,!0),e.abrupt("break",86);case 30:return Ke(n,$,c.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED)&&(i=n.initialCallHasEnded,_=n.callInfo,l=n.phoneNumber,N=n.callId,me(c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,{initialCallHasEnded:i,callInfo:_,phoneNumber:l,callId:N},!0)),e.abrupt("break",86);case 32:return Ke(n,$,c.ERROR_TYPE.VOICE.CAN_NOT_CONNECT_PARTICIPANT,c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED)&&(u=n.initialCallHasEnded,A=n.callInfo,O=n.phoneNumber,C=n.callId,me(c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{initialCallHasEnded:u,callInfo:A,phoneNumber:O,callId:C},!0)),e.abrupt("break",86);case 34:if(!Ke(n,ee,c.ERROR_TYPE.VOICE.CAN_NOT_HANGUP_PARTICIPANT,c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED)){e.next=43;break}return R=n.call,e.next=38,w.getTelephonyConnector();case 38:return I=e.sent,e.next=41,I.getActiveCalls();case 41:Ke(S=e.sent,q)&&(0===(P=S.activeCalls).length?me(c.EVENT_TYPE.VOICE.HANGUP,R,!0):R&&R.callAttributes&&R.callAttributes.participantType===c.PARTICIPANT_TYPE.INITIAL_CALLER?(d=Object.values(P).filter((function(e){return e.callType===c.CALL_TYPE.ADD_PARTICIPANT})).pop(),me(d.state===c.CALL_STATE.TRANSFERRING?c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED:c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{initialCallHasEnded:!0},!0)):me(c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,{reason:R?R.reason:null},!0));case 43:return e.abrupt("break",86);case 44:return me(c.EVENT_TYPE.MESSAGE,n,a),e.abrupt("break",86);case 46:return me(c.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED,n,a),e.abrupt("break",86);case 48:return me(c.EVENT_TYPE.VOICE.WRAP_UP_ENDED,n,a),e.abrupt("break",86);case 50:return Be(n),e.abrupt("break",86);case 52:return Ke(n,W,c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_MUTE,c.EVENT_TYPE.VOICE.MUTE_TOGGLE)&&me(c.EVENT_TYPE.VOICE.MUTE_TOGGLE,n,a),e.abrupt("break",86);case 54:return p=n.isThirdPartyOnHold,L=n.isCustomerOnHold,f=n.calls,Ke(n,Ee,c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_HOLD,c.EVENT_TYPE.VOICE.HOLD_TOGGLE)&&me(c.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:p,isCustomerOnHold:L,calls:f},a),e.abrupt("break",86);case 57:return h=n.isRecordingPaused,V=n.contactId,v=n.initialContactId,G=n.instanceId,D=n.region,Ke(n,X,c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_RECORD,c.EVENT_TYPE.VOICE.RECORDING_TOGGLE)&&me(c.EVENT_TYPE.VOICE.RECORDING_TOGGLE,{isRecordingPaused:h,contactId:V,initialContactId:v,instanceId:G,region:D},a),e.abrupt("break",86);case 60:return Ke(n,Ee,c.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED)&&(b=n.isThirdPartyOnHold,Y=n.isCustomerOnHold,U=n.calls,me(c.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:b,isCustomerOnHold:Y,calls:U},!0)),e.abrupt("break",86);case 62:return Ke(n,Ee,c.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED)&&(g=n.isThirdPartyOnHold,y=n.isCustomerOnHold,me(c.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:g,isCustomerOnHold:y},!0)),e.abrupt("break",86);case 64:return Ke(n,Se)&&(n.stats&&Ye(n.stats),n.isAudioStatsCompleted&&n.callId&&(m=n.callId,M=De(),me(c.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS_COMPLETED,{callId:m,mos:M},a))),e.abrupt("break",86);case 66:return Ke(n,pe,c.ERROR_TYPE.VOICE.CAN_NOT_BARGE_IN_SUPERVISOR,c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN)&&me(c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,n.call,!0),e.abrupt("break",86);case 68:return Ke(n,Ie,c.ERROR_TYPE.GENERIC_ERROR,c.EVENT_TYPE.VOICE.CALL_BARGED_IN)&&me(c.EVENT_TYPE.VOICE.CALL_BARGED_IN,n,!0),e.abrupt("break",86);case 70:return Ke(n,pe,c.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED)&&(H=!0,me(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,n.call,!0)),e.abrupt("break",86);case 72:return Ke(n,pe,c.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED)&&(H=!0,me(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,n.call,!0)),e.abrupt("break",86);case 74:return Ke(n,Le,c.ERROR_TYPE.VOICE.CAN_NOT_DISCONNECT_SUPERVISOR,c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP)&&(H=!1,me(c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,n.calls,!0)),e.abrupt("break",86);case 76:return Ke(n,Oe,c.ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,c.EVENT_TYPE.SET_AGENT_STATUS)&&(x=n.statusId,me(c.EVENT_TYPE.SET_AGENT_STATUS,{statusId:x},a)),e.abrupt("break",86);case 78:return me(c.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW,n),e.abrupt("break",86);case 80:return Ke(n,fe,c.ERROR_TYPE.INVALID_STORAGE_ACCESS_RESULT,c.EVENT_TYPE.STORAGE_ACCESS_RESULT)&&(me(c.EVENT_TYPE.STORAGE_ACCESS_RESULT,n),n.success&&(n.showLogin?me(c.EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:n.loginFrameHeight},a):we())),e.abrupt("break",86);case 82:return Ke(n,Ce,c.ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,c.EVENT_TYPE.GET_AGENT_STATUS)&&me(c.EVENT_TYPE.GET_AGENT_STATUS,n,a),e.abrupt("break",86);case 84:return Ke(n,Re,c.ERROR_TYPE.INVALID_STATE_CHANGE_RESULT,c.EVENT_TYPE.STATE_CHANGE)&&me(c.EVENT_TYPE.STATE_CHANGE,n),e.abrupt("break",86);case 86:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}])}));
//# sourceMappingURL=scv-connector-base.js.map