!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SCVConnectorBase",[],e):"object"==typeof exports?exports.SCVConnectorBase=e():t.SCVConnectorBase=e()}(this,(function(){return function(t){var e={};function E(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,E),a.l=!0,a.exports}return E.m=t,E.c=e,E.d=function(t,e,n){E.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},E.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},E.t=function(t,e){if(1&e&&(t=E(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(E.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)E.d(n,a,function(e){return t[e]}.bind(null,a));return n},E.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return E.d(e,"a",e),e},E.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},E.p="",E(E.s=16)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){t.exports=function(t,e,E){return e in t?Object.defineProperty(t,e,{value:E,enumerable:!0,configurable:!0,writable:!0}):t[e]=E,t}},function(t,e,E){t.exports=E(11)},function(t,e){function E(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=E=function(t){return typeof t}:t.exports=E=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(e)}t.exports=E},function(t,e){function E(t,e,E,n,a,r,T){try{var o=t[r](T),i=o.value}catch(t){return void E(t)}o.done?e(i):Promise.resolve(i).then(n,a)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var T=t.apply(e,n);function o(t){E(T,a,r,o,i,"next",t)}function i(t){E(T,a,r,o,i,"throw",t)}o(void 0)}))}}},function(t,e){function E(e){return t.exports=E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(e)}t.exports=E},function(t,e){function E(t,e){for(var E=0;E<e.length;E++){var n=e[E];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),t}},function(t,e){function E(e,n){return t.exports=E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(e,n)}t.exports=E},function(t,e,E){var n=E(7);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,E){var n=E(3),a=E(12);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}},function(t,e,E){var n=E(5),a=E(7),r=E(13),T=E(14);function o(e){var E="function"==typeof Map?new Map:void 0;return t.exports=o=function(t){if(null===t||!r(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==E){if(E.has(t))return E.get(t);E.set(t,e)}function e(){return T(t,arguments,n(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a(e,t)},o(e)}t.exports=o},function(t,e,E){var n=function(t){"use strict";var e=Object.prototype,E=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",T=n.toStringTag||"@@toStringTag";function o(t,e,E){return Object.defineProperty(t,e,{value:E,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,E){return t[e]=E}}function i(t,e,E,n){var a=e&&e.prototype instanceof N?e:N,r=Object.create(a.prototype),T=new L(n||[]);return r._invoke=function(t,e,E){var n="suspendedStart";return function(a,r){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw r;return V()}for(E.method=a,E.arg=r;;){var T=E.delegate;if(T){var o=S(T,E);if(o){if(o===s)continue;return o}}if("next"===E.method)E.sent=E._sent=E.arg;else if("throw"===E.method){if("suspendedStart"===n)throw n="completed",E.arg;E.dispatchException(E.arg)}else"return"===E.method&&E.abrupt("return",E.arg);n="executing";var i=_(t,e,E);if("normal"===i.type){if(n=E.done?"completed":"suspendedYield",i.arg===s)continue;return{value:i.arg,done:E.done}}"throw"===i.type&&(n="completed",E.method="throw",E.arg=i.arg)}}}(t,E,T),r}function _(t,e,E){try{return{type:"normal",arg:t.call(e,E)}}catch(t){return{type:"throw",arg:t}}}t.wrap=i;var s={};function N(){}function c(){}function A(){}var O={};O[a]=function(){return this};var C=Object.getPrototypeOf,l=C&&C(C(p([])));l&&l!==e&&E.call(l,a)&&(O=l);var u=A.prototype=N.prototype=Object.create(O);function R(t){["next","throw","return"].forEach((function(e){o(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){var n;this._invoke=function(a,r){function T(){return new e((function(n,T){!function n(a,r,T,o){var i=_(t[a],t,r);if("throw"!==i.type){var s=i.arg,N=s.value;return N&&"object"==typeof N&&E.call(N,"__await")?e.resolve(N.__await).then((function(t){n("next",t,T,o)}),(function(t){n("throw",t,T,o)})):e.resolve(N).then((function(t){s.value=t,T(s)}),(function(t){return n("throw",t,T,o)}))}o(i.arg)}(a,r,n,T)}))}return n=n?n.then(T,T):T()}}function S(t,e){var E=t.iterator[e.method];if(void 0===E){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=_(E,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function p(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(E.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:V}}function V(){return{value:void 0,done:!0}}return c.prototype=u.constructor=A,A.constructor=c,c.displayName=o(A,T,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===c||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,o(t,T,"GeneratorFunction")),t.prototype=Object.create(u),t},t.awrap=function(t){return{__await:t}},R(I.prototype),I.prototype[r]=function(){return this},t.AsyncIterator=I,t.async=function(e,E,n,a,r){void 0===r&&(r=Promise);var T=new I(i(e,E,n,a),r);return t.isGeneratorFunction(E)?T:T.next().then((function(t){return t.done?t.value:T.next()}))},R(u),o(u,T,"Generator"),u[a]=function(){return this},u.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var E in t)e.push(E);return e.reverse(),function E(){for(;e.length;){var n=e.pop();if(n in t)return E.value=n,E.done=!1,E}return E.done=!0,E}},t.values=p,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&E.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(E,n){return T.type="throw",T.arg=t,e.next=E,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],T=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var o=E.call(r,"catchLoc"),i=E.call(r,"finallyLoc");if(o&&i){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&E.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var T=r?r.completion:{};return T.type=t,T.arg=e,r?(this.method="next",this.next=r.finallyLoc,s):this.complete(T)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var E=this.tryEntries[e];if(E.finallyLoc===t)return this.complete(E.completion,E.afterLoc),d(E),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var E=this.tryEntries[e];if(E.tryLoc===t){var n=E.completion;if("throw"===n.type){var a=n.arg;d(E)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,E){return this.delegate={iterator:p(t),resultName:e,nextLoc:E},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,E){var n=E(7),a=E(15);function r(e,E,T){return a()?t.exports=r=Reflect.construct:t.exports=r=function(t,e,E){var a=[null];a.push.apply(a,e);var r=new(Function.bind.apply(t,a));return E&&n(r,E.prototype),r},r.apply(null,arguments)}t.exports=r},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,E){"use strict";E.r(e),E.d(e,"initializeConnector",(function(){return jt})),E.d(e,"publishEvent",(function(){return qt})),E.d(e,"publishError",(function(){return Kt})),E.d(e,"publishLog",(function(){return Wt})),E.d(e,"log",(function(){return D})),E.d(e,"Constants",(function(){return H})),E.d(e,"ActiveCallsResult",(function(){return j})),E.d(e,"AgentConfigResult",(function(){return K})),E.d(e,"AgentConfig",(function(){return q})),E.d(e,"CapabilitiesResult",(function(){return W})),E.d(e,"RecordingToggleResult",(function(){return Q})),E.d(e,"ParticipantResult",(function(){return J})),E.d(e,"SignedRecordingUrlResult",(function(){return tt})),E.d(e,"PhoneContactsResult",(function(){return X})),E.d(e,"CallResult",(function(){return z})),E.d(e,"HangupResult",(function(){return $})),E.d(e,"HoldToggleResult",(function(){return Z})),E.d(e,"InitResult",(function(){return et})),E.d(e,"GenericResult",(function(){return nt})),E.d(e,"MuteToggleResult",(function(){return F})),E.d(e,"LogoutResult",(function(){return at})),E.d(e,"CallInfo",(function(){return rt})),E.d(e,"PhoneCall",(function(){return it})),E.d(e,"PhoneCallAttributes",(function(){return ot})),E.d(e,"Contact",(function(){return Tt})),E.d(e,"Phone",(function(){return B})),E.d(e,"AgentStatusInfo",(function(){return At})),E.d(e,"AudioStatsElement",(function(){return Rt})),E.d(e,"AudioStats",(function(){return ut})),E.d(e,"StatsInfo",(function(){return It})),E.d(e,"VendorConnector",(function(){return st})),E.d(e,"TelephonyConnector",(function(){return _t})),E.d(e,"SuperviseCallResult",(function(){return St})),E.d(e,"SupervisorHangupResult",(function(){return Pt})),E.d(e,"SupervisedCallInfo",(function(){return lt})),E.d(e,"AgentVendorStatusInfo",(function(){return Ot})),E.d(e,"StateChangeResult",(function(){return Ct})),E.d(e,"CustomError",(function(){return x})),E.d(e,"AgentWork",(function(){return ct})),E.d(e,"ShowStorageAccessResult",(function(){return dt})),E.d(e,"DialOptions",(function(){return Et}));var n=E(2),a=E.n(n),r=E(1),T=E.n(r),o=E(4),i=E.n(o),_=E(3),s=E.n(_),N={MESSAGE_TYPE:{SETUP_CONNECTOR:"SETUP_CONNECTOR",CONNECTOR_READY:"CONNECTOR_READY",LOG:"LOG",TELEPHONY_EVENT_DISPATCHED:"TELEPHONY_EVENT_DISPATCHED",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",LOGOUT:"LOGOUT",MESSAGE:"MESSAGE",DOWNLOAD_VENDOR_LOGS:"DOWNLOAD_VENDOR_LOGS",AGENT_WORK_EVENT:"AGENT_WORK_EVENT",VOICE:{ACCEPT_CALL:"ACCEPT_CALL",DECLINE_CALL:"DECLINE_CALL",END_CALL:"END_CALL",MUTE:"MUTE",UNMUTE:"UNMUTE",HOLD:"HOLD",RESUME:"RESUME",DIAL:"DIAL",SEND_DIGITS:"SEND_DIGITS",GET_PHONE_CONTACTS:"GET_PHONE_CONTACTS",SWAP_PARTICIPANTS:"SWAP_PARTICIPANTS",ADD_PARTICIPANT:"ADD_PARTICIPANT",CONFERENCE:"CONFERENCE",PAUSE_RECORDING:"PAUSE_RECORDING",RESUME_RECORDING:"RESUME_RECORDING",SUPERVISE_CALL:"SUPERVISE_CALL",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",SUPERVISOR_DISCONNECT:"SUPERVISOR_DISCONNECT",SET_AGENT_CONFIG:"SET_AGENT_CONFIG",GET_SIGNED_RECORDING_URL:"GET_SIGNED_RECORDING_URL",WRAP_UP_CALL:"WRAP_UP_CALL",AGENT_AVAILABLE:"AGENT_AVAILABLE"}},EVENT_TYPE:{ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO",LOGIN_STARTED:"LOGIN_STARTED",LOGIN_RESULT:"LOGIN_RESULT",LOGOUT_RESULT:"LOGOUT_RESULT",SHOW_LOGIN:"SHOW_LOGIN",SET_AGENT_STATUS_RESULT:"SET_AGENT_STATUS_RESULT",GET_AGENT_STATUS_RESULT:"GET_AGENT_STATUS_RESULT",MESSAGE:"MESSAGE",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",STATE_CHANGE:"STATE_CHANGE",REMOTE_CONTROLLER:"REMOTE_CONTROLLER",SHOW_STORAGE_ACCESS:"SHOW_STORAGE_ACCESS",STORAGE_ACCESS_RESULT:"STORAGE_ACCESS_RESULT",VOICE:{QUEUED_CALL_STARTED:"QUEUED_CALL_STARTED",CALL_STARTED:"CALL_STARTED",CALL_CONNECTED:"CALL_CONNECTED",CALL_FAILED:"CALL_FAILED",MUTE_TOGGLE:"MUTE_TOGGLE",HOLD_TOGGLE:"HOLD_TOGGLE",PHONE_CONTACTS:"PHONE_CONTACTS",PARTICIPANT_ADDED:"PARTICIPANT_ADDED",PARTICIPANT_CONNECTED:"PARTICIPANT_CONNECTED",PARTICIPANT_REMOVED:"PARTICIPANT_REMOVED",RECORDING_TOGGLE:"RECORDING_TOGGLE",PARTICIPANTS_SWAPPED:"PARTICIPANTS_SWAPPED",PARTICIPANTS_CONFERENCED:"PARTICIPANTS_CONFERENCED",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",UPDATE_AUDIO_STATS:"UPDATE_AUDIO_STATS",UPDATE_AUDIO_STATS_COMPLETED:"UPDATE_AUDIO_STATS_COMPLETED",SUPERVISOR_BARGED_IN:"SUPERVISOR_BARGED_IN",SUPERVISOR_CALL_STARTED:"SUPERVISOR_CALL_STARTED",SUPERVISOR_CALL_CONNECTED:"SUPERVISOR_CALL_CONNECTED",SUPERVISOR_HANGUP:"SUPERVISOR_HANGUP",CALL_BARGED_IN:"CALL_BARGED_IN",WRAP_UP_ENDED:"WRAP_UP_ENDED",AFTER_CALL_WORK_STARTED:"AFTER_CALL_WORK_STARTED",AGENT_CONFIG_UPDATED:"AGENT_CONFIG_UPDATED",AGENT_ERROR:"AGENT_ERROR",HANGUP:"HANGUP",SOFTPHONE_ERROR:"SOFTPHONE_ERROR",SHOW_TRANSFER_VIEW:"SHOW_TRANSFER_VIEW"}},INFO_TYPE:{VOICE:{CAN_NOT_ACCEPT_THE_CALL:"CAN_NOT_ACCEPT_THE_CALL"}},ERROR_TYPE:{VOICE:{CAN_NOT_DECLINE_THE_CALL:"CAN_NOT_DECLINE_THE_CALL",CAN_NOT_END_THE_CALL:"CAN_NOT_END_THE_CALL",CAN_NOT_HOLD_CALL:"CAN_NOT_HOLD_CALL",CAN_NOT_RESUME_CALL:"CAN_NOT_RESUME_CALL",CAN_NOT_MUTE_CALL:"CAN_NOT_MUTE_CALL",CAN_NOT_UNMUTE_CALL:"CAN_NOT_UNMUTE_CALL",CAN_NOT_TOGGLE_MUTE:"CAN_NOT_TOGGLE_MUTE",CAN_NOT_TOGGLE_HOLD:"CAN_NOT_TOGGLE_HOLD",CAN_NOT_TOGGLE_RECORD:"CAN_NOT_TOGGLE_RECORD",INVALID_PARTICIPANT:"INVALID_PARTICIPANT",INVALID_PARAMS:"INVALID_PARAMS",CAN_NOT_GET_PHONE_CONTACTS:"CAN_NOT_GET_PHONE_CONTACTS",CAN_NOT_SWAP_PARTICIPANTS:"CAN_NOT_SWAP_PARTICIPANTS",CAN_NOT_CONFERENCE:"CAN_NOT_CONFERENCE",INVALID_DESTINATION:"INVALID_DESTINATION",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",CAN_NOT_HANGUP_PARTICIPANT:"CAN_NOT_HANGUP_PARTICIPANT",CAN_NOT_ADD_PARTICIPANT:"CAN_NOT_ADD_PARTICIPANT",CAN_NOT_CONNECT_PARTICIPANT:"CAN_NOT_CONNECT_PARTICIPANT",CAN_NOT_START_THE_CALL:"CAN_NOT_START_THE_CALL",CAN_NOT_PAUSE_RECORDING:"CAN_NOT_PAUSE_RECORDING",CAN_NOT_RESUME_RECORDING:"CAN_NOT_RESUME_RECORDING",CAN_NOT_SET_AGENT_CONFIG:"CAN_NOT_SET_AGENT_CONFIG",CAN_NOT_SET_CAPABILITIES:"CAN_NOT_SET_CAPABILITIES",CAN_NOT_UPDATE_PHONE_NUMBER:"CAN_NOT_UPDATE_PHONE_NUMBER",CAN_NOT_GET_SIGNED_RECORDING_URL:"CAN_NOT_GET_SIGNED_RECORDING_URL",CAN_NOT_SUPERVISE_CALL:"CAN_NOT_SUPERVISE_CALL",CAN_NOT_DISCONNECT_SUPERVISOR:"CAN_NOT_DISCONNECT_SUPERVISOR",CAN_NOT_BARGE_IN_SUPERVISOR:"CAN_NOT_BARGE_IN_SUPERVISOR",CAN_NOT_BARGE_IN_CALL:"CAN_NOT_BARGE_IN_CALL",AGENT_ERROR:"AGENT_ERROR",MICROPHONE_NOT_SHARED:"MICROPHONE_NOT_SHARED",UNSUPPORTED_BROWSER:"UNSUPPORTED_BROWSER"},CUSTOM_ERROR:"CUSTOM_ERROR",GENERIC_ERROR:"GENERIC_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",INVALID_AGENT_STATUS:"INVALID_AGENT_STATUS",CAN_NOT_GET_AGENT_STATUS:"CAN_NOT_GET_AGENT_STATUS",CAN_NOT_SET_AGENT_STATUS:"CAN_NOT_SET_AGENT_STATUS",LOGIN_REQUIRED:"LOGIN_REQUIRED",CAN_NOT_LOG_IN:"CAN_NOT_LOG_IN",CAN_NOT_LOG_OUT:"CAN_NOT_LOG_OUT",INVALID_STATE_CHANGE_RESULT:"INVALID_STATE_CHANGE_RESULT",INVALID_STORAGE_ACCESS_RESULT:"INVALID_STORAGE_ACCESS_RESULT"},AGENT_STATUS:{ONLINE:"Online",OFFLINE:"Offline",ACW:"AfterCallWork",CALLBACK_MISSED_OR_REJECTED:"CallbackMissedOrRejected"},PARTICIPANT_TYPE:{AGENT:"Agent",INITIAL_CALLER:"Initial_Caller",THIRD_PARTY:"Third_Party",SUPERVISOR:"Supervisor"},CALL_TYPE:{INBOUND:"Inbound",OUTBOUND:"Outbound",CALLBACK:"Callback",ADD_PARTICIPANT:"AddParticipant",TRANSFER:"Transfer",INTERNAL_CALL:"InternalCall",DIALED_CALLBACK:"DialedCallback"},DIALER_TYPE:{OUTBOUND_PREVIEW:"OutboundPreview",NONE:"None"},CONTACT_TYPE:{PHONEBOOK:"PhoneBook",QUEUE:"Queue",PHONENUMBER:"PhoneNumber",AGENT:"Agent",FLOW:"Flow"},AGENT_CONFIG_TYPE:{SHOW_AGENT_SETTINGS:"SHOW_AGENT_SETTINGS",PHONES:"PHONES",SELECTED_PHONE:"SELECTED_PHONE"},CAPABILITIES_TYPE:{MUTE:"MUTE",RECORD:"RECORD",MERGE:"MERGE",SWAP:"SWAP",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",DEBUG_ENABLED:"DEBUG_ENABLED",CONTACT_SEARCH:"CONTACT_SEARCH",VENDOR_PROVIDED_AVAILABILITY:"VENDOR_PROVIDED_AVAILABILITY",VENDOR_PROVIDED_QUEUE_WAIT_TIME:"VENDOR_PROVIDED_QUEUE_WAIT_TIME",SUPERVISOR_LISTEN_IN:"SUPERVISOR_LISTEN_IN",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",MOS:"MOS",BLIND_TRANSFER:"BLIND_TRANSFER",TRANSFER_TO_OMNI_FLOW:"TRANSFER_TO_OMNI_FLOW",PENDING_STATUS_CHANGE:"PENDING_STATUS_CHANGE",PHONEBOOK:"PHONEBOOK"},CALL_STATE:{RINGING:"ringing",CONNECTED:"connected",TRANSFERRING:"transferring",TRANSFERRED:"transferred",ENDED:"ended"},PHONE_TYPE:{DESK_PHONE:"DESK_PHONE",SOFT_PHONE:"SOFT_PHONE"},HANGUP_REASON:{PHONE_CALL_ERROR:"error",PHONE_CALL_ENDED:"ended"},AGENT_AVAILABILITY:{AVAILABLE:"AVAILABLE",BUSY:"BUSY",OFFLINE:"OFFLINE"},REMOVE_PARTICIPANT_VARIANT:{ALWAYS:"ALWAYS",NEVER:"NEVER",ALWAYS_EXCEPT_ON_HOLD:"ALWAYS_EXCEPT_ON_HOLD"},LOG_LEVEL:{ERROR:"ERROR",INFO:"INFO"},LOG_SOURCE:{SYSTEM:"SYSTEM",PARTNER:"PARTNER"},CONTACTS_FILTER_TYPES:{AGENT:"AGENT",QUEUE:"QUEUE",CONTACT:"CONTACT",DIRECTORY:"DIRECTORY",FLOW:"FLOW",AVAILABLE:"AVAILABLE"},WORK_EVENT:{ASSIGNED:"ASSIGNED",ACCEPTED:"ACCEPTED",DECLINED:"DECLINED",COMPLETED:"COMPLETED",CLOSED:"CLOSED"},DIAL_OPTIONS:{CALLBACK:"isCallback=true"}},c=["/internalNameLabel","/reqGeneralInfo/reqAdapterUrl","/reqGeneralInfo/reqVendorInfoApiName","isACWAllowed","isHVSEnabled","orgDomainName","phoneServiceChannelId","telephonySettingsComponentFqn"],A=["/reqHvcc"],O=["/reqHvcc/reqTelephonyIntegrationCertificate"],C=E(6),l=E.n(C),u=E(0),R=E.n(u),I=E(8),S=E.n(I),P=E(9),d=E.n(P),L=E(5),p=E.n(L),V=E(10),h=E.n(V);var f=function(t){return"string"==typeof t?t:JSON.stringify(t)},G=0,v=[];function D(t,e,E){!function(t,e,E){if(!e)throw new Error("Log Message required");t=t||N.LOG_LEVEL.INFO,E=E||N.LOG_SOURCE.PARTNER;var n=[(new Date).toISOString(),f(t),f(E),"".concat(f(e),"\n")].join("|");G+n.length>=75e5&&(v=[],G=0),G+=n.length,v.push(n)}(e,t,E)}function b(){return JSON.parse(JSON.stringify(v))}function Y(){!function(t,e,E){if(document&&t){var n="string"==typeof t?t:JSON.stringify(t),a=new Blob([n],{type:E}),r=document.createElement("a"),T=URL.createObjectURL(a);r.download=e,r.href=T,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(T)}}(v.join(""),"log-".concat((new Date).getTime(),".txt"),"text/plain")}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var E,n=p()(t);if(e){var a=p()(this).constructor;E=Reflect.construct(n,arguments,a)}else E=n.apply(this,arguments);return d()(this,E)}}function g(t,e){var E=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),E.push.apply(E,n)}return E}function y(t){for(var e=1;e<arguments.length;e++){var E=null!=arguments[e]?arguments[e]:{};e%2?g(Object(E),!0).forEach((function(e){T()(t,e,E[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(E)):g(Object(E)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(E,e))}))}return t}var m,M,k,w,H={EVENT_TYPE:{VOICE:{CALL_STARTED:N.EVENT_TYPE.VOICE.CALL_STARTED,QUEUED_CALL_STARTED:N.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,CALL_CONNECTED:N.EVENT_TYPE.VOICE.CALL_CONNECTED,HANGUP:N.EVENT_TYPE.VOICE.HANGUP,MUTE_TOGGLE:N.EVENT_TYPE.VOICE.MUTE_TOGGLE,HOLD_TOGGLE:N.EVENT_TYPE.VOICE.HOLD_TOGGLE,RECORDING_TOGGLE:N.EVENT_TYPE.VOICE.RECORDING_TOGGLE,PARTICIPANTS_SWAPPED:N.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED,PARTICIPANTS_CONFERENCED:N.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED,PARTICIPANT_ADDED:N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,PARTICIPANT_CONNECTED:N.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,PARTICIPANT_REMOVED:N.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,AFTER_CALL_WORK_STARTED:N.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED,WRAP_UP_ENDED:N.EVENT_TYPE.VOICE.WRAP_UP_ENDED,AGENT_ERROR:N.EVENT_TYPE.VOICE.AGENT_ERROR,SOFTPHONE_ERROR:N.EVENT_TYPE.VOICE.SOFTPHONE_ERROR,UPDATE_AUDIO_STATS:N.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS,SUPERVISOR_BARGED_IN:N.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,SUPERVISOR_CALL_STARTED:N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,SUPERVISOR_CALL_CONNECTED:N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,SUPERVISOR_HANGUP:N.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,SHOW_TRANSFER_VIEW:N.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW},LOGIN_RESULT:N.EVENT_TYPE.LOGIN_RESULT,LOGOUT_RESULT:N.EVENT_TYPE.LOGOUT_RESULT,MESSAGE:N.EVENT_TYPE.MESSAGE,SET_AGENT_STATUS:N.EVENT_TYPE.SET_AGENT_STATUS,GET_AGENT_STATUS:N.EVENT_TYPE.GET_AGENT_STATUS,STATE_CHANGE:N.EVENT_TYPE.STATE_CHANGE,STORAGE_ACCESS_RESULT:N.EVENT_TYPE.STORAGE_ACCESS_RESULT},ERROR_TYPE:{VOICE:{INVALID_PARTICIPANT:N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,INVALID_DESTINATION:N.ERROR_TYPE.VOICE.INVALID_DESTINATION,CAN_NOT_UPDATE_PHONE_NUMBER:N.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER,INVALID_PARAMS:N.ERROR_TYPE.VOICE.INVALID_PARAMS},GENERIC_ERROR:N.ERROR_TYPE.GENERIC_ERROR,INVALID_AGENT_STATUS:N.ERROR_TYPE.INVALID_AGENT_STATUS},AGENT_STATUS:y({},N.AGENT_STATUS),PARTICIPANT_TYPE:y({},N.PARTICIPANT_TYPE),CALL_TYPE:y({},N.CALL_TYPE),DIALER_TYPE:y({},N.DIALER_TYPE),CONTACT_TYPE:y({},N.CONTACT_TYPE),CALL_STATE:y({},N.CALL_STATE),HANGUP_REASON:y({},N.HANGUP_REASON),PHONE_TYPE:y({},N.PHONE_TYPE),AGENT_AVAILABILITY:y({},N.AGENT_AVAILABILITY),REMOVE_PARTICIPANT_VARIANT:y({},N.REMOVE_PARTICIPANT_VARIANT),LOG_LEVEL:y({},N.LOG_LEVEL),CONTACTS_FILTER_TYPES:y({},N.CONTACTS_FILTER_TYPES),WORK_EVENT:y({},N.WORK_EVENT)},x=function(t){S()(E,t);var e=U(E);function E(t){var n,a=t.labelName,r=t.namespace,T=t.message;return R()(this,E),n=e.call(this,T),Nt.validateString(a),Nt.validateString(r),T&&Nt.validateString(T),n.labelName=a,n.namespace=r,n.message=T,n}return E}(h()(Error)),B=function t(e){var E=e.type,n=e.number;R()(this,t),Nt.validateEnum(E,Object.values(N.PHONE_TYPE)),n&&Nt.validateString(n),this.type=E,this.number=n},F=function t(e){var E=e.isMuted;R()(this,t),this.isMuted=E},j=function t(e){var E=e.activeCalls,n=void 0===E?[]:E;R()(this,t),n.length>0&&n.forEach((function(t){Nt.validateClassObject(t,it)})),this.activeCalls=n},W=function t(e){var E=e.hasMute,n=void 0===E||E,a=e.hasRecord,r=void 0===a||a,T=e.hasMerge,o=void 0===T||T,i=e.hasSwap,_=void 0===i||i,s=e.hasSignedRecordingUrl,N=void 0!==s&&s,c=e.debugEnabled,A=void 0===c||c,O=e.hasContactSearch,C=void 0!==O&&O,l=e.hasAgentAvailability,u=void 0!==l&&l,I=e.hasQueueWaitTime,S=void 0!==I&&I,P=e.supportsMos,d=void 0!==P&&P,L=e.hasSupervisorListenIn,p=void 0!==L&&L,V=e.hasSupervisorBargeIn,h=void 0!==V&&V,f=e.hasBlindTransfer,G=void 0!==f&&f,v=e.hasTransferToOmniFlow,D=void 0!==v&&v,b=e.hasPendingStatusChange,Y=void 0!==b&&b,U=e.hasPhoneBook,g=void 0!==U&&U;R()(this,t),Nt.validateBoolean(n),Nt.validateBoolean(r),Nt.validateBoolean(o),Nt.validateBoolean(_),Nt.validateBoolean(N),Nt.validateBoolean(A),Nt.validateBoolean(C),Nt.validateBoolean(u),Nt.validateBoolean(S),Nt.validateBoolean(d),Nt.validateBoolean(p),Nt.validateBoolean(h),Nt.validateBoolean(G),Nt.validateBoolean(D),Nt.validateBoolean(Y),Nt.validateBoolean(g),this.hasMute=n,this.hasRecord=r,this.hasMerge=o,this.hasSwap=_,this.hasSignedRecordingUrl=N,this.debugEnabled=A,this.hasContactSearch=C,this.hasAgentAvailability=u,this.hasQueueWaitTime=S,this.supportsMos=d,this.hasSupervisorListenIn=p,this.hasSupervisorBargeIn=h,this.hasBlindTransfer=G,this.hasTransferToOmniFlow=D,this.hasPendingStatusChange=Y,this.hasPhoneBook=g},K=function t(e){var E=e.phones,n=void 0===E?[N.PHONE_TYPE.SOFT_PHONE]:E,a=e.selectedPhone,r=void 0===a?new B({type:N.PHONE_TYPE.SOFT_PHONE}):a;R()(this,t),Nt.validateClassObject(n,Array),Nt.validateClassObject(r,B),this.phones=n,this.selectedPhone=r},q=function t(e){var E=e.selectedPhone;R()(this,t),Nt.validateClassObject(E,B),this.selectedPhone=E},Q=function t(e){var E=e.isRecordingPaused,n=e.contactId,a=void 0===n?null:n,r=e.initialContactId,T=void 0===r?null:r,o=e.instanceId,i=void 0===o?null:o,_=e.region,s=void 0===_?null:_;R()(this,t),this.isRecordingPaused=E,this.contactId=a,this.initialContactId=T,this.instanceId=i,this.region=s},J=function t(e){var E=e.initialCallHasEnded,n=e.callInfo,a=e.phoneNumber,r=e.callId;R()(this,t),Nt.validateClassObject(n,rt),this.initialCallHasEnded=E,this.callInfo=n,this.phoneNumber=a,this.callId=r},X=function t(e){var E=e.contacts,n=void 0===E?[]:E,a=e.contactTypes,r=void 0===a?[]:a;R()(this,t),n.length>0&&n.forEach((function(t){Nt.validateClassObject(t,Tt)})),r.length>0&&r.forEach((function(t){Nt.validateEnum(t,Object.values(N.CONTACT_TYPE))})),this.contacts=n,this.contactTypes=r},z=function t(e){var E=e.call;R()(this,t),void 0!==E&&Nt.validateClassObject(E,it),this.call=E},$=function t(e){var E=e.calls;R()(this,t),E instanceof Array?(E.forEach((function(t){return Nt.validateClassObject(t,it)})),this.calls=E):(Nt.validateClassObject(E,it),this.calls=[E])},Z=function t(e){var E=e.isThirdPartyOnHold,n=e.isCustomerOnHold,a=e.calls;R()(this,t),a&&(Object.values(a).forEach((function(t){Nt.validateClassObject(t,it)})),this.calls=a),this.isThirdPartyOnHold=E,this.isCustomerOnHold=n},tt=function t(e){var E=e.success,n=e.url,a=e.duration,r=e.callId;R()(this,t),E&&(Nt.validateString(n),Nt.validateString(r),a&&Nt.validateNumber(a)),this.success=E,this.url=n,this.duration=a,this.callId=r},et=function t(e){var E=e.showLogin,n=void 0!==E&&E,a=e.loginFrameHeight,r=void 0===a?350:a,T=e.isSilentLogin,o=void 0!==T&&T,i=e.showStorageAccess,_=void 0!==i&&i;R()(this,t),this.showLogin=n,this.loginFrameHeight=r,this.isSilentLogin=!this.showLogin&&o,this.showStorageAccess=_},Et=function t(e){var E=e.isCallback,n=void 0!==E&&E;R()(this,t),this.isCallback=n},nt=function t(e){var E=e.success;R()(this,t),this.success=E},at=function t(e){var E=e.success,n=e.loginFrameHeight,a=void 0===n?350:n;R()(this,t),this.success=E,this.loginFrameHeight=a},rt=function t(e){var E=e.callStateTimestamp,n=void 0===E?null:E,a=e.isOnHold,r=e.isMuted,T=void 0!==r&&r,o=e.isRecordingPaused,i=void 0!==o&&o,_=e.initialCallId,s=e.queueId,c=void 0===s?null:s,A=e.queueName,O=void 0===A?null:A,C=e.queueTimestamp,l=void 0===C?null:C,u=e.isSoftphoneCall,I=void 0===u||u,S=e.acceptEnabled,P=void 0===S||S,d=e.declineEnabled,L=void 0===d||d,p=e.muteEnabled,V=void 0===p||p,h=e.swapEnabled,f=void 0===h||h,G=e.conferenceEnabled,v=void 0===G||G,D=e.holdEnabled,b=void 0===D||D,Y=e.recordEnabled,U=void 0===Y||Y,g=e.addCallerEnabled,y=void 0===g||g,m=e.extensionEnabled,M=void 0===m||m,k=e.isReplayable,w=void 0===k||k,x=e.isBargeable,B=void 0!==x&&x,F=e.isExternalTransfer,j=e.showMuteButton,W=void 0===j||j,K=e.showRecordButton,q=void 0===K||K,Q=e.showAddCallerButton,J=void 0===Q||Q,X=e.showAddBlindTransferButton,z=void 0===X||X,$=e.showMergeButton,Z=void 0===$||$,tt=e.showSwapButton,et=void 0===tt||tt,Et=e.removeParticipantVariant,nt=void 0===Et?H.REMOVE_PARTICIPANT_VARIANT.ALWAYS:Et,at=e.additionalFields,rt=void 0===at?null:at,Tt=e.isMultiParty,ot=void 0!==Tt&&Tt;R()(this,t),n&&Nt.validateDate(n),l&&Nt.validateDate(l),c&&Nt.validateString(c),O&&Nt.validateString(O),Nt.validateBoolean(i),Nt.validateBoolean(T),Nt.validateBoolean(I),Nt.validateBoolean(P),Nt.validateBoolean(L),Nt.validateBoolean(V),Nt.validateBoolean(f),Nt.validateBoolean(v),Nt.validateBoolean(b),Nt.validateBoolean(U),Nt.validateBoolean(y),Nt.validateBoolean(M),Nt.validateBoolean(B),Nt.validateBoolean(W),Nt.validateBoolean(q),Nt.validateBoolean(J),Nt.validateBoolean(z),Nt.validateBoolean(Z),Nt.validateBoolean(et),void 0!==F&&Nt.validateBoolean(F),Nt.validateEnum(nt,Object.values(N.REMOVE_PARTICIPANT_VARIANT)),rt&&Nt.validateString(rt),Nt.validateBoolean(ot),this.callStateTimestamp=n,this.isRecordingPaused=i,this.isMuted=T,this.isOnHold=a,this.initialCallId=_,this.queueName=O,this.queueId=c,this.queueTimestamp=l,this.isSoftphoneCall=I,this.acceptEnabled=P,this.declineEnabled=L,this.muteEnabled=V,this.swapEnabled=f,this.conferenceEnabled=v,this.holdEnabled=b,this.recordEnabled=U,this.addCallerEnabled=y,this.extensionEnabled=M,this.isReplayable=w,this.isBargeable=B,this.isExternalTransfer=F,this.removeParticipantVariant=nt,this.showMuteButton=W,this.showRecordButton=q,this.showAddCallerButton=J,this.showAddBlindTransferButton=z,this.showMergeButton=Z,this.showSwapButton=et,this.additionalFields=rt,this.isMultiParty=ot},Tt=function t(e){var E=e.phoneNumber,n=e.id,a=e.type,r=e.name,T=e.prefix,o=e.extension,i=e.endpointARN,_=e.queue,s=e.availability,c=e.recordId,A=e.description,O=e.queueWaitTime;R()(this,t),E&&Nt.validateString(E),a&&Nt.validateEnum(a,Object.values(N.CONTACT_TYPE)),n&&Nt.validateString(n),r&&Nt.validateString(r),T&&Nt.validateString(T),o&&Nt.validateString(o),s&&Nt.validateEnum(s,Object.values(N.AGENT_AVAILABILITY)),c&&Nt.validateString(c),A&&Nt.validateString(A),O&&Nt.validateString(O),this.phoneNumber=E,this.id=n,this.type=a,this.name=r,this.prefix=T,this.extension=o,this.endpointARN=i,this.queue=_,N.CONTACT_TYPE.AGENT===this.type?this.availability=s:this.availability=null,this.queueWaitTime=O,this.recordId=c,this.description=A},ot=function t(e){var E=e.voiceCallId,n=e.participantType,a=e.dialerType,r=void 0===a?H.DIALER_TYPE.NONE:a,T=e.parentId,o=e.isOnHold,i=e.hasSupervisorBargedIn,_=void 0!==i&&i;R()(this,t),E&&Nt.validateString(E),n&&Nt.validateEnum(n,Object.values(N.PARTICIPANT_TYPE)),T&&Nt.validateString(T),void 0!==o&&Nt.validateBoolean(o),Nt.validateBoolean(_),Nt.validateEnum(r,Object.values(N.DIALER_TYPE)),this.voiceCallId=E,this.participantType=n,this.parentId=T,this.isOnHold=o,this.dialerType=r,this.hasSupervisorBargedIn=_},it=function t(e){var E=e.callId,n=e.callType,a=e.contact,r=e.state,T=e.callAttributes,o=e.phoneNumber,i=e.callInfo,_=e.reason,s=e.closeCallOnError,c=e.agentStatus;R()(this,t),E&&(Nt.validateString(E),this.callId=E),n&&(Nt.validateEnum(n,Object.values(N.CALL_TYPE)),this.callType=n),o&&(Nt.validateString(o),this.phoneNumber=o),i&&(Nt.validateClassObject(i,rt),this.callInfo=i),a&&(Nt.validateClassObject(a,Tt),this.contact=a),_&&(this.reason=_),s&&(this.closeCallOnError=s),c&&(this.agentStatus=c),this.state=r,this.callAttributes=T},_t=function(){function t(){R()(this,t)}return l()(t,[{key:"getActiveCalls",value:function(){throw new Error("Not implemented")}},{key:"acceptCall",value:function(t){throw new Error("Not implemented")}},{key:"declineCall",value:function(t){throw new Error("Not implemented")}},{key:"endCall",value:function(t,e){throw new Error("Not implemented")}},{key:"mute",value:function(){throw new Error("Not implemented")}},{key:"unmute",value:function(){throw new Error("Not implemented")}},{key:"hold",value:function(t){throw new Error("Not implemented")}},{key:"resume",value:function(t){throw new Error("Not implemented")}},{key:"dial",value:function(t,e){throw new Error("Not implemented")}},{key:"sendDigits",value:function(t){throw new Error("Not implemented")}},{key:"getPhoneContacts",value:function(){throw new Error("Not implemented")}},{key:"swap",value:function(t,e){throw new Error("Not implemented")}},{key:"conference",value:function(t){throw new Error("Not implemented")}},{key:"addParticipant",value:function(t,e,E){throw new Error("Not implemented")}},{key:"pauseRecording",value:function(t){throw new Error("Not implemented")}},{key:"resumeRecording",value:function(t){throw new Error("Not implemented")}},{key:"getAgentConfig",value:function(){throw new Error("Not implemented")}},{key:"setAgentConfig",value:function(t){throw new Error("Not implemented")}},{key:"getCapabilities",value:function(){throw new Error("Not implemented")}},{key:"wrapUpCall",value:function(t){throw new Error("Not implemented")}},{key:"getSignedRecordingUrl",value:function(t,e,E){throw new Error("Not implemented")}},{key:"superviseCall",value:function(t){throw new Error("Not implemented")}},{key:"supervisorDisconnect",value:function(t){throw new Error("Not implemented")}},{key:"supervisorBargeIn",value:function(t){throw new Error("Not implemented")}}]),t}(),st=function(){function t(){R()(this,t)}return l()(t,[{key:"init",value:function(t){throw new Error("Not implemented")}},{key:"getTelephonyConnector",value:function(){throw new Error("Not implemented")}},{key:"onAgentWorkEvent",value:function(t){throw new Error("Not implemented")}},{key:"setAgentStatus",value:function(t,e,E){throw new Error("Not implemented")}},{key:"getAgentStatus",value:function(){this.logMessageToVendor(N.LOG_LEVEL.INFO,"getAgentStatus API is NOT Implemented")}},{key:"logout",value:function(){throw new Error("Not implemented")}},{key:"handleMessage",value:function(t){throw new Error("Not implemented")}},{key:"downloadLogs",value:function(t){Y()}},{key:"logMessageToVendor",value:function(t,e,E){}}]),t}(),Nt=function(){function t(){R()(this,t)}return l()(t,null,[{key:"validateString",value:function(t){if("string"!=typeof t)throw new Error("Invalid argument. Expecting a string but got ".concat(s()(t)));return this}},{key:"validateNumber",value:function(t){if("number"!=typeof t)throw new Error("Invalid argument. Expecting a number but got ".concat(s()(t)));return this}},{key:"validateBoolean",value:function(t){if("boolean"!=typeof t)throw new Error("Invalid argument. Expecting a boolean but got ".concat(s()(t)));return this}},{key:"validateEnum",value:function(t,e){if(!new RegExp(e.join("|"),"i").test(t))throw new Error("Invalid argument. Expecting a value from ".concat(JSON.stringify(e)," but got ").concat(t));return this}},{key:"validateDate",value:function(t){if(!(t instanceof Date))throw new Error("Invalid argument. Expecting a Date object but got ".concat(s()(t)));return this}},{key:"validateClassObject",value:function(t,e){if(!(t instanceof e))throw new Error("Invalid className. Expecting object of class ".concat(e," but got ").concat(s()(t)));return this}}]),t}(),ct=function t(e){var E=e.workItemId,n=e.workId,a=e.workEvent;R()(this,t),Nt.validateEnum(a,Object.values(N.WORK_EVENT)),this.workEvent=a,this.workItemId=E,this.workId=n},At=function t(e){var E=e.statusId,n=e.statusApiName,a=e.statusName;R()(this,t),Nt.validateString(E),n&&Nt.validateString(n),a&&Nt.validateString(a),this.statusId=E,this.statusApiName=n,this.statusName=a},Ot=function t(e){var E=e.statusId,n=e.statusType,a=e.statusName;R()(this,t),E&&Nt.validateString(E),n&&Nt.validateString(n),a&&Nt.validateString(a),this.statusId=E,this.statusType=n,this.statusName=a},Ct=function t(e){var E=e.newVendorStateInfo,n=e.oldVendorStateInfo;R()(this,t),Nt.validateClassObject(E,Ot),Nt.validateString(E.statusName),n&&Nt.validateClassObject(n,Ot),this.newVendorStateInfo=E,this.oldVendorStateInfo=n},lt=function t(e){var E=e.callId,n=e.voiceCallId,a=e.callType,r=e.from,T=e.to,o=e.supervisorName,i=e.isBargedIn;R()(this,t),Nt.validateString(E),this.callId=E,this.voiceCallId=n,this.callType=a,this.from=r,this.to=T,this.supervisorName=o,this.isBargedIn=i},ut=function t(e){var E=e.callId,n=e.stats,a=e.isAudioStatsCompleted;R()(this,t),E&&(Nt.validateString(E),this.callId=E),n&&(Nt.validateClassObject(n,Array),n.forEach((function(t){return Nt.validateClassObject(t,Rt)})),this.stats=n),a&&(Nt.validateBoolean(a),this.isAudioStatsCompleted=a)},Rt=function t(e){var E=e.inputChannelStats,n=e.outputChannelStats;R()(this,t),E&&Nt.validateClassObject(E,It),n&&Nt.validateClassObject(n,It),this.inputChannelStats=E,this.outputChannelStats=n},It=function t(e){var E=e.packetsCount,n=e.packetsLost,a=e.jitterBufferMillis,r=e.roundTripTimeMillis;R()(this,t),E=null==E||E<0?0:E,n=null==n||n<0?0:n,a=null==a||a<0?0:a,r=null==r||r<0?0:r,this.statsCount=0,this.packetsCount=E,this.packetsLost=n,this.jitterBufferMillis=a,this.roundTripTimeMillis=r},St=function t(e){var E=e.call;R()(this,t),Nt.validateClassObject(E,it),this.call=E},Pt=function(t){S()(E,t);var e=U(E);function E(t){var n=t.calls;return R()(this,E),e.call(this,{calls:n})}return E}($),dt=function t(e){var E=e.success,n=void 0!==E&&E,a=e.showLogin,r=void 0!==a&&a,T=e.loginFrameHeight,o=void 0===T?350:T;R()(this,t),this.success=n,this.showLogin=r,this.loginFrameHeight=o},Lt=!1;function pt(t){var e=function(t){var e=m[t];return{packetsCount:e.packetsCount/e.statsCount,packetsLost:e.packetsLost/e.statsCount,jitterBufferMillis:e.jitterBufferMillis/e.statsCount,roundTripTimeMillis:e.roundTripTimeMillis/e.statsCount}}(t),E=e.roundTripTimeMillis+2*e.jitterBufferMillis+10,n=0;return n=E<160?93.2-E/40:93.2-(E-120)/10,1+.035*(n-=e.packetsLost/e.packetsCount*2.5)+7e-6*n*(n-60)*(100-n)}function Vt(){Lt=!0}function ht(){if(Lt&&m){var t=pt("inputChannelStats"),e=pt("outputChannelStats");return m=null,isNaN(e)&&isNaN(t)?0:isNaN(e)?t:isNaN(t)?e:Math.min(t,e)}}function ft(){m=new Rt({inputChannelStats:new It({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0}),outputChannelStats:new It({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0})})}function Gt(t){m&&t.forEach((function(t){t.inputChannelStats&&(m.inputChannelStats.statsCount++,m.inputChannelStats.packetsCount+=0|t.inputChannelStats.packetsCount,m.inputChannelStats.packetsLost+=0|t.inputChannelStats.packetsLost,m.inputChannelStats.jitterBufferMillis+=0|t.inputChannelStats.jitterBufferMillis,m.inputChannelStats.roundTripTimeMillis+=0|t.inputChannelStats.roundTripTimeMillis),t.outputChannelStats&&(m.outputChannelStats.statsCount++,m.outputChannelStats.packetsCount+=0|t.outputChannelStats.packetsCount,m.outputChannelStats.packetsLost+=0|t.outputChannelStats.packetsLost,m.outputChannelStats.jitterBufferMillis+=0|t.outputChannelStats.jitterBufferMillis,m.outputChannelStats.roundTripTimeMillis+=0|t.outputChannelStats.roundTripTimeMillis)}))}function vt(t){return t&&t.type?t.type:t}function Dt(t){return t&&t.message?t.message:t}function bt(t,e,E){var n=function t(e){if(e){if("function"==typeof e)return;if("object"===s()(e)){var E=Array.isArray(e),n=E?[]:{};if(E)e.forEach((function(e){n.push(t(e))}));else for(var a in e)"phoneNumber"!==a&&"number"!==a&&"name"!==a&&"callAttributes"!==a&&(n[a]=t(e[a]));return n}}return e}(e);D({eventType:t,payload:e},E?N.LOG_LEVEL.ERROR:N.LOG_LEVEL.INFO,N.LOG_SOURCE.SYSTEM),M.postMessage({type:N.MESSAGE_TYPE.LOG,payload:{eventType:t,payload:n,isError:E}})}function Yt(t,e){var E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];M.postMessage({type:N.MESSAGE_TYPE.TELEPHONY_EVENT_DISPATCHED,payload:{telephonyEventType:t,telephonyEventPayload:e}}),E&&bt(t,e,!1)}function Ut(t,e,E){console.error("SCV dispatched error ".concat(t," for eventType ").concat(E),e),Yt(N.EVENT_TYPE.ERROR,{message:t},!1),bt(E,{errorType:t,error:e},!0)}function gt(t,e){var E={customError:{labelName:t.labelName,namespace:t.namespace,message:t.message}};console.error("SCV dispatched custom error for eventType ".concat(e),E),Yt(N.EVENT_TYPE.ERROR,E,!1),bt(e,{errorType:N.ERROR_TYPE.CUSTOM_ERROR,error:t},!0)}function yt(t,e){console.info("SCV info message dispatched for eventType ".concat(t," with payload ").concat(JSON.stringify(e))),Yt(N.EVENT_TYPE.INFO,{message:t},!1),bt(t,e,!1)}function mt(){return Mt.apply(this,arguments)}function Mt(){return(Mt=i()(a.a.mark((function t(){var e,E,n,r,o,i,_,s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.getTelephonyConnector();case 3:return n=t.sent,t.next=6,n.getAgentConfig();case 6:return r=t.sent,t.next=9,n.getCapabilities();case 9:return o=t.sent,Nt.validateClassObject(r,K),Nt.validateClassObject(o,W),o.supportsMos&&Vt(),t.next=15,n.getActiveCalls();case 15:i=t.sent,Nt.validateClassObject(i,j),_=i.activeCalls,s=N.MESSAGE_TYPE.CONNECTOR_READY,c={agentConfig:(e={},T()(e,N.AGENT_CONFIG_TYPE.PHONES,r.phones),T()(e,N.AGENT_CONFIG_TYPE.SELECTED_PHONE,r.selectedPhone),e),capabilities:(E={},T()(E,N.CAPABILITIES_TYPE.MUTE,o.hasMute),T()(E,N.CAPABILITIES_TYPE.RECORD,o.hasRecord),T()(E,N.CAPABILITIES_TYPE.MERGE,o.hasMerge),T()(E,N.CAPABILITIES_TYPE.SWAP,o.hasSwap),T()(E,N.CAPABILITIES_TYPE.SIGNED_RECORDING_URL,o.hasSignedRecordingUrl),T()(E,N.CAPABILITIES_TYPE.DEBUG_ENABLED,o.debugEnabled),T()(E,N.CAPABILITIES_TYPE.CONTACT_SEARCH,o.hasContactSearch),T()(E,N.CAPABILITIES_TYPE.VENDOR_PROVIDED_AVAILABILITY,o.hasAgentAvailability),T()(E,N.CAPABILITIES_TYPE.VENDOR_PROVIDED_QUEUE_WAIT_TIME,o.hasQueueWaitTime),T()(E,N.CAPABILITIES_TYPE.SUPERVISOR_LISTEN_IN,o.hasSupervisorListenIn),T()(E,N.CAPABILITIES_TYPE.SUPERVISOR_BARGE_IN,o.hasSupervisorBargeIn),T()(E,N.CAPABILITIES_TYPE.MOS,o.supportsMos),T()(E,N.CAPABILITIES_TYPE.BLIND_TRANSFER,o.hasBlindTransfer),T()(E,N.CAPABILITIES_TYPE.TRANSFER_TO_OMNI_FLOW,o.hasTransferToOmniFlow),T()(E,N.CAPABILITIES_TYPE.PENDING_STATUS_CHANGE,o.hasPendingStatusChange),T()(E,N.CAPABILITIES_TYPE.PHONEBOOK,o.hasPhoneBook),E),callInProgress:_.length>0?_[0]:null},M.postMessage({type:s,payload:c}),bt(s,c,!1),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(0),M.postMessage({type:N.MESSAGE_TYPE.CONNECTOR_READY,payload:{}}),bt(N.MESSAGE_TYPE.CONNECTOR_READY,{},!1);case 28:case"end":return t.stop()}}),t,null,[[0,24]])})))).apply(this,arguments)}function kt(t){return wt.apply(this,arguments)}function wt(){return(wt=i()(a.a.mark((function t(e){var E,n,r,T,o,i,_,s,c,A,O,C,l,u,R,I,S,P,d,L,p,V,h,f,G,v,D,Y,U,g,y,m,M,H,B,F,W,K,q,Q,J,Z,et,rt,ot,it,_t,st,ct,At,Ct,lt,ut,Rt,It,dt,Lt,pt,Vt,ht,Gt,mt,Mt,kt,wt,Ht,xt,Bt,Ft,jt,Wt,Kt,Qt,Jt,Xt,zt,$t,Zt;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(E=e.data.type)!==N.MESSAGE_TYPE.LOG&&bt(E,e.data,!1),t.t0=E,t.next=t.t0===N.MESSAGE_TYPE.VOICE.ACCEPT_CALL?5:t.t0===N.MESSAGE_TYPE.VOICE.DECLINE_CALL?32:t.t0===N.MESSAGE_TYPE.VOICE.END_CALL?48:t.t0===N.MESSAGE_TYPE.VOICE.MUTE?69:t.t0===N.MESSAGE_TYPE.VOICE.UNMUTE?83:t.t0===N.MESSAGE_TYPE.VOICE.HOLD?97:t.t0===N.MESSAGE_TYPE.VOICE.RESUME?121:t.t0===N.MESSAGE_TYPE.SET_AGENT_STATUS?145:t.t0===N.MESSAGE_TYPE.GET_AGENT_STATUS?171:t.t0===N.MESSAGE_TYPE.VOICE.DIAL?183:t.t0===N.MESSAGE_TYPE.VOICE.SEND_DIGITS?213:t.t0===N.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS?225:t.t0===N.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS?241:t.t0===N.MESSAGE_TYPE.VOICE.CONFERENCE?255:t.t0===N.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT?269:t.t0===N.MESSAGE_TYPE.VOICE.PAUSE_RECORDING?295:t.t0===N.MESSAGE_TYPE.VOICE.RESUME_RECORDING?309:t.t0===N.MESSAGE_TYPE.LOGOUT?323:t.t0===N.MESSAGE_TYPE.MESSAGE?336:t.t0===N.MESSAGE_TYPE.VOICE.WRAP_UP_CALL?338:t.t0===N.MESSAGE_TYPE.VOICE.AGENT_AVAILABLE?343:t.t0===N.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG?385:t.t0===N.MESSAGE_TYPE.VOICE.GET_SIGNED_RECORDING_URL?400:t.t0===N.MESSAGE_TYPE.DOWNLOAD_VENDOR_LOGS?418:t.t0===N.MESSAGE_TYPE.LOG?420:t.t0===N.MESSAGE_TYPE.VOICE.SUPERVISE_CALL?423:t.t0===N.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT?443:t.t0===N.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN?459:t.t0===N.MESSAGE_TYPE.AGENT_WORK_EVENT?474:477;break;case 5:if(t.prev=5,!e.data.call||!e.data.call.callType||e.data.call.callType.toLowerCase()!==N.CALL_TYPE.OUTBOUND.toLowerCase()&&e.data.call.callType.toLowerCase()!==N.CALL_TYPE.DIALED_CALLBACK.toLowerCase()){t.next=8;break}return t.abrupt("return");case 8:return ft(),t.next=11,k.getTelephonyConnector();case 11:if(n=t.sent,!w){t.next=19;break}return t.next=15,n.supervisorDisconnect();case 15:r=t.sent,Nt.validateClassObject(r,Pt),w=!1,Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,r.calls);case 19:return t.next=21,n.acceptCall(e.data.call);case 21:T=t.sent,Nt.validateClassObject(T,z),Yt((o=T.call).callType.toLowerCase()===N.CALL_TYPE.CALLBACK.toLowerCase()?N.EVENT_TYPE.VOICE.CALL_STARTED:N.EVENT_TYPE.VOICE.CALL_CONNECTED,o),t.next=31;break;case 27:t.prev=27,t.t1=t.catch(5),w=!1,t.t1 instanceof x?gt(t.t1,N.MESSAGE_TYPE.VOICE.ACCEPT_CALL):yt(N.INFO_TYPE.VOICE.CAN_NOT_ACCEPT_THE_CALL,{messagetype:N.MESSAGE_TYPE.VOICE.ACCEPT_CALL,additionalInfo:t.t1});case 31:return t.abrupt("break",478);case 32:return t.prev=32,t.next=35,k.getTelephonyConnector();case 35:return i=t.sent,t.next=38,i.declineCall(e.data.call);case 38:_=t.sent,Nt.validateClassObject(_,z),s=_.call,Yt(N.EVENT_TYPE.VOICE.HANGUP,s),t.next=47;break;case 44:t.prev=44,t.t2=t.catch(32),t.t2 instanceof x?gt(t.t2,N.MESSAGE_TYPE.VOICE.DECLINE_CALL):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_DECLINE_THE_CALL,t.t2,N.MESSAGE_TYPE.VOICE.DECLINE_CALL);case 47:return t.abrupt("break",478);case 48:return t.prev=48,t.next=51,k.getTelephonyConnector();case 51:return c=t.sent,t.next=54,c.endCall(e.data.call,e.data.agentStatus);case 54:return A=t.sent,Nt.validateClassObject(A,$),t.next=58,c.getActiveCalls();case 58:O=t.sent,Nt.validateClassObject(O,j),C=O.activeCalls,l=A.calls,0===C.length?Yt(N.EVENT_TYPE.VOICE.HANGUP,l):Yt(N.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,l.length>0&&l[0]),t.next=68;break;case 65:t.prev=65,t.t3=t.catch(48),t.t3 instanceof x?gt(t.t3,N.MESSAGE_TYPE.VOICE.END_CALL):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,t.t3,N.MESSAGE_TYPE.VOICE.END_CALL);case 68:return t.abrupt("break",478);case 69:return t.prev=69,t.next=72,k.getTelephonyConnector();case 72:return u=t.sent,t.next=75,u.mute();case 75:R=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.MUTE_TOGGLE,payload:R}),t.next=82;break;case 79:t.prev=79,t.t4=t.catch(69),t.t4 instanceof x?gt(t.t4,N.MESSAGE_TYPE.VOICE.MUTE):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_MUTE_CALL,t.t4,N.MESSAGE_TYPE.VOICE.MUTE);case 82:return t.abrupt("break",478);case 83:return t.prev=83,t.next=86,k.getTelephonyConnector();case 86:return I=t.sent,t.next=89,I.unmute();case 89:S=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.MUTE_TOGGLE,payload:S}),t.next=96;break;case 93:t.prev=93,t.t5=t.catch(83),t.t5 instanceof x?gt(t.t5,N.MESSAGE_TYPE.VOICE.UNMUTE):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_UNMUTE_CALL,t.t5,N.MESSAGE_TYPE.VOICE.UNMUTE);case 96:return t.abrupt("break",478);case 97:return t.prev=97,t.next=100,k.getTelephonyConnector();case 100:return P=t.sent,t.next=103,P.hold(e.data.call);case 103:d=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.HOLD_TOGGLE,payload:d}),t.next=120;break;case 107:if(t.prev=107,t.t6=t.catch(97),!(t.t6 instanceof x)){t.next=113;break}gt(t.t6,N.MESSAGE_TYPE.VOICE.HOLD),t.next=120;break;case 113:t.t7=vt(t.t6),t.next=t.t7===N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?116:118;break;case 116:return Ut(N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,Dt(t.t6),N.MESSAGE_TYPE.VOICE.HOLD),t.abrupt("break",120);case 118:return Ut(N.ERROR_TYPE.VOICE.CAN_NOT_HOLD_CALL,Dt(t.t6),N.MESSAGE_TYPE.VOICE.HOLD),t.abrupt("break",120);case 120:return t.abrupt("break",478);case 121:return t.prev=121,t.next=124,k.getTelephonyConnector();case 124:return L=t.sent,t.next=127,L.resume(e.data.call);case 127:p=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.HOLD_TOGGLE,payload:p}),t.next=144;break;case 131:if(t.prev=131,t.t8=t.catch(121),!(t.t8 instanceof x)){t.next=137;break}gt(t.t8,N.MESSAGE_TYPE.VOICE.RESUME),t.next=144;break;case 137:t.t9=vt(t.t8),t.next=t.t9===N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?140:142;break;case 140:return Ut(N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,Dt(t.t8),N.MESSAGE_TYPE.VOICE.RESUME),t.abrupt("break",144);case 142:return Ut(N.ERROR_TYPE.VOICE.CAN_NOT_RESUME_CALL,Dt(t.t8),N.MESSAGE_TYPE.VOICE.RESUME),t.abrupt("break",144);case 144:return t.abrupt("break",478);case 145:return t.prev=145,V=e.data.statusInfo||{},h=e.data.enqueueNextState||!1,t.next=150,k.setAgentStatus(e.data.agentStatus,V,h);case 150:f=t.sent,Nt.validateClassObject(f,nt),G=f.success,Yt(N.EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:G}),t.next=170;break;case 156:if(t.prev=156,t.t10=t.catch(145),!(t.t10 instanceof x)){t.next=162;break}gt(t.t10,N.MESSAGE_TYPE.SET_AGENT_STATUS),t.next=170;break;case 162:e.data.statusInfo&&Yt(N.EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:!1}),t.t11=vt(t.t10),t.next=t.t11===N.ERROR_TYPE.INVALID_AGENT_STATUS?166:168;break;case 166:return Ut(N.ERROR_TYPE.INVALID_AGENT_STATUS,Dt(t.t10),N.MESSAGE_TYPE.SET_AGENT_STATUS),t.abrupt("break",170);case 168:return Ut(N.ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,Dt(t.t10),N.MESSAGE_TYPE.SET_AGENT_STATUS),t.abrupt("break",170);case 170:return t.abrupt("break",478);case 171:return t.prev=171,t.next=174,k.getAgentStatus();case 174:v=t.sent,Nt.validateClassObject(v,Ot),Yt(N.EVENT_TYPE.GET_AGENT_STATUS_RESULT,v),t.next=182;break;case 179:t.prev=179,t.t12=t.catch(171),t.t12 instanceof x?gt(t.t12,N.MESSAGE_TYPE.GET_AGENT_STATUS):Ut(N.ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,Dt(t.t12),N.MESSAGE_TYPE.GET_AGENT_STATUS);case 182:return t.abrupt("break",478);case 183:return t.prev=183,t.next=186,k.getTelephonyConnector();case 186:return D=t.sent,Y=e.data.params&&e.data.params.indexOf(N.DIAL_OPTIONS.CALLBACK)>=0,t.next=190,D.dial(new Tt(e.data.contact),new Et({isCallback:Y}));case 190:U=t.sent,Nt.validateClassObject(U,z),g=U.call,N.CALL_TYPE.DIALED_CALLBACK.toLowerCase()===g.callType.toLowerCase()&&Y?Yt(N.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,g):Yt(N.EVENT_TYPE.VOICE.CALL_STARTED,g),t.next=212;break;case 196:if(t.prev=196,t.t13=t.catch(183),Yt(N.EVENT_TYPE.VOICE.CALL_FAILED),!(t.t13 instanceof x)){t.next=203;break}gt(t.t13,N.MESSAGE_TYPE.VOICE.DIAL),t.next=212;break;case 203:t.t14=vt(t.t13),t.next=t.t14===N.ERROR_TYPE.VOICE.INVALID_DESTINATION?206:t.t14===N.ERROR_TYPE.GENERIC_ERROR?208:210;break;case 206:return Ut(N.ERROR_TYPE.VOICE.INVALID_DESTINATION,Dt(t.t13),N.MESSAGE_TYPE.VOICE.DIAL),t.abrupt("break",212);case 208:return Ut(N.ERROR_TYPE.GENERIC_ERROR,Dt(t.t13),N.MESSAGE_TYPE.VOICE.DIAL),t.abrupt("break",212);case 210:return Ut(N.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,Dt(t.t13),N.MESSAGE_TYPE.VOICE.DIAL),t.abrupt("break",212);case 212:return t.abrupt("break",478);case 213:return t.prev=213,t.next=216,k.getTelephonyConnector();case 216:return y=t.sent,t.next=219,y.sendDigits(e.data.digits);case 219:t.next=224;break;case 221:t.prev=221,t.t15=t.catch(213),bt(N.MESSAGE_TYPE.VOICE.SEND_DIGITS,e.data.digits,!0);case 224:return t.abrupt("break",478);case 225:return t.prev=225,t.next=228,k.getTelephonyConnector();case 228:return m=t.sent,t.next=231,m.getPhoneContacts(e.data.filter);case 231:M=t.sent,Nt.validateClassObject(M,X),H=M.contacts.map((function(t){return{id:t.id,type:t.type,name:t.name,phoneNumber:t.phoneNumber,prefix:t.prefix,extension:t.extension,endpointARN:t.endpointARN,queue:t.queue,availability:t.availability,queueWaitTime:t.queueWaitTime,recordId:t.recordId,description:t.description}})),Yt(N.EVENT_TYPE.VOICE.PHONE_CONTACTS,{contacts:H,contactTypes:M.contactTypes}),t.next=240;break;case 237:t.prev=237,t.t16=t.catch(225),t.t16 instanceof x?gt(t.t16,N.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_GET_PHONE_CONTACTS,t.t16,N.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS);case 240:return t.abrupt("break",478);case 241:return t.prev=241,t.next=244,k.getTelephonyConnector();case 244:return B=t.sent,t.next=247,B.swap(e.data.callToHold,e.data.callToResume);case 247:F=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED,payload:F}),t.next=254;break;case 251:t.prev=251,t.t17=t.catch(241),t.t17 instanceof x?gt(t.t17,N.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,t.t17,N.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS);case 254:return t.abrupt("break",478);case 255:return t.prev=255,t.next=258,k.getTelephonyConnector();case 258:return W=t.sent,t.next=261,W.conference(e.data.calls);case 261:K=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED,payload:K}),t.next=268;break;case 265:t.prev=265,t.t18=t.catch(255),t.t18 instanceof x?gt(t.t18,N.MESSAGE_TYPE.VOICE.CONFERENCE):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,t.t18,N.MESSAGE_TYPE.VOICE.CONFERENCE);case 268:return t.abrupt("break",478);case 269:return t.prev=269,t.next=272,k.getTelephonyConnector();case 272:return q=t.sent,t.next=275,q.addParticipant(new Tt(e.data.contact),e.data.call,e.data.isBlindTransfer);case 275:Q=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,payload:Q}),e.data.isBlindTransfer&&Yt(N.EVENT_TYPE.VOICE.HANGUP,e.data.call),t.next=294;break;case 280:if(t.prev=280,t.t19=t.catch(269),Yt(N.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,{reason:N.EVENT_TYPE.ERROR.toLowerCase()}),!(t.t19 instanceof x)){t.next=287;break}gt(t.t19,N.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),t.next=294;break;case 287:t.t20=vt(t.t19),t.next=t.t20===N.ERROR_TYPE.VOICE.INVALID_DESTINATION?290:292;break;case 290:return Ut(N.ERROR_TYPE.VOICE.INVALID_DESTINATION,Dt(t.t19),N.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),t.abrupt("break",294);case 292:return Ut(N.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,Dt(t.t19),N.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),t.abrupt("break",294);case 294:return t.abrupt("break",478);case 295:return t.prev=295,t.next=298,k.getTelephonyConnector();case 298:return J=t.sent,t.next=301,J.pauseRecording(e.data.call);case 301:Z=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.RECORDING_TOGGLE,payload:Z}),t.next=308;break;case 305:t.prev=305,t.t21=t.catch(295),t.t21 instanceof x?gt(t.t21,N.MESSAGE_TYPE.VOICE.PAUSE_RECORDING):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_PAUSE_RECORDING,t.t21,N.MESSAGE_TYPE.VOICE.PAUSE_RECORDING);case 308:return t.abrupt("break",478);case 309:return t.prev=309,t.next=312,k.getTelephonyConnector();case 312:return et=t.sent,t.next=315,et.resumeRecording(e.data.call);case 315:rt=t.sent,qt({eventType:N.EVENT_TYPE.VOICE.RECORDING_TOGGLE,payload:rt}),t.next=322;break;case 319:t.prev=319,t.t22=t.catch(309),t.t22 instanceof x?gt(t.t22,N.MESSAGE_TYPE.VOICE.RESUME_RECORDING):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_RESUME_RECORDING,t.t22,N.MESSAGE_TYPE.VOICE.RESUME_RECORDING);case 322:return t.abrupt("break",478);case 323:return t.prev=323,t.next=326,k.logout();case 326:ot=t.sent,Nt.validateClassObject(ot,at),it=ot.success,_t=ot.loginFrameHeight,Yt(N.EVENT_TYPE.LOGOUT_RESULT,{success:it,loginFrameHeight:_t}),t.next=335;break;case 332:t.prev=332,t.t23=t.catch(323),t.t23 instanceof x?gt(t.t23,N.MESSAGE_TYPE.LOGOUT):Ut(N.ERROR_TYPE.CAN_NOT_LOG_OUT,t.t23,N.MESSAGE_TYPE.LOGOUT);case 335:return t.abrupt("break",478);case 336:return k.handleMessage(e.data.message),t.abrupt("break",478);case 338:return t.next=340,k.getTelephonyConnector();case 340:return t.sent.wrapUpCall(e.data.call),t.abrupt("break",478);case 343:if(!e.data||!e.data.isAvailable){t.next=384;break}return t.next=346,k.getTelephonyConnector();case 346:return st=t.sent,t.next=349,st.getActiveCalls();case 349:ct=t.sent,Nt.validateClassObject(ct,j),At=ct.activeCalls,t.t24=a.a.keys(At);case 353:if((t.t25=t.t24()).done){t.next=384;break}if(Ct=t.t25.value,lt=At[Ct],ut=!lt.callInfo||lt.callInfo.isReplayable,Rt=lt.callAttributes&&lt.callAttributes.participantType===N.PARTICIPANT_TYPE.SUPERVISOR,It=Rt&&lt.callAttributes&&lt.callAttributes.hasSupervisorBargedIn,!ut){t.next=382;break}lt.isReplayedCall=!0,t.t26=lt.state,t.next=t.t26===N.CALL_STATE.CONNECTED?364:t.t26===N.CALL_STATE.RINGING?371:t.t26===N.CALL_STATE.TRANSFERRING?377:t.t26===N.CALL_STATE.TRANSFERRED?379:381;break;case 364:if(!Rt){t.next=369;break}return w=!0,Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,lt),It&&Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,lt),t.abrupt("break",382);case 369:return Yt(N.EVENT_TYPE.VOICE.CALL_CONNECTED,lt),t.abrupt("break",382);case 371:if(!Rt){t.next=375;break}return w=!0,Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,lt),t.abrupt("break",382);case 375:return Yt(N.EVENT_TYPE.VOICE.CALL_STARTED,lt),t.abrupt("break",382);case 377:return Yt(N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,{phoneNumber:lt.contact.phoneNumber,callInfo:lt.callInfo,initialCallHasEnded:lt.callAttributes.initialCallHasEnded,callId:lt.callId}),t.abrupt("break",382);case 379:return Yt(N.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{phoneNumber:lt.contact.phoneNumber,callInfo:lt.callInfo,initialCallHasEnded:lt.callAttributes.initialCallHasEnded,callId:lt.callId}),t.abrupt("break",382);case 381:return t.abrupt("break",382);case 382:t.next=353;break;case 384:return t.abrupt("break",478);case 385:return t.prev=385,t.next=388,k.getTelephonyConnector();case 388:return dt=t.sent,t.next=391,dt.setAgentConfig(e.data.config);case 391:Lt=t.sent,Nt.validateClassObject(Lt,nt),Yt(N.EVENT_TYPE.VOICE.AGENT_CONFIG_UPDATED,Lt),t.next=399;break;case 396:t.prev=396,t.t27=t.catch(385),t.t27 instanceof x?gt(t.t27,N.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG):Ut(vt(t.t27)===N.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER?N.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER:N.ERROR_TYPE.VOICE.CAN_NOT_SET_AGENT_CONFIG,Dt(t.t27),N.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG);case 399:return t.abrupt("break",478);case 400:return t.prev=400,pt=e.data,Vt=pt.recordingUrl,ht=pt.vendorCallKey,Gt=pt.callId,t.next=404,k.getTelephonyConnector();case 404:return mt=t.sent,t.next=407,mt.getSignedRecordingUrl(Vt,ht,Gt);case 407:Mt=t.sent,Nt.validateClassObject(Mt,tt),Yt(N.EVENT_TYPE.VOICE.SIGNED_RECORDING_URL,Mt),t.next=417;break;case 412:t.prev=412,t.t28=t.catch(400),kt=new tt({success:!1}),Yt(N.EVENT_TYPE.VOICE.SIGNED_RECORDING_URL,kt,!1),bt(N.MESSAGE_TYPE.VOICE.GET_SIGNED_RECORDING_URL,kt,!0);case 417:return t.abrupt("break",478);case 418:return k.downloadLogs(b()),t.abrupt("break",478);case 420:return wt=e.data,Ht=wt.logLevel,xt=wt.logMessage,Bt=wt.payload,k.logMessageToVendor(Ht,xt,Bt),t.abrupt("break",478);case 423:return t.prev=423,w=!0,t.next=427,k.getTelephonyConnector();case 427:return Ft=t.sent,t.next=430,Ft.superviseCall(e.data.call);case 430:return jt=t.sent,Nt.validateClassObject(jt,St),t.next=434,Ft.getAgentConfig();case 434:t.sent.selectedPhone.type===N.PHONE_TYPE.SOFT_PHONE?Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,jt.call):Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,jt.call),t.next=442;break;case 438:t.prev=438,t.t29=t.catch(423),w=!1,t.t29 instanceof x?gt(t.t29,N.MESSAGE_TYPE.VOICE.SUPERVISE_CALL):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,t.t29,N.MESSAGE_TYPE.VOICE.SUPERVISE_CALL);case 442:return t.abrupt("break",478);case 443:return t.prev=443,t.next=446,k.getTelephonyConnector();case 446:return Wt=t.sent,t.next=449,Wt.supervisorDisconnect(e.data.call);case 449:Kt=t.sent,Nt.validateClassObject(Kt,Pt),w=!1,Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,Kt.calls),t.next=458;break;case 455:t.prev=455,t.t30=t.catch(443),t.t30 instanceof x?gt(t.t30,N.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_DISCONNECT_SUPERVISOR,t.t30,N.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT);case 458:return t.abrupt("break",478);case 459:return t.prev=459,t.next=462,k.getTelephonyConnector();case 462:return Qt=t.sent,t.next=465,Qt.supervisorBargeIn(e.data.call);case 465:Jt=t.sent,Nt.validateClassObject(Jt,St),Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,Jt.call),t.next=473;break;case 470:t.prev=470,t.t31=t.catch(459),t.t31 instanceof x?gt(t.t31,N.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN):Ut(N.ERROR_TYPE.VOICE.CAN_NOT_BARGE_IN_SUPERVISOR,t.t31,N.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN);case 473:return t.abrupt("break",478);case 474:return Xt=e.data.agentWork,zt=Xt.workItemId,$t=Xt.workId,Zt=Xt.workEvent,k.onAgentWorkEvent({workItemId:zt,workId:$t,workEvent:Zt}),t.abrupt("break",478);case 477:return t.abrupt("break",478);case 478:case"end":return t.stop()}}),t,null,[[5,27],[32,44],[48,65],[69,79],[83,93],[97,107],[121,131],[145,156],[171,179],[183,196],[213,221],[225,237],[241,251],[255,265],[269,280],[295,305],[309,319],[323,332],[385,396],[400,412],[423,438],[443,455],[459,470]])})))).apply(this,arguments)}function Ht(t){return xt.apply(this,arguments)}function xt(){return(xt=i()(a.a.mark((function t(e){var E,n,r,T;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.data.type,t.next=t.t0===N.MESSAGE_TYPE.SETUP_CONNECTOR?3:33;break;case 3:if(E=/^https:\/\/[\w-.]+(lightning\.[\w]+\.soma\.force\.com|\.lightning\.force\.com|\.lightning\.pc-rnd\.force\.com|\.stm\.force\.com|\.vf\.force\.com|\.salesforce\.com|\.my\.salesforce-sites\.com|\.lightning\.localhost\.[\w]+\.force.com)$/,n=new URL(e.origin),r=n.protocol+"//"+n.hostname,!E.test(r)){t.next=31;break}return(M=e.ports[0]).onmessage=kt,bt(N.MESSAGE_TYPE.SETUP_CONNECTOR,Bt(e.data.connectorConfig),!1),t.prev=10,t.next=13,k.init(e.data.connectorConfig);case 13:T=t.sent,Nt.validateClassObject(T,et),T.showStorageAccess?Yt(N.EVENT_TYPE.SHOW_STORAGE_ACCESS,{success:!0}):T.showLogin?Yt(N.EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:T.loginFrameHeight}):T.isSilentLogin?Yt(N.EVENT_TYPE.SHOW_LOGIN,{isSilentLogin:T.isSilentLogin}):mt(),t.next=31;break;case 18:if(t.prev=18,t.t1=t.catch(10),!(t.t1 instanceof x)){t.next=24;break}gt(t.t1,N.MESSAGE_TYPE.SETUP_CONNECTOR),t.next=31;break;case 24:t.t2=vt(t.t1),t.next=t.t2===N.ERROR_TYPE.VOICE.INVALID_PARAMS?27:29;break;case 27:return Ut(N.ERROR_TYPE.VOICE.INVALID_PARAMS,Dt(t.t1),N.MESSAGE_TYPE.SETUP_CONNECTOR),t.abrupt("break",31);case 29:return Ut(N.ERROR_TYPE.CAN_NOT_LOG_IN,Dt(t.t1),N.MESSAGE_TYPE.SETUP_CONNECTOR),t.abrupt("break",31);case 31:return window.removeEventListener("message",Ht),t.abrupt("break",34);case 33:return t.abrupt("break",34);case 34:case"end":return t.stop()}}),t,null,[[10,18]])})))).apply(this,arguments)}function Bt(t){t=t||{};var e={};return c.forEach((function(E){t.hasOwnProperty(E)&&(e[E]=t[E])})),A.forEach((function(E){Object.keys(t).forEach((function(n){n.startsWith(E)&&!O.includes(n)&&(e[n]=t[n])}))})),e}function Ft(t,e,E,n){try{return Nt.validateClassObject(t,e),!0}catch(t){return E&&Ut(E,t,n),!1}}function jt(t){k=t,window.addEventListener("message",Ht)}function Wt(t){bt(t.eventType,t.payload,t.isError)}function Kt(t){var e=t.eventType,E=t.error;if(E instanceof x)gt(E,e);else switch(e){case N.EVENT_TYPE.LOGIN_RESULT:Ut(N.ERROR_TYPE.CAN_NOT_LOG_IN,E,N.EVENT_TYPE.LOGIN_RESULT);break;case N.EVENT_TYPE.LOGOUT_RESULT:Ut(N.ERROR_TYPE.CAN_NOT_LOG_OUT,E,N.EVENT_TYPE.LOGOUT_RESULT);break;case N.EVENT_TYPE.VOICE.CALL_STARTED:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,N.EVENT_TYPE.VOICE.CALL_STARTED);break;case N.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,N.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED);break;case N.EVENT_TYPE.VOICE.CALL_CONNECTED:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,N.EVENT_TYPE.VOICE.CALL_CONNECTED);break;case N.EVENT_TYPE.VOICE.HANGUP:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,E,N.EVENT_TYPE.VOICE.HANGUP);break;case N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED:Ut(vt(E)===N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT:N.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,E,N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED);break;case N.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_CONNECT_PARTICIPANT,E,N.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED);break;case N.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_HANGUP_PARTICIPANT,E,N.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED);break;case N.EVENT_TYPE.VOICE.MUTE_TOGGLE:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_MUTE,E,N.EVENT_TYPE.VOICE.MUTE_TOGGLE);break;case N.EVENT_TYPE.VOICE.HOLD_TOGGLE:Ut(vt(E)===N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?N.ERROR_TYPE.VOICE.INVALID_PARTICIPANT:N.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_HOLD,E,N.EVENT_TYPE.VOICE.HOLD_TOGGLE);break;case N.EVENT_TYPE.VOICE.RECORDING_TOGGLE:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_RECORD,E,N.EVENT_TYPE.VOICE.RECORDING_TOGGLE);break;case N.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,E,N.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED);break;case N.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED:Ut(N.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,E,N.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED);break;case N.EVENT_TYPE.VOICE.AGENT_ERROR:Ut(N.ERROR_TYPE.VOICE.AGENT_ERROR,E,N.EVENT_TYPE.VOICE.AGENT_ERROR);break;case N.EVENT_TYPE.VOICE.SOFTPHONE_ERROR:switch(vt(E)){case N.ERROR_TYPE.VOICE.UNSUPPORTED_BROWSER:Ut(N.ERROR_TYPE.VOICE.UNSUPPORTED_BROWSER,E,N.EVENT_TYPE.VOICE.SOFTPHONE_ERROR);break;case N.ERROR_TYPE.VOICE.MICROPHONE_NOT_SHARED:Ut(N.ERROR_TYPE.VOICE.MICROPHONE_NOT_SHARED,E,N.EVENT_TYPE.VOICE.SOFTPHONE_ERROR);break;default:Ut(N.ERROR_TYPE.GENERIC_ERROR,E,N.EVENT_TYPE.VOICE.SOFTPHONE_ERROR)}break;default:console.error("Unhandled error scenario with arguments ",arguments)}}function qt(t){return Qt.apply(this,arguments)}function Qt(){return(Qt=i()(a.a.mark((function t(e){var E,n,r,T,o,i,_,s,c,A,O,C,l,u,R,I,S,P,d,L,p,V,h,f,G,v,D,b,Y,U,g,y,m,M,H;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E=e.eventType,n=e.payload,r=e.registerLog,T=void 0===r||r,t.t0=E,t.next=t.t0===N.EVENT_TYPE.LOGIN_RESULT?4:t.t0===N.EVENT_TYPE.LOGOUT_RESULT?6:t.t0===N.EVENT_TYPE.VOICE.CALL_STARTED?8:t.t0===N.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED?10:t.t0===N.EVENT_TYPE.VOICE.CALL_CONNECTED?12:t.t0===N.EVENT_TYPE.VOICE.HANGUP?28:t.t0===N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED?30:t.t0===N.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED?32:t.t0===N.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED?34:t.t0===N.EVENT_TYPE.MESSAGE?44:t.t0===N.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED?46:t.t0===N.EVENT_TYPE.VOICE.WRAP_UP_ENDED?48:t.t0===N.EVENT_TYPE.REMOTE_CONTROLLER?50:t.t0===N.EVENT_TYPE.VOICE.MUTE_TOGGLE?52:t.t0===N.EVENT_TYPE.VOICE.HOLD_TOGGLE?54:t.t0===N.EVENT_TYPE.VOICE.RECORDING_TOGGLE?57:t.t0===N.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED?60:t.t0===N.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED?62:t.t0===N.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS?64:t.t0===N.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN?66:t.t0===N.EVENT_TYPE.VOICE.CALL_BARGED_IN?68:t.t0===N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED?70:t.t0===N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED?72:t.t0===N.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP?74:t.t0===N.EVENT_TYPE.SET_AGENT_STATUS?76:t.t0===N.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW?78:t.t0===N.EVENT_TYPE.STORAGE_ACCESS_RESULT?80:t.t0===N.EVENT_TYPE.GET_AGENT_STATUS?82:t.t0===N.EVENT_TYPE.STATE_CHANGE?84:86;break;case 4:return Ft(n,nt,N.ERROR_TYPE.CAN_NOT_LOG_IN,N.EVENT_TYPE.LOGIN_RESULT)&&(Yt(N.EVENT_TYPE.LOGIN_RESULT,n,T),n.success&&mt()),t.abrupt("break",86);case 6:return Ft(n,at,N.ERROR_TYPE.CAN_NOT_LOG_OUT,N.EVENT_TYPE.LOGOUT_RESULT)&&Yt(N.EVENT_TYPE.LOGOUT_RESULT,{success:n.success,loginFrameHeight:n.loginFrameHeight},T),t.abrupt("break",86);case 8:return Ft(n,z,N.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,N.EVENT_TYPE.VOICE.CALL_STARTED)&&Yt(N.EVENT_TYPE.VOICE.CALL_STARTED,n.call,!0),t.abrupt("break",86);case 10:return Ft(n,z,N.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,N.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED)&&Yt(N.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,n.call,!0),t.abrupt("break",86);case 12:if(!Ft(n,z,N.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,N.EVENT_TYPE.VOICE.CALL_CONNECTED)){t.next=27;break}if(ft(),!w){t.next=26;break}return t.next=17,k.getTelephonyConnector();case 17:return o=t.sent,t.next=20,o.supervisorDisconnect();case 20:return i=t.sent,Nt.validateClassObject(i,Pt),w=!1,Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,i,!0),Yt(N.EVENT_TYPE.VOICE.CALL_CONNECTED,n.call,!0),t.abrupt("break",86);case 26:Yt(N.EVENT_TYPE.VOICE.CALL_CONNECTED,n.call,!0);case 27:return t.abrupt("break",86);case 28:return Ft(n,$,N.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,N.EVENT_TYPE.VOICE.HANGUP)&&Yt(N.EVENT_TYPE.VOICE.HANGUP,n.calls,!0),t.abrupt("break",86);case 30:return Ft(n,J,N.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED)&&(_=n.initialCallHasEnded,s=n.callInfo,c=n.phoneNumber,A=n.callId,Yt(N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,{initialCallHasEnded:_,callInfo:s,phoneNumber:c,callId:A},!0)),t.abrupt("break",86);case 32:return Ft(n,J,N.ERROR_TYPE.VOICE.CAN_NOT_CONNECT_PARTICIPANT,N.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED)&&(O=n.initialCallHasEnded,C=n.callInfo,l=n.phoneNumber,u=n.callId,Yt(N.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{initialCallHasEnded:O,callInfo:C,phoneNumber:l,callId:u},!0)),t.abrupt("break",86);case 34:if(!Ft(n,z,N.ERROR_TYPE.VOICE.CAN_NOT_HANGUP_PARTICIPANT,N.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED)){t.next=43;break}return R=n.call,t.next=38,k.getTelephonyConnector();case 38:return I=t.sent,t.next=41,I.getActiveCalls();case 41:Ft(S=t.sent,j)&&(0===(P=S.activeCalls).length?Yt(N.EVENT_TYPE.VOICE.HANGUP,R,!0):R&&R.callAttributes&&R.callAttributes.participantType===N.PARTICIPANT_TYPE.INITIAL_CALLER?(d=Object.values(P).filter((function(t){return t.callType===N.CALL_TYPE.ADD_PARTICIPANT})).pop(),Yt(d.state===N.CALL_STATE.TRANSFERRING?N.EVENT_TYPE.VOICE.PARTICIPANT_ADDED:N.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{initialCallHasEnded:!0},!0)):Yt(N.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,{reason:R?R.reason:null},!0));case 43:return t.abrupt("break",86);case 44:return Yt(N.EVENT_TYPE.MESSAGE,n,T),t.abrupt("break",86);case 46:return Yt(N.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED,n,T),t.abrupt("break",86);case 48:return Yt(N.EVENT_TYPE.VOICE.WRAP_UP_ENDED,n,T),t.abrupt("break",86);case 50:return kt(n),t.abrupt("break",86);case 52:return Ft(n,F,N.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_MUTE,N.EVENT_TYPE.VOICE.MUTE_TOGGLE)&&Yt(N.EVENT_TYPE.VOICE.MUTE_TOGGLE,n,T),t.abrupt("break",86);case 54:return L=n.isThirdPartyOnHold,p=n.isCustomerOnHold,V=n.calls,Ft(n,Z,N.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_HOLD,N.EVENT_TYPE.VOICE.HOLD_TOGGLE)&&Yt(N.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:L,isCustomerOnHold:p,calls:V},T),t.abrupt("break",86);case 57:return h=n.isRecordingPaused,f=n.contactId,G=n.initialContactId,v=n.instanceId,D=n.region,Ft(n,Q,N.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_RECORD,N.EVENT_TYPE.VOICE.RECORDING_TOGGLE)&&Yt(N.EVENT_TYPE.VOICE.RECORDING_TOGGLE,{isRecordingPaused:h,contactId:f,initialContactId:G,instanceId:v,region:D},T),t.abrupt("break",86);case 60:return Ft(n,Z,N.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,N.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED)&&(b=n.isThirdPartyOnHold,Y=n.isCustomerOnHold,U=n.calls,Yt(N.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:b,isCustomerOnHold:Y,calls:U},!0)),t.abrupt("break",86);case 62:return Ft(n,Z,N.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,N.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED)&&(g=n.isThirdPartyOnHold,y=n.isCustomerOnHold,Yt(N.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:g,isCustomerOnHold:y},!0)),t.abrupt("break",86);case 64:return Ft(n,ut)&&(n.stats&&Gt(n.stats),n.isAudioStatsCompleted&&n.callId&&(m=n.callId,M=ht(),Yt(N.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS_COMPLETED,{callId:m,mos:M},T))),t.abrupt("break",86);case 66:return Ft(n,St,N.ERROR_TYPE.VOICE.CAN_NOT_BARGE_IN_SUPERVISOR,N.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN)&&Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,n.call,!0),t.abrupt("break",86);case 68:return Ft(n,lt,N.ERROR_TYPE.GENERIC_ERROR,N.EVENT_TYPE.VOICE.CALL_BARGED_IN)&&Yt(N.EVENT_TYPE.VOICE.CALL_BARGED_IN,n,!0),t.abrupt("break",86);case 70:return Ft(n,St,N.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED)&&(w=!0,Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,n.call,!0)),t.abrupt("break",86);case 72:return Ft(n,St,N.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED)&&(w=!0,Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,n.call,!0)),t.abrupt("break",86);case 74:return Ft(n,Pt,N.ERROR_TYPE.VOICE.CAN_NOT_DISCONNECT_SUPERVISOR,N.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP)&&(w=!1,Yt(N.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,n.calls,!0)),t.abrupt("break",86);case 76:return Ft(n,At,N.ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,N.EVENT_TYPE.SET_AGENT_STATUS)&&(H=n.statusId,Yt(N.EVENT_TYPE.SET_AGENT_STATUS,{statusId:H},T)),t.abrupt("break",86);case 78:return Yt(N.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW,n),t.abrupt("break",86);case 80:return Ft(n,dt,N.ERROR_TYPE.INVALID_STORAGE_ACCESS_RESULT,N.EVENT_TYPE.STORAGE_ACCESS_RESULT)&&(Yt(N.EVENT_TYPE.STORAGE_ACCESS_RESULT,n),n.success&&(n.showLogin?Yt(N.EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:n.loginFrameHeight},T):mt())),t.abrupt("break",86);case 82:return Ft(n,Ot,N.ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,N.EVENT_TYPE.GET_AGENT_STATUS)&&Yt(N.EVENT_TYPE.GET_AGENT_STATUS,n,T),t.abrupt("break",86);case 84:return Ft(n,Ct,N.ERROR_TYPE.INVALID_STATE_CHANGE_RESULT,N.EVENT_TYPE.STATE_CHANGE)&&Yt(N.EVENT_TYPE.STATE_CHANGE,n),t.abrupt("break",86);case 86:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}])}));
//# sourceMappingURL=scv-connector-base.js.map