!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SCVConnectorBase",[],t):"object"==typeof exports?exports.SCVConnectorBase=t():e.SCVConnectorBase=t()}(this,(function(){return function(e){var t={};function E(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,E),r.l=!0,r.exports}return E.m=e,E.c=t,E.d=function(e,t,n){E.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},E.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},E.t=function(e,t){if(1&t&&(e=E(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(E.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)E.d(n,r,function(t){return e[t]}.bind(null,r));return n},E.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return E.d(t,"a",t),t},E.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E.p="",E(E.s=18)}([function(e,t,E){var n=E(9);function r(e,t){for(var E=0;E<t.length;E++){var r=t[E];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n(r.key),r)}}e.exports=function(e,t,E){return t&&r(e.prototype,t),E&&r(e,E),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(9);e.exports=function(e,t,E){return(t=n(t))in e?Object.defineProperty(e,t,{value:E,enumerable:!0,configurable:!0,writable:!0}):e[t]=E,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function E(t){return e.exports=E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,E(t)}e.exports=E,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(13)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t){function E(e,t,E,n,r,a,T){try{var o=e[a](T),i=o.value}catch(e){return void E(e)}o.done?t(i):Promise.resolve(i).then(n,r)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var T=e.apply(t,n);function o(e){E(T,r,a,o,i,"next",e)}function i(e){E(T,r,a,o,i,"throw",e)}o(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function E(t){return e.exports=E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,E(t)}e.exports=E,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function E(t,n){return e.exports=E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,E(t,n)}e.exports=E,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(7);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(3).default,r=E(12);e.exports=function(e){var t=r(e,"string");return"symbol"==n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(3).default,r=E(14);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(6),r=E(7),a=E(15),T=E(16);function o(t){var E="function"==typeof Map?new Map:void 0;return e.exports=o=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==E){if(E.has(e))return E.get(e);E.set(e,t)}function t(){return T(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(3).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var E=e[Symbol.toPrimitive];if(void 0!==E){var r=E.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(3).default;function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=r=function(){return E},e.exports.__esModule=!0,e.exports.default=e.exports;var t,E={},a=Object.prototype,T=a.hasOwnProperty,o=Object.defineProperty||function(e,t,E){e[t]=E.value},i="function"==typeof Symbol?Symbol:{},_=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,E){return Object.defineProperty(e,t,{value:E,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(t){l=function(e,t,E){return e[t]=E}}function N(e,t,E,n){var r=t&&t.prototype instanceof I?t:I,a=Object.create(r.prototype),T=new Y(n||[]);return o(a,"_invoke",{value:v(e,E,T)}),a}function u(e,t,E){try{return{type:"normal",arg:e.call(t,E)}}catch(e){return{type:"throw",arg:e}}}E.wrap=N;var A="suspendedStart",O="executing",C="completed",R={};function I(){}function S(){}function P(){}var d={};l(d,_,(function(){return this}));var p=Object.getPrototypeOf,L=p&&p(p(U([])));L&&L!==a&&T.call(L,_)&&(d=L);var f=P.prototype=I.prototype=Object.create(d);function h(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function E(r,a,o,i){var _=u(e[r],e,a);if("throw"!==_.type){var s=_.arg,c=s.value;return c&&"object"==n(c)&&T.call(c,"__await")?t.resolve(c.__await).then((function(e){E("next",e,o,i)}),(function(e){E("throw",e,o,i)})):t.resolve(c).then((function(e){s.value=e,o(s)}),(function(e){return E("throw",e,o,i)}))}i(_.arg)}var r;o(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,r){E(e,n,t,r)}))}return r=r?r.then(a,a):a()}})}function v(e,E,n){var r=A;return function(a,T){if(r===O)throw new Error("Generator is already running");if(r===C){if("throw"===a)throw T;return{value:t,done:!0}}for(n.method=a,n.arg=T;;){var o=n.delegate;if(o){var i=G(o,n);if(i){if(i===R)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===A)throw r=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=O;var _=u(e,E,n);if("normal"===_.type){if(r=n.done?C:"suspendedYield",_.arg===R)continue;return{value:_.arg,done:n.done}}"throw"===_.type&&(r=C,n.method="throw",n.arg=_.arg)}}}function G(e,E){var n=E.method,r=e.iterator[n];if(r===t)return E.delegate=null,"throw"===n&&e.iterator.return&&(E.method="return",E.arg=t,G(e,E),"throw"===E.method)||"return"!==n&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+n+"' method")),R;var a=u(r,e.iterator,E.arg);if("throw"===a.type)return E.method="throw",E.arg=a.arg,E.delegate=null,R;var T=a.arg;return T?T.done?(E[e.resultName]=T.value,E.next=e.nextLoc,"return"!==E.method&&(E.method="next",E.arg=t),E.delegate=null,R):T:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,R)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function U(e){if(e||""===e){var E=e[_];if(E)return E.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function E(){for(;++r<e.length;)if(T.call(e,r))return E.value=e[r],E.done=!1,E;return E.value=t,E.done=!0,E};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return S.prototype=P,o(f,"constructor",{value:P,configurable:!0}),o(P,"constructor",{value:S,configurable:!0}),S.displayName=l(P,c,"GeneratorFunction"),E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,l(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e},E.awrap=function(e){return{__await:e}},h(V.prototype),l(V.prototype,s,(function(){return this})),E.AsyncIterator=V,E.async=function(e,t,n,r,a){void 0===a&&(a=Promise);var T=new V(N(e,t,n,r),a);return E.isGeneratorFunction(t)?T:T.next().then((function(e){return e.done?e.value:T.next()}))},h(f),l(f,c,"Generator"),l(f,_,(function(){return this})),l(f,"toString",(function(){return"[object Generator]"})),E.keys=function(e){var t=Object(e),E=[];for(var n in t)E.push(n);return E.reverse(),function e(){for(;E.length;){var n=E.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},E.values=U,Y.prototype={constructor:Y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(b),!e)for(var E in this)"t"===E.charAt(0)&&T.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var E=this;function n(n,r){return o.type="throw",o.arg=e,E.next=n,r&&(E.method="next",E.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=T.call(a,"catchLoc"),_=T.call(a,"finallyLoc");if(i&&_){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!_)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var E=this.tryEntries.length-1;E>=0;--E){var n=this.tryEntries[E];if(n.tryLoc<=this.prev&&T.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,R):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),R},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var E=this.tryEntries[t];if(E.finallyLoc===e)return this.complete(E.completion,E.afterLoc),b(E),R}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var E=this.tryEntries[t];if(E.tryLoc===e){var n=E.completion;if("throw"===n.type){var r=n.arg;b(E)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,E,n){return this.delegate={iterator:U(e),resultName:E,nextLoc:n},"next"===this.method&&(this.arg=t),R}},E}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){var n=E(7),r=E(17);e.exports=function(e,t,E){if(r())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var T=new(e.bind.apply(e,a));return E&&n(T,E.prototype),T},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(e.exports=E=function(){return!!t},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=E,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,E){"use strict";E.r(t),E.d(t,"initializeConnector",(function(){return Ke})),E.d(t,"publishEvent",(function(){return Xe})),E.d(t,"publishError",(function(){return Je})),E.d(t,"publishLog",(function(){return Qe})),E.d(t,"log",(function(){return D})),E.d(t,"Constants",(function(){return B})),E.d(t,"ActiveCallsResult",(function(){return q})),E.d(t,"AgentConfigResult",(function(){return Q})),E.d(t,"AgentConfig",(function(){return J})),E.d(t,"CapabilitiesResult",(function(){return K})),E.d(t,"RecordingToggleResult",(function(){return X})),E.d(t,"ParticipantResult",(function(){return $})),E.d(t,"SignedRecordingUrlResult",(function(){return Ee})),E.d(t,"PhoneContactsResult",(function(){return z})),E.d(t,"CallResult",(function(){return Z})),E.d(t,"HangupResult",(function(){return ee})),E.d(t,"HoldToggleResult",(function(){return te})),E.d(t,"InitResult",(function(){return ne})),E.d(t,"GenericResult",(function(){return ae})),E.d(t,"MuteToggleResult",(function(){return W})),E.d(t,"LogoutResult",(function(){return Te})),E.d(t,"CallInfo",(function(){return oe})),E.d(t,"PhoneCall",(function(){return se})),E.d(t,"PhoneCallAttributes",(function(){return _e})),E.d(t,"Contact",(function(){return ie})),E.d(t,"Phone",(function(){return F})),E.d(t,"AgentStatusInfo",(function(){return Ae})),E.d(t,"AudioStatsElement",(function(){return Se})),E.d(t,"AudioStats",(function(){return Ie})),E.d(t,"StatsInfo",(function(){return Pe})),E.d(t,"VendorConnector",(function(){return le})),E.d(t,"TelephonyConnector",(function(){return ce})),E.d(t,"SuperviseCallResult",(function(){return de})),E.d(t,"SupervisorHangupResult",(function(){return pe})),E.d(t,"SupervisedCallInfo",(function(){return Re})),E.d(t,"AgentVendorStatusInfo",(function(){return Oe})),E.d(t,"StateChangeResult",(function(){return Ce})),E.d(t,"CustomError",(function(){return j})),E.d(t,"AgentWork",(function(){return ue})),E.d(t,"ShowStorageAccessResult",(function(){return Le})),E.d(t,"DialOptions",(function(){return re})),E.d(t,"ContactsFilter",(function(){return fe}));var n=E(2),r=E.n(n),a=E(5),T=E.n(a),o=E(3),i=E.n(o),_=E(4),s=E.n(_),c={MESSAGE_TYPE:{SETUP_CONNECTOR:"SETUP_CONNECTOR",CONNECTOR_READY:"CONNECTOR_READY",LOG:"LOG",TELEPHONY_EVENT_DISPATCHED:"TELEPHONY_EVENT_DISPATCHED",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",LOGOUT:"LOGOUT",MESSAGE:"MESSAGE",DOWNLOAD_VENDOR_LOGS:"DOWNLOAD_VENDOR_LOGS",AGENT_WORK_EVENT:"AGENT_WORK_EVENT",GET_CONTACTS:"GET_CONTACTS",VOICE:{ACCEPT_CALL:"ACCEPT_CALL",DECLINE_CALL:"DECLINE_CALL",END_CALL:"END_CALL",MUTE:"MUTE",UNMUTE:"UNMUTE",HOLD:"HOLD",RESUME:"RESUME",DIAL:"DIAL",SEND_DIGITS:"SEND_DIGITS",GET_PHONE_CONTACTS:"GET_PHONE_CONTACTS",SWAP_PARTICIPANTS:"SWAP_PARTICIPANTS",ADD_PARTICIPANT:"ADD_PARTICIPANT",CONFERENCE:"CONFERENCE",PAUSE_RECORDING:"PAUSE_RECORDING",RESUME_RECORDING:"RESUME_RECORDING",SUPERVISE_CALL:"SUPERVISE_CALL",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",SUPERVISOR_DISCONNECT:"SUPERVISOR_DISCONNECT",SET_AGENT_CONFIG:"SET_AGENT_CONFIG",GET_SIGNED_RECORDING_URL:"GET_SIGNED_RECORDING_URL",WRAP_UP_CALL:"WRAP_UP_CALL",AGENT_AVAILABLE:"AGENT_AVAILABLE"}},EVENT_TYPE:{ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO",LOGIN_STARTED:"LOGIN_STARTED",LOGIN_RESULT:"LOGIN_RESULT",LOGOUT_RESULT:"LOGOUT_RESULT",SHOW_LOGIN:"SHOW_LOGIN",SET_AGENT_STATUS_RESULT:"SET_AGENT_STATUS_RESULT",GET_AGENT_STATUS_RESULT:"GET_AGENT_STATUS_RESULT",MESSAGE:"MESSAGE",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",STATE_CHANGE:"STATE_CHANGE",REMOTE_CONTROLLER:"REMOTE_CONTROLLER",SHOW_STORAGE_ACCESS:"SHOW_STORAGE_ACCESS",STORAGE_ACCESS_RESULT:"STORAGE_ACCESS_RESULT",GET_CONTACTS_RESULT:"GET_CONTACTS_RESULT",VOICE:{QUEUED_CALL_STARTED:"QUEUED_CALL_STARTED",CALL_STARTED:"CALL_STARTED",CALL_CONNECTED:"CALL_CONNECTED",CALL_FAILED:"CALL_FAILED",MUTE_TOGGLE:"MUTE_TOGGLE",HOLD_TOGGLE:"HOLD_TOGGLE",PHONE_CONTACTS:"PHONE_CONTACTS",PARTICIPANT_ADDED:"PARTICIPANT_ADDED",PARTICIPANT_CONNECTED:"PARTICIPANT_CONNECTED",PARTICIPANT_REMOVED:"PARTICIPANT_REMOVED",RECORDING_TOGGLE:"RECORDING_TOGGLE",PARTICIPANTS_SWAPPED:"PARTICIPANTS_SWAPPED",PARTICIPANTS_CONFERENCED:"PARTICIPANTS_CONFERENCED",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",UPDATE_AUDIO_STATS:"UPDATE_AUDIO_STATS",UPDATE_AUDIO_STATS_COMPLETED:"UPDATE_AUDIO_STATS_COMPLETED",SUPERVISOR_BARGED_IN:"SUPERVISOR_BARGED_IN",SUPERVISOR_CALL_STARTED:"SUPERVISOR_CALL_STARTED",SUPERVISOR_CALL_CONNECTED:"SUPERVISOR_CALL_CONNECTED",SUPERVISOR_HANGUP:"SUPERVISOR_HANGUP",CALL_BARGED_IN:"CALL_BARGED_IN",WRAP_UP_ENDED:"WRAP_UP_ENDED",AFTER_CALL_WORK_STARTED:"AFTER_CALL_WORK_STARTED",AGENT_CONFIG_UPDATED:"AGENT_CONFIG_UPDATED",AGENT_ERROR:"AGENT_ERROR",HANGUP:"HANGUP",SOFTPHONE_ERROR:"SOFTPHONE_ERROR",SHOW_TRANSFER_VIEW:"SHOW_TRANSFER_VIEW"}},INFO_TYPE:{VOICE:{CAN_NOT_ACCEPT_THE_CALL:"CAN_NOT_ACCEPT_THE_CALL"}},ERROR_TYPE:{VOICE:{CAN_NOT_DECLINE_THE_CALL:"CAN_NOT_DECLINE_THE_CALL",CAN_NOT_END_THE_CALL:"CAN_NOT_END_THE_CALL",CAN_NOT_HOLD_CALL:"CAN_NOT_HOLD_CALL",CAN_NOT_RESUME_CALL:"CAN_NOT_RESUME_CALL",CAN_NOT_MUTE_CALL:"CAN_NOT_MUTE_CALL",CAN_NOT_UNMUTE_CALL:"CAN_NOT_UNMUTE_CALL",CAN_NOT_TOGGLE_MUTE:"CAN_NOT_TOGGLE_MUTE",CAN_NOT_TOGGLE_HOLD:"CAN_NOT_TOGGLE_HOLD",CAN_NOT_TOGGLE_RECORD:"CAN_NOT_TOGGLE_RECORD",INVALID_PARTICIPANT:"INVALID_PARTICIPANT",INVALID_PARAMS:"INVALID_PARAMS",CAN_NOT_GET_PHONE_CONTACTS:"CAN_NOT_GET_PHONE_CONTACTS",CAN_NOT_SWAP_PARTICIPANTS:"CAN_NOT_SWAP_PARTICIPANTS",CAN_NOT_CONFERENCE:"CAN_NOT_CONFERENCE",INVALID_DESTINATION:"INVALID_DESTINATION",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",CAN_NOT_HANGUP_PARTICIPANT:"CAN_NOT_HANGUP_PARTICIPANT",CAN_NOT_ADD_PARTICIPANT:"CAN_NOT_ADD_PARTICIPANT",CAN_NOT_CONNECT_PARTICIPANT:"CAN_NOT_CONNECT_PARTICIPANT",CAN_NOT_START_THE_CALL:"CAN_NOT_START_THE_CALL",CAN_NOT_PAUSE_RECORDING:"CAN_NOT_PAUSE_RECORDING",CAN_NOT_RESUME_RECORDING:"CAN_NOT_RESUME_RECORDING",CAN_NOT_SET_AGENT_CONFIG:"CAN_NOT_SET_AGENT_CONFIG",CAN_NOT_SET_CAPABILITIES:"CAN_NOT_SET_CAPABILITIES",CAN_NOT_UPDATE_PHONE_NUMBER:"CAN_NOT_UPDATE_PHONE_NUMBER",CAN_NOT_GET_SIGNED_RECORDING_URL:"CAN_NOT_GET_SIGNED_RECORDING_URL",CAN_NOT_SUPERVISE_CALL:"CAN_NOT_SUPERVISE_CALL",CAN_NOT_DISCONNECT_SUPERVISOR:"CAN_NOT_DISCONNECT_SUPERVISOR",CAN_NOT_BARGE_IN_SUPERVISOR:"CAN_NOT_BARGE_IN_SUPERVISOR",CAN_NOT_BARGE_IN_CALL:"CAN_NOT_BARGE_IN_CALL",AGENT_ERROR:"AGENT_ERROR",MICROPHONE_NOT_SHARED:"MICROPHONE_NOT_SHARED",UNSUPPORTED_BROWSER:"UNSUPPORTED_BROWSER"},CUSTOM_ERROR:"CUSTOM_ERROR",GENERIC_ERROR:"GENERIC_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",INVALID_AGENT_STATUS:"INVALID_AGENT_STATUS",CAN_NOT_GET_AGENT_STATUS:"CAN_NOT_GET_AGENT_STATUS",CAN_NOT_SET_AGENT_STATUS:"CAN_NOT_SET_AGENT_STATUS",LOGIN_REQUIRED:"LOGIN_REQUIRED",CAN_NOT_LOG_IN:"CAN_NOT_LOG_IN",CAN_NOT_LOG_OUT:"CAN_NOT_LOG_OUT",INVALID_STATE_CHANGE_RESULT:"INVALID_STATE_CHANGE_RESULT",INVALID_STORAGE_ACCESS_RESULT:"INVALID_STORAGE_ACCESS_RESULT"},AGENT_STATUS:{ONLINE:"Online",OFFLINE:"Offline",ACW:"AfterCallWork",CALLBACK_MISSED_OR_REJECTED:"CallbackMissedOrRejected"},PARTICIPANT_TYPE:{AGENT:"Agent",INITIAL_CALLER:"Initial_Caller",THIRD_PARTY:"Third_Party",SUPERVISOR:"Supervisor"},CALL_TYPE:{INBOUND:"Inbound",OUTBOUND:"Outbound",CALLBACK:"Callback",ADD_PARTICIPANT:"AddParticipant",TRANSFER:"Transfer",INTERNAL_CALL:"InternalCall",DIALED_CALLBACK:"DialedCallback"},DIALER_TYPE:{OUTBOUND_PREVIEW:"OutboundPreview",NONE:"None"},CONTACT_TYPE:{PHONEBOOK:"PhoneBook",QUEUE:"Queue",PHONENUMBER:"PhoneNumber",AGENT:"Agent",FLOW:"Flow"},AGENT_CONFIG_TYPE:{SHOW_AGENT_SETTINGS:"SHOW_AGENT_SETTINGS",PHONES:"PHONES",SELECTED_PHONE:"SELECTED_PHONE"},CAPABILITIES_TYPE:{MUTE:"MUTE",RECORD:"RECORD",MERGE:"MERGE",SWAP:"SWAP",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",DEBUG_ENABLED:"DEBUG_ENABLED",CONTACT_SEARCH:"CONTACT_SEARCH",VENDOR_PROVIDED_AVAILABILITY:"VENDOR_PROVIDED_AVAILABILITY",VENDOR_PROVIDED_QUEUE_WAIT_TIME:"VENDOR_PROVIDED_QUEUE_WAIT_TIME",SUPERVISOR_LISTEN_IN:"SUPERVISOR_LISTEN_IN",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",MOS:"MOS",BLIND_TRANSFER:"BLIND_TRANSFER",TRANSFER_TO_OMNI_FLOW:"TRANSFER_TO_OMNI_FLOW",PENDING_STATUS_CHANGE:"PENDING_STATUS_CHANGE",PHONEBOOK:"PHONEBOOK"},CALL_STATE:{RINGING:"ringing",CONNECTED:"connected",TRANSFERRING:"transferring",TRANSFERRED:"transferred",ENDED:"ended"},PHONE_TYPE:{DESK_PHONE:"DESK_PHONE",SOFT_PHONE:"SOFT_PHONE"},HANGUP_REASON:{PHONE_CALL_ERROR:"error",PHONE_CALL_ENDED:"ended"},AGENT_AVAILABILITY:{AVAILABLE:"AVAILABLE",BUSY:"BUSY",OFFLINE:"OFFLINE"},REMOVE_PARTICIPANT_VARIANT:{ALWAYS:"ALWAYS",NEVER:"NEVER",ALWAYS_EXCEPT_ON_HOLD:"ALWAYS_EXCEPT_ON_HOLD"},LOG_LEVEL:{ERROR:"ERROR",INFO:"INFO"},LOG_SOURCE:{SYSTEM:"SYSTEM",PARTNER:"PARTNER"},CONTACTS_FILTER_TYPES:{AGENT:"AGENT",QUEUE:"QUEUE",CONTACT:"CONTACT",DIRECTORY:"DIRECTORY",FLOW:"FLOW",AVAILABLE:"AVAILABLE"},WORK_EVENT:{ASSIGNED:"ASSIGNED",ACCEPTED:"ACCEPTED",DECLINED:"DECLINED",COMPLETED:"COMPLETED",CLOSED:"CLOSED"},DIAL_OPTIONS:{CALLBACK:"isCallback=true"}},l=["/internalNameLabel","/reqGeneralInfo/reqAdapterUrl","/reqGeneralInfo/reqVendorInfoApiName","isACWAllowed","isHVSEnabled","orgDomainName","phoneServiceChannelId","telephonySettingsComponentFqn"],N=["/reqHvcc"],u=["/reqHvcc/reqTelephonyIntegrationCertificate"],A=E(0),O=E.n(A),C=E(1),R=E.n(C),I=E(10),S=E.n(I),P=E(6),d=E.n(P),p=E(8),L=E.n(p),f=E(11),h=E.n(f);var V=function(e){return"string"==typeof e?e:JSON.stringify(e)},v=0,G=[];function D(e,t,E){!function(e,t,E){if(!t)throw new Error("Log Message required");e=e||c.LOG_LEVEL.INFO,E=E||c.LOG_SOURCE.PARTNER;var n=[(new Date).toISOString(),V(e),V(E),"".concat(V(t),"\n")].join("|");v+n.length>=75e5&&(G=[],v=0),v+=n.length,G.push(n)}(t,e,E)}function b(){return JSON.parse(JSON.stringify(G))}function Y(){!function(e,t,E){if(document&&e){var n="string"==typeof e?e:JSON.stringify(e),r=new Blob([n],{type:E}),a=document.createElement("a"),T=URL.createObjectURL(r);a.download=t,a.href=T,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(T)}}(G.join(""),"log-".concat((new Date).getTime(),".txt"),"text/plain")}function U(e,t){var E="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!E){if(Array.isArray(e)||(E=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var E=Object.prototype.toString.call(e).slice(8,-1);"Object"===E&&e.constructor&&(E=e.constructor.name);if("Map"===E||"Set"===E)return Array.from(e);if("Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){E&&(e=E);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,T=!0,o=!1;return{s:function(){E=E.call(e)},n:function(){var e=E.next();return T=e.done,e},e:function(e){o=!0,a=e},f:function(){try{T||null==E.return||E.return()}finally{if(o)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var E=0,n=new Array(t);E<t;E++)n[E]=e[E];return n}function y(e,t,E){return t=d()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,E||[],d()(e).constructor):t.apply(e,E))}function m(e,t){var E=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),E.push.apply(E,n)}return E}function M(e){for(var t=1;t<arguments.length;t++){var E=null!=arguments[t]?arguments[t]:{};t%2?m(Object(E),!0).forEach((function(t){r()(e,t,E[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(E)):m(Object(E)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(E,t))}))}return e}var x,k,w,H,B={EVENT_TYPE:{VOICE:{CALL_STARTED:c.EVENT_TYPE.VOICE.CALL_STARTED,QUEUED_CALL_STARTED:c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,CALL_CONNECTED:c.EVENT_TYPE.VOICE.CALL_CONNECTED,HANGUP:c.EVENT_TYPE.VOICE.HANGUP,MUTE_TOGGLE:c.EVENT_TYPE.VOICE.MUTE_TOGGLE,HOLD_TOGGLE:c.EVENT_TYPE.VOICE.HOLD_TOGGLE,RECORDING_TOGGLE:c.EVENT_TYPE.VOICE.RECORDING_TOGGLE,PARTICIPANTS_SWAPPED:c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED,PARTICIPANTS_CONFERENCED:c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED,PARTICIPANT_ADDED:c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,PARTICIPANT_CONNECTED:c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,PARTICIPANT_REMOVED:c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,AFTER_CALL_WORK_STARTED:c.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED,WRAP_UP_ENDED:c.EVENT_TYPE.VOICE.WRAP_UP_ENDED,AGENT_ERROR:c.EVENT_TYPE.VOICE.AGENT_ERROR,SOFTPHONE_ERROR:c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR,UPDATE_AUDIO_STATS:c.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS,SUPERVISOR_BARGED_IN:c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,SUPERVISOR_CALL_STARTED:c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,SUPERVISOR_CALL_CONNECTED:c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,SUPERVISOR_HANGUP:c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,SHOW_TRANSFER_VIEW:c.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW},LOGIN_RESULT:c.EVENT_TYPE.LOGIN_RESULT,LOGOUT_RESULT:c.EVENT_TYPE.LOGOUT_RESULT,MESSAGE:c.EVENT_TYPE.MESSAGE,SET_AGENT_STATUS:c.EVENT_TYPE.SET_AGENT_STATUS,GET_AGENT_STATUS:c.EVENT_TYPE.GET_AGENT_STATUS,STATE_CHANGE:c.EVENT_TYPE.STATE_CHANGE,STORAGE_ACCESS_RESULT:c.EVENT_TYPE.STORAGE_ACCESS_RESULT,GET_CONTACTS_RESULT:c.EVENT_TYPE.GET_CONTACTS_RESULT},ERROR_TYPE:{VOICE:{INVALID_PARTICIPANT:c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,INVALID_DESTINATION:c.ERROR_TYPE.VOICE.INVALID_DESTINATION,CAN_NOT_UPDATE_PHONE_NUMBER:c.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER,INVALID_PARAMS:c.ERROR_TYPE.VOICE.INVALID_PARAMS},GENERIC_ERROR:c.ERROR_TYPE.GENERIC_ERROR,INVALID_AGENT_STATUS:c.ERROR_TYPE.INVALID_AGENT_STATUS},AGENT_STATUS:M({},c.AGENT_STATUS),PARTICIPANT_TYPE:M({},c.PARTICIPANT_TYPE),CALL_TYPE:M({},c.CALL_TYPE),DIALER_TYPE:M({},c.DIALER_TYPE),CONTACT_TYPE:M({},c.CONTACT_TYPE),CALL_STATE:M({},c.CALL_STATE),HANGUP_REASON:M({},c.HANGUP_REASON),PHONE_TYPE:M({},c.PHONE_TYPE),AGENT_AVAILABILITY:M({},c.AGENT_AVAILABILITY),REMOVE_PARTICIPANT_VARIANT:M({},c.REMOVE_PARTICIPANT_VARIANT),LOG_LEVEL:M({},c.LOG_LEVEL),CONTACTS_FILTER_TYPES:M({},c.CONTACTS_FILTER_TYPES),WORK_EVENT:M({},c.WORK_EVENT)},j=function(e){function t(e){var E,n=e.labelName,r=e.namespace,a=e.message;return R()(this,t),E=y(this,t,[a]),Ne.validateString(n),Ne.validateString(r),a&&Ne.validateString(a),E.labelName=n,E.namespace=r,E.message=a,E}return L()(t,e),O()(t)}(h()(Error)),F=O()((function e(t){var E=t.type,n=t.number;R()(this,e),Ne.validateEnum(E,Object.values(c.PHONE_TYPE)),n&&Ne.validateString(n),this.type=E,this.number=n})),W=O()((function e(t){var E=t.isMuted;R()(this,e),this.isMuted=E})),q=O()((function e(t){var E=t.activeCalls,n=void 0===E?[]:E;R()(this,e),n.length>0&&n.forEach((function(e){Ne.validateClassObject(e,se)})),this.activeCalls=n})),K=O()((function e(t){var E=t.hasMute,n=void 0===E||E,r=t.hasRecord,a=void 0===r||r,T=t.hasMerge,o=void 0===T||T,i=t.hasSwap,_=void 0===i||i,s=t.hasSignedRecordingUrl,c=void 0!==s&&s,l=t.debugEnabled,N=void 0===l||l,u=t.hasContactSearch,A=void 0!==u&&u,O=t.hasAgentAvailability,C=void 0!==O&&O,I=t.hasQueueWaitTime,S=void 0!==I&&I,P=t.supportsMos,d=void 0!==P&&P,p=t.hasSupervisorListenIn,L=void 0!==p&&p,f=t.hasSupervisorBargeIn,h=void 0!==f&&f,V=t.hasBlindTransfer,v=void 0!==V&&V,G=t.hasTransferToOmniFlow,D=void 0!==G&&G,b=t.hasPendingStatusChange,Y=void 0!==b&&b,U=t.hasPhoneBook,g=void 0!==U&&U;R()(this,e),Ne.validateBoolean(n),Ne.validateBoolean(a),Ne.validateBoolean(o),Ne.validateBoolean(_),Ne.validateBoolean(c),Ne.validateBoolean(N),Ne.validateBoolean(A),Ne.validateBoolean(C),Ne.validateBoolean(S),Ne.validateBoolean(d),Ne.validateBoolean(L),Ne.validateBoolean(h),Ne.validateBoolean(v),Ne.validateBoolean(D),Ne.validateBoolean(Y),Ne.validateBoolean(g),this.hasMute=n,this.hasRecord=a,this.hasMerge=o,this.hasSwap=_,this.hasSignedRecordingUrl=c,this.debugEnabled=N,this.hasContactSearch=A,this.hasAgentAvailability=C,this.hasQueueWaitTime=S,this.supportsMos=d,this.hasSupervisorListenIn=L,this.hasSupervisorBargeIn=h,this.hasBlindTransfer=v,this.hasTransferToOmniFlow=D,this.hasPendingStatusChange=Y,this.hasPhoneBook=g})),Q=O()((function e(t){var E=t.phones,n=void 0===E?[c.PHONE_TYPE.SOFT_PHONE]:E,r=t.selectedPhone,a=void 0===r?new F({type:c.PHONE_TYPE.SOFT_PHONE}):r;R()(this,e),Ne.validateClassObject(n,Array),Ne.validateClassObject(a,F),this.phones=n,this.selectedPhone=a})),J=O()((function e(t){var E=t.selectedPhone;R()(this,e),Ne.validateClassObject(E,F),this.selectedPhone=E})),X=O()((function e(t){var E=t.isRecordingPaused,n=t.contactId,r=void 0===n?null:n,a=t.initialContactId,T=void 0===a?null:a,o=t.instanceId,i=void 0===o?null:o,_=t.region,s=void 0===_?null:_;R()(this,e),this.isRecordingPaused=E,this.contactId=r,this.initialContactId=T,this.instanceId=i,this.region=s})),$=O()((function e(t){var E=t.initialCallHasEnded,n=t.callInfo,r=t.phoneNumber,a=t.callId;R()(this,e),Ne.validateClassObject(n,oe),this.initialCallHasEnded=E,this.callInfo=n,this.phoneNumber=r,this.callId=a})),z=O()((function e(t){var E=t.contacts,n=void 0===E?[]:E,r=t.contactTypes,a=void 0===r?[]:r;R()(this,e),n.length>0&&n.forEach((function(e){Ne.validateClassObject(e,ie)})),a.length>0&&a.forEach((function(e){Ne.validateEnum(e,Object.values(c.CONTACT_TYPE))})),this.contacts=n,this.contactTypes=a})),Z=O()((function e(t){var E=t.call;R()(this,e),void 0!==E&&Ne.validateClassObject(E,se),this.call=E})),ee=O()((function e(t){var E=t.calls;R()(this,e),E instanceof Array?(E.forEach((function(e){return Ne.validateClassObject(e,se)})),this.calls=E):(Ne.validateClassObject(E,se),this.calls=[E])})),te=O()((function e(t){var E=t.isThirdPartyOnHold,n=t.isCustomerOnHold,r=t.calls;R()(this,e),r&&(Object.values(r).forEach((function(e){Ne.validateClassObject(e,se)})),this.calls=r),this.isThirdPartyOnHold=E,this.isCustomerOnHold=n})),Ee=O()((function e(t){var E=t.success,n=t.url,r=t.duration,a=t.callId;R()(this,e),E&&(Ne.validateString(n),Ne.validateString(a),r&&Ne.validateNumber(r)),this.success=E,this.url=n,this.duration=r,this.callId=a})),ne=O()((function e(t){var E=t.showLogin,n=void 0!==E&&E,r=t.loginFrameHeight,a=void 0===r?350:r,T=t.isSilentLogin,o=void 0!==T&&T,i=t.showStorageAccess,_=void 0!==i&&i;R()(this,e),this.showLogin=n,this.loginFrameHeight=a,this.isSilentLogin=!this.showLogin&&o,this.showStorageAccess=_})),re=O()((function e(t){var E=t.isCallback,n=void 0!==E&&E;R()(this,e),this.isCallback=n})),ae=O()((function e(t){var E=t.success;R()(this,e),this.success=E})),Te=O()((function e(t){var E=t.success,n=t.loginFrameHeight,r=void 0===n?350:n;R()(this,e),this.success=E,this.loginFrameHeight=r})),oe=O()((function e(t){var E=t.callStateTimestamp,n=void 0===E?null:E,r=t.isOnHold,a=t.isMuted,T=void 0!==a&&a,o=t.isRecordingPaused,i=void 0!==o&&o,_=t.initialCallId,s=t.queueId,l=void 0===s?null:s,N=t.queueName,u=void 0===N?null:N,A=t.queueTimestamp,O=void 0===A?null:A,C=t.isSoftphoneCall,I=void 0===C||C,S=t.acceptEnabled,P=void 0===S||S,d=t.declineEnabled,p=void 0===d||d,L=t.muteEnabled,f=void 0===L||L,h=t.swapEnabled,V=void 0===h||h,v=t.conferenceEnabled,G=void 0===v||v,D=t.holdEnabled,b=void 0===D||D,Y=t.recordEnabled,U=void 0===Y||Y,g=t.addCallerEnabled,y=void 0===g||g,m=t.extensionEnabled,M=void 0===m||m,x=t.isReplayable,k=void 0===x||x,w=t.isBargeable,H=void 0!==w&&w,j=t.isExternalTransfer,F=t.showMuteButton,W=void 0===F||F,q=t.showRecordButton,K=void 0===q||q,Q=t.showAddCallerButton,J=void 0===Q||Q,X=t.showAddBlindTransferButton,$=void 0===X||X,z=t.showMergeButton,Z=void 0===z||z,ee=t.showSwapButton,te=void 0===ee||ee,Ee=t.removeParticipantVariant,ne=void 0===Ee?B.REMOVE_PARTICIPANT_VARIANT.ALWAYS:Ee,re=t.additionalFields,ae=void 0===re?null:re,Te=t.isMultiParty,oe=void 0!==Te&&Te;R()(this,e),n&&Ne.validateDate(n),O&&Ne.validateDate(O),l&&Ne.validateString(l),u&&Ne.validateString(u),Ne.validateBoolean(i),Ne.validateBoolean(T),Ne.validateBoolean(I),Ne.validateBoolean(P),Ne.validateBoolean(p),Ne.validateBoolean(f),Ne.validateBoolean(V),Ne.validateBoolean(G),Ne.validateBoolean(b),Ne.validateBoolean(U),Ne.validateBoolean(y),Ne.validateBoolean(M),Ne.validateBoolean(H),Ne.validateBoolean(W),Ne.validateBoolean(K),Ne.validateBoolean(J),Ne.validateBoolean($),Ne.validateBoolean(Z),Ne.validateBoolean(te),void 0!==j&&Ne.validateBoolean(j),Ne.validateEnum(ne,Object.values(c.REMOVE_PARTICIPANT_VARIANT)),ae&&Ne.validateString(ae),Ne.validateBoolean(oe),this.callStateTimestamp=n,this.isRecordingPaused=i,this.isMuted=T,this.isOnHold=r,this.initialCallId=_,this.queueName=u,this.queueId=l,this.queueTimestamp=O,this.isSoftphoneCall=I,this.acceptEnabled=P,this.declineEnabled=p,this.muteEnabled=f,this.swapEnabled=V,this.conferenceEnabled=G,this.holdEnabled=b,this.recordEnabled=U,this.addCallerEnabled=y,this.extensionEnabled=M,this.isReplayable=k,this.isBargeable=H,this.isExternalTransfer=j,this.removeParticipantVariant=ne,this.showMuteButton=W,this.showRecordButton=K,this.showAddCallerButton=J,this.showAddBlindTransferButton=$,this.showMergeButton=Z,this.showSwapButton=te,this.additionalFields=ae,this.isMultiParty=oe})),ie=O()((function e(t){var E=t.phoneNumber,n=t.id,r=t.type,a=t.name,T=t.prefix,o=t.extension,i=t.endpointARN,_=t.queue,s=t.availability,l=t.recordId,N=t.description,u=t.queueWaitTime;R()(this,e),E&&Ne.validateString(E),r&&Ne.validateEnum(r,Object.values(c.CONTACT_TYPE)),n&&Ne.validateString(n),a&&Ne.validateString(a),T&&Ne.validateString(T),o&&Ne.validateString(o),s&&Ne.validateEnum(s,Object.values(c.AGENT_AVAILABILITY)),l&&Ne.validateString(l),N&&Ne.validateString(N),u&&Ne.validateString(u),this.phoneNumber=E,this.id=n,this.type=r,this.name=a,this.prefix=T,this.extension=o,this.endpointARN=i,this.queue=_,c.CONTACT_TYPE.AGENT===this.type?this.availability=s:this.availability=null,this.queueWaitTime=u,this.recordId=l,this.description=N})),_e=O()((function e(t){var E=t.voiceCallId,n=t.participantType,r=t.dialerType,a=void 0===r?B.DIALER_TYPE.NONE:r,T=t.parentId,o=t.isOnHold,i=t.hasSupervisorBargedIn,_=void 0!==i&&i;R()(this,e),E&&Ne.validateString(E),n&&Ne.validateEnum(n,Object.values(c.PARTICIPANT_TYPE)),T&&Ne.validateString(T),void 0!==o&&Ne.validateBoolean(o),Ne.validateBoolean(_),Ne.validateEnum(a,Object.values(c.DIALER_TYPE)),this.voiceCallId=E,this.participantType=n,this.parentId=T,this.isOnHold=o,this.dialerType=a,this.hasSupervisorBargedIn=_})),se=O()((function e(t){var E=t.callId,n=t.callType,r=t.contact,a=t.state,T=t.callAttributes,o=t.phoneNumber,i=t.callInfo,_=t.reason,s=t.closeCallOnError,l=t.agentStatus;R()(this,e),E&&(Ne.validateString(E),this.callId=E),n&&(Ne.validateEnum(n,Object.values(c.CALL_TYPE)),this.callType=n),o&&(Ne.validateString(o),this.phoneNumber=o),i&&(Ne.validateClassObject(i,oe),this.callInfo=i),r&&(Ne.validateClassObject(r,ie),this.contact=r),_&&(this.reason=_),s&&(this.closeCallOnError=s),l&&(this.agentStatus=l),this.state=a,this.callAttributes=T})),ce=function(){function e(){R()(this,e)}return O()(e,[{key:"getActiveCalls",value:function(){throw new Error("Not implemented")}},{key:"acceptCall",value:function(e){throw new Error("Not implemented")}},{key:"declineCall",value:function(e){throw new Error("Not implemented")}},{key:"endCall",value:function(e,t){throw new Error("Not implemented")}},{key:"mute",value:function(){throw new Error("Not implemented")}},{key:"unmute",value:function(){throw new Error("Not implemented")}},{key:"hold",value:function(e){throw new Error("Not implemented")}},{key:"resume",value:function(e){throw new Error("Not implemented")}},{key:"dial",value:function(e,t){throw new Error("Not implemented")}},{key:"sendDigits",value:function(e){throw new Error("Not implemented")}},{key:"getPhoneContacts",value:function(e){throw new Error("Not implemented")}},{key:"swap",value:function(e,t){throw new Error("Not implemented")}},{key:"conference",value:function(e){throw new Error("Not implemented")}},{key:"addParticipant",value:function(e,t,E){throw new Error("Not implemented")}},{key:"pauseRecording",value:function(e){throw new Error("Not implemented")}},{key:"resumeRecording",value:function(e){throw new Error("Not implemented")}},{key:"getAgentConfig",value:function(){throw new Error("Not implemented")}},{key:"setAgentConfig",value:function(e){throw new Error("Not implemented")}},{key:"getCapabilities",value:function(){throw new Error("Not implemented")}},{key:"wrapUpCall",value:function(e){throw new Error("Not implemented")}},{key:"getSignedRecordingUrl",value:function(e,t,E){throw new Error("Not implemented")}},{key:"superviseCall",value:function(e){throw new Error("Not implemented")}},{key:"supervisorDisconnect",value:function(e){throw new Error("Not implemented")}},{key:"supervisorBargeIn",value:function(e){throw new Error("Not implemented")}}]),e}(),le=function(){function e(){R()(this,e)}return O()(e,[{key:"init",value:function(e){throw new Error("Not implemented")}},{key:"getTelephonyConnector",value:function(){throw new Error("Not implemented")}},{key:"onAgentWorkEvent",value:function(e){throw new Error("Not implemented")}},{key:"setAgentStatus",value:function(e,t,E){throw new Error("Not implemented")}},{key:"getAgentStatus",value:function(){this.logMessageToVendor(c.LOG_LEVEL.INFO,"getAgentStatus API is NOT Implemented")}},{key:"logout",value:function(){throw new Error("Not implemented")}},{key:"handleMessage",value:function(e){throw new Error("Not implemented")}},{key:"downloadLogs",value:function(e){Y()}},{key:"logMessageToVendor",value:function(e,t,E){}},{key:"getContacts",value:function(e,t){throw new Error("Not implemented")}}]),e}(),Ne=function(){function e(){R()(this,e)}return O()(e,null,[{key:"validateString",value:function(e){if("string"!=typeof e)throw new Error("Invalid argument. Expecting a string but got ".concat(i()(e)));return this}},{key:"validateNumber",value:function(e){if("number"!=typeof e)throw new Error("Invalid argument. Expecting a number but got ".concat(i()(e)));return this}},{key:"validateBoolean",value:function(e){if("boolean"!=typeof e)throw new Error("Invalid argument. Expecting a boolean but got ".concat(i()(e)));return this}},{key:"validateEnum",value:function(e,t){if(!new RegExp(t.join("|"),"i").test(e))throw new Error("Invalid argument. Expecting a value from ".concat(JSON.stringify(t)," but got ").concat(e));return this}},{key:"validateDate",value:function(e){if(!(e instanceof Date))throw new Error("Invalid argument. Expecting a Date object but got ".concat(i()(e)));return this}},{key:"validateClassObject",value:function(e,t){if(!(e instanceof t))throw new Error("Invalid className. Expecting object of class ".concat(t," but got ").concat(i()(e)));return this}}]),e}(),ue=O()((function e(t){var E=t.workItemId,n=t.workId,r=t.workEvent;R()(this,e),Ne.validateEnum(r,Object.values(c.WORK_EVENT)),this.workEvent=r,this.workItemId=E,this.workId=n})),Ae=O()((function e(t){var E=t.statusId,n=t.statusApiName,r=t.statusName;R()(this,e),Ne.validateString(E),n&&Ne.validateString(n),r&&Ne.validateString(r),this.statusId=E,this.statusApiName=n,this.statusName=r})),Oe=O()((function e(t){var E=t.statusId,n=t.statusType,r=t.statusName;R()(this,e),E&&Ne.validateString(E),n&&Ne.validateString(n),r&&Ne.validateString(r),this.statusId=E,this.statusType=n,this.statusName=r})),Ce=O()((function e(t){var E=t.newVendorStateInfo,n=t.oldVendorStateInfo;R()(this,e),Ne.validateClassObject(E,Oe),Ne.validateString(E.statusName),n&&Ne.validateClassObject(n,Oe),this.newVendorStateInfo=E,this.oldVendorStateInfo=n})),Re=O()((function e(t){var E=t.callId,n=t.voiceCallId,r=t.callType,a=t.from,T=t.to,o=t.supervisorName,i=t.isBargedIn;R()(this,e),Ne.validateString(E),this.callId=E,this.voiceCallId=n,this.callType=r,this.from=a,this.to=T,this.supervisorName=o,this.isBargedIn=i})),Ie=O()((function e(t){var E=t.callId,n=t.stats,r=t.isAudioStatsCompleted;R()(this,e),E&&(Ne.validateString(E),this.callId=E),n&&(Ne.validateClassObject(n,Array),n.forEach((function(e){return Ne.validateClassObject(e,Se)})),this.stats=n),r&&(Ne.validateBoolean(r),this.isAudioStatsCompleted=r)})),Se=O()((function e(t){var E=t.inputChannelStats,n=t.outputChannelStats;R()(this,e),E&&Ne.validateClassObject(E,Pe),n&&Ne.validateClassObject(n,Pe),this.inputChannelStats=E,this.outputChannelStats=n})),Pe=O()((function e(t){var E=t.packetsCount,n=t.packetsLost,r=t.jitterBufferMillis,a=t.roundTripTimeMillis;R()(this,e),E=null==E||E<0?0:E,n=null==n||n<0?0:n,r=null==r||r<0?0:r,a=null==a||a<0?0:a,this.statsCount=0,this.packetsCount=E,this.packetsLost=n,this.jitterBufferMillis=r,this.roundTripTimeMillis=a})),de=O()((function e(t){var E=t.call;R()(this,e),Ne.validateClassObject(E,se),this.call=E})),pe=function(e){function t(e){var E=e.calls;return R()(this,t),y(this,t,[{calls:E}])}return L()(t,e),O()(t)}(ee),Le=O()((function e(t){var E=t.success,n=void 0!==E&&E,r=t.showLogin,a=void 0!==r&&r,T=t.loginFrameHeight,o=void 0===T?350:T;R()(this,e),this.success=n,this.showLogin=a,this.loginFrameHeight=o})),fe=O()((function e(t){if(R()(this,e),t){var E=t.contains,n=void 0===E?null:E,r=t.limit,a=void 0===r?50:r,T=t.offset,o=void 0===T?0:T,i=t.types,_=void 0===i?[]:i;n&&Ne.validateString(n),Ne.validateNumber(a),Ne.validateNumber(o);var s,l=U(_);try{for(l.s();!(s=l.n()).done;){s.value;Ne.validateEnum(_,Object.values(c.CONTACTS_FILTER_TYPES))}}catch(e){l.e(e)}finally{l.f()}this.contains=n,this.limit=a,this.offset=o,this.types=_}})),he=!1;function Ve(e){var t=function(e){var t=x[e];return{packetsCount:t.packetsCount/t.statsCount,packetsLost:t.packetsLost/t.statsCount,jitterBufferMillis:t.jitterBufferMillis/t.statsCount,roundTripTimeMillis:t.roundTripTimeMillis/t.statsCount}}(e),E=t.roundTripTimeMillis+2*t.jitterBufferMillis+10,n=0;return n=E<160?93.2-E/40:93.2-(E-120)/10,1+.035*(n-=t.packetsLost/t.packetsCount*2.5)+7e-6*n*(n-60)*(100-n)}function ve(){he=!0}function Ge(){if(he&&x){var e=Ve("inputChannelStats"),t=Ve("outputChannelStats");return x=null,isNaN(t)&&isNaN(e)?0:isNaN(t)?e:isNaN(e)?t:Math.min(e,t)}}function De(){x=new Se({inputChannelStats:new Pe({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0}),outputChannelStats:new Pe({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0})})}function be(e){x&&e.forEach((function(e){e.inputChannelStats&&(x.inputChannelStats.statsCount++,x.inputChannelStats.packetsCount+=0|e.inputChannelStats.packetsCount,x.inputChannelStats.packetsLost+=0|e.inputChannelStats.packetsLost,x.inputChannelStats.jitterBufferMillis+=0|e.inputChannelStats.jitterBufferMillis,x.inputChannelStats.roundTripTimeMillis+=0|e.inputChannelStats.roundTripTimeMillis),e.outputChannelStats&&(x.outputChannelStats.statsCount++,x.outputChannelStats.packetsCount+=0|e.outputChannelStats.packetsCount,x.outputChannelStats.packetsLost+=0|e.outputChannelStats.packetsLost,x.outputChannelStats.jitterBufferMillis+=0|e.outputChannelStats.jitterBufferMillis,x.outputChannelStats.roundTripTimeMillis+=0|e.outputChannelStats.roundTripTimeMillis)}))}function Ye(e){return e&&e.type?e.type:e}function Ue(e){return e&&e.message?e.message:e}function ge(e,t,E){var n=function e(t){if(t){if("function"==typeof t)return;if("object"===i()(t)){var E=Array.isArray(t),n=E?[]:{};if(E)t.forEach((function(t){n.push(e(t))}));else for(var r in t)"phoneNumber"!==r&&"number"!==r&&"name"!==r&&"callAttributes"!==r&&(n[r]=e(t[r]));return n}}return t}(t);D({eventType:e,payload:t},E?c.LOG_LEVEL.ERROR:c.LOG_LEVEL.INFO,c.LOG_SOURCE.SYSTEM),k.postMessage({type:c.MESSAGE_TYPE.LOG,payload:{eventType:e,payload:n,isError:E}})}function ye(e,t){var E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];k.postMessage({type:c.MESSAGE_TYPE.TELEPHONY_EVENT_DISPATCHED,payload:{telephonyEventType:e,telephonyEventPayload:t}}),E&&ge(e,t,!1)}function me(e,t,E){console.error("SCV dispatched error ".concat(e," for eventType ").concat(E),t),ye(c.EVENT_TYPE.ERROR,{message:e},!1),ge(E,{errorType:e,error:t},!0)}function Me(e,t){var E={customError:{labelName:e.labelName,namespace:e.namespace,message:e.message}};console.error("SCV dispatched custom error for eventType ".concat(t),E),ye(c.EVENT_TYPE.ERROR,E,!1),ge(t,{errorType:c.ERROR_TYPE.CUSTOM_ERROR,error:e},!0)}function xe(e,t){console.info("SCV info message dispatched for eventType ".concat(e," with payload ").concat(JSON.stringify(t))),ye(c.EVENT_TYPE.INFO,{message:e},!1),ge(e,t,!1)}function ke(){return we.apply(this,arguments)}function we(){return(we=T()(s.a.mark((function e(){var t,E,n,a,T,o,i,_;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.getTelephonyConnector();case 3:return E=e.sent,e.next=6,E.getAgentConfig();case 6:return n=e.sent,e.next=9,E.getCapabilities();case 9:return a=e.sent,Ne.validateClassObject(n,Q),Ne.validateClassObject(a,K),a.supportsMos&&ve(),e.next=15,E.getActiveCalls();case 15:T=e.sent,Ne.validateClassObject(T,q),o=T.activeCalls,i=c.MESSAGE_TYPE.CONNECTOR_READY,_={agentConfig:r()(r()({},c.AGENT_CONFIG_TYPE.PHONES,n.phones),c.AGENT_CONFIG_TYPE.SELECTED_PHONE,n.selectedPhone),capabilities:(t={},r()(r()(r()(r()(r()(r()(r()(r()(r()(r()(t,c.CAPABILITIES_TYPE.MUTE,a.hasMute),c.CAPABILITIES_TYPE.RECORD,a.hasRecord),c.CAPABILITIES_TYPE.MERGE,a.hasMerge),c.CAPABILITIES_TYPE.SWAP,a.hasSwap),c.CAPABILITIES_TYPE.SIGNED_RECORDING_URL,a.hasSignedRecordingUrl),c.CAPABILITIES_TYPE.DEBUG_ENABLED,a.debugEnabled),c.CAPABILITIES_TYPE.CONTACT_SEARCH,a.hasContactSearch),c.CAPABILITIES_TYPE.VENDOR_PROVIDED_AVAILABILITY,a.hasAgentAvailability),c.CAPABILITIES_TYPE.VENDOR_PROVIDED_QUEUE_WAIT_TIME,a.hasQueueWaitTime),c.CAPABILITIES_TYPE.SUPERVISOR_LISTEN_IN,a.hasSupervisorListenIn),r()(r()(r()(r()(r()(r()(t,c.CAPABILITIES_TYPE.SUPERVISOR_BARGE_IN,a.hasSupervisorBargeIn),c.CAPABILITIES_TYPE.MOS,a.supportsMos),c.CAPABILITIES_TYPE.BLIND_TRANSFER,a.hasBlindTransfer),c.CAPABILITIES_TYPE.TRANSFER_TO_OMNI_FLOW,a.hasTransferToOmniFlow),c.CAPABILITIES_TYPE.PENDING_STATUS_CHANGE,a.hasPendingStatusChange),c.CAPABILITIES_TYPE.PHONEBOOK,a.hasPhoneBook)),callInProgress:o.length>0?o[0]:null},k.postMessage({type:i,payload:_}),ge(i,_,!1),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),k.postMessage({type:c.MESSAGE_TYPE.CONNECTOR_READY,payload:{}}),ge(c.MESSAGE_TYPE.CONNECTOR_READY,{},!1);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}function He(e){return Be.apply(this,arguments)}function Be(){return(Be=T()(s.a.mark((function e(t){var E,n,r,a,T,o,i,_,l,N,u,A,O,C,R,I,S,P,d,p,L,f,h,V,v,G,D,Y,U,g,y,m,M,x,k,B,F,W,K,Q,J,X,$,te,ne,oe,_e,se,ce,le,ue,Ae,Ce,Re,Ie,Se,Pe,Le,fe,he,Ve,ve,Ge,be,ke,we,He,Be,je,Fe,We,qe,Ke,Qe,Je,$e,ze,Ze,et,tt,Et;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(E=t.data.type)!==c.MESSAGE_TYPE.LOG&&ge(E,t.data,!1),e.t0=E,e.next=e.t0===c.MESSAGE_TYPE.VOICE.ACCEPT_CALL?5:e.t0===c.MESSAGE_TYPE.VOICE.DECLINE_CALL?32:e.t0===c.MESSAGE_TYPE.VOICE.END_CALL?48:e.t0===c.MESSAGE_TYPE.VOICE.MUTE?69:e.t0===c.MESSAGE_TYPE.VOICE.UNMUTE?83:e.t0===c.MESSAGE_TYPE.VOICE.HOLD?97:e.t0===c.MESSAGE_TYPE.VOICE.RESUME?121:e.t0===c.MESSAGE_TYPE.SET_AGENT_STATUS?145:e.t0===c.MESSAGE_TYPE.GET_AGENT_STATUS?171:e.t0===c.MESSAGE_TYPE.VOICE.DIAL?183:e.t0===c.MESSAGE_TYPE.VOICE.SEND_DIGITS?213:e.t0===c.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS?225:e.t0===c.MESSAGE_TYPE.GET_CONTACTS?241:e.t0===c.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS?257:e.t0===c.MESSAGE_TYPE.VOICE.CONFERENCE?271:e.t0===c.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT?285:e.t0===c.MESSAGE_TYPE.VOICE.PAUSE_RECORDING?311:e.t0===c.MESSAGE_TYPE.VOICE.RESUME_RECORDING?325:e.t0===c.MESSAGE_TYPE.LOGOUT?339:e.t0===c.MESSAGE_TYPE.MESSAGE?352:e.t0===c.MESSAGE_TYPE.VOICE.WRAP_UP_CALL?354:e.t0===c.MESSAGE_TYPE.VOICE.AGENT_AVAILABLE?359:e.t0===c.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG?401:e.t0===c.MESSAGE_TYPE.VOICE.GET_SIGNED_RECORDING_URL?416:e.t0===c.MESSAGE_TYPE.DOWNLOAD_VENDOR_LOGS?434:e.t0===c.MESSAGE_TYPE.LOG?436:e.t0===c.MESSAGE_TYPE.VOICE.SUPERVISE_CALL?439:e.t0===c.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT?459:e.t0===c.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN?475:e.t0===c.MESSAGE_TYPE.AGENT_WORK_EVENT?490:493;break;case 5:if(e.prev=5,!t.data.call||!t.data.call.callType||t.data.call.callType.toLowerCase()!==c.CALL_TYPE.OUTBOUND.toLowerCase()&&t.data.call.callType.toLowerCase()!==c.CALL_TYPE.DIALED_CALLBACK.toLowerCase()){e.next=8;break}return e.abrupt("return");case 8:return De(),e.next=11,w.getTelephonyConnector();case 11:if(n=e.sent,!H){e.next=19;break}return e.next=15,n.supervisorDisconnect();case 15:r=e.sent,Ne.validateClassObject(r,pe),H=!1,ye(c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,r.calls);case 19:return e.next=21,n.acceptCall(t.data.call);case 21:a=e.sent,Ne.validateClassObject(a,Z),ye((T=a.call).callType.toLowerCase()===c.CALL_TYPE.CALLBACK.toLowerCase()?c.EVENT_TYPE.VOICE.CALL_STARTED:c.EVENT_TYPE.VOICE.CALL_CONNECTED,T),e.next=31;break;case 27:e.prev=27,e.t1=e.catch(5),H=!1,e.t1 instanceof j?Me(e.t1,c.MESSAGE_TYPE.VOICE.ACCEPT_CALL):xe(c.INFO_TYPE.VOICE.CAN_NOT_ACCEPT_THE_CALL,{messagetype:c.MESSAGE_TYPE.VOICE.ACCEPT_CALL,additionalInfo:e.t1});case 31:return e.abrupt("break",494);case 32:return e.prev=32,e.next=35,w.getTelephonyConnector();case 35:return o=e.sent,e.next=38,o.declineCall(t.data.call);case 38:i=e.sent,Ne.validateClassObject(i,Z),_=i.call,ye(c.EVENT_TYPE.VOICE.HANGUP,_),e.next=47;break;case 44:e.prev=44,e.t2=e.catch(32),e.t2 instanceof j?Me(e.t2,c.MESSAGE_TYPE.VOICE.DECLINE_CALL):me(c.ERROR_TYPE.VOICE.CAN_NOT_DECLINE_THE_CALL,e.t2,c.MESSAGE_TYPE.VOICE.DECLINE_CALL);case 47:return e.abrupt("break",494);case 48:return e.prev=48,e.next=51,w.getTelephonyConnector();case 51:return l=e.sent,e.next=54,l.endCall(t.data.call,t.data.agentStatus);case 54:return N=e.sent,Ne.validateClassObject(N,ee),e.next=58,l.getActiveCalls();case 58:u=e.sent,Ne.validateClassObject(u,q),A=u.activeCalls,O=N.calls,0===A.length?ye(c.EVENT_TYPE.VOICE.HANGUP,O):ye(c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,O.length>0&&O[0]),e.next=68;break;case 65:e.prev=65,e.t3=e.catch(48),e.t3 instanceof j?Me(e.t3,c.MESSAGE_TYPE.VOICE.END_CALL):me(c.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,e.t3,c.MESSAGE_TYPE.VOICE.END_CALL);case 68:return e.abrupt("break",494);case 69:return e.prev=69,e.next=72,w.getTelephonyConnector();case 72:return C=e.sent,e.next=75,C.mute();case 75:R=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.MUTE_TOGGLE,payload:R}),e.next=82;break;case 79:e.prev=79,e.t4=e.catch(69),e.t4 instanceof j?Me(e.t4,c.MESSAGE_TYPE.VOICE.MUTE):me(c.ERROR_TYPE.VOICE.CAN_NOT_MUTE_CALL,e.t4,c.MESSAGE_TYPE.VOICE.MUTE);case 82:return e.abrupt("break",494);case 83:return e.prev=83,e.next=86,w.getTelephonyConnector();case 86:return I=e.sent,e.next=89,I.unmute();case 89:S=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.MUTE_TOGGLE,payload:S}),e.next=96;break;case 93:e.prev=93,e.t5=e.catch(83),e.t5 instanceof j?Me(e.t5,c.MESSAGE_TYPE.VOICE.UNMUTE):me(c.ERROR_TYPE.VOICE.CAN_NOT_UNMUTE_CALL,e.t5,c.MESSAGE_TYPE.VOICE.UNMUTE);case 96:return e.abrupt("break",494);case 97:return e.prev=97,e.next=100,w.getTelephonyConnector();case 100:return P=e.sent,e.next=103,P.hold(t.data.call);case 103:d=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.HOLD_TOGGLE,payload:d}),e.next=120;break;case 107:if(e.prev=107,e.t6=e.catch(97),!(e.t6 instanceof j)){e.next=113;break}Me(e.t6,c.MESSAGE_TYPE.VOICE.HOLD),e.next=120;break;case 113:e.t7=Ye(e.t6),e.next=e.t7===c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?116:118;break;case 116:return me(c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,Ue(e.t6),c.MESSAGE_TYPE.VOICE.HOLD),e.abrupt("break",120);case 118:return me(c.ERROR_TYPE.VOICE.CAN_NOT_HOLD_CALL,Ue(e.t6),c.MESSAGE_TYPE.VOICE.HOLD),e.abrupt("break",120);case 120:return e.abrupt("break",494);case 121:return e.prev=121,e.next=124,w.getTelephonyConnector();case 124:return p=e.sent,e.next=127,p.resume(t.data.call);case 127:L=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.HOLD_TOGGLE,payload:L}),e.next=144;break;case 131:if(e.prev=131,e.t8=e.catch(121),!(e.t8 instanceof j)){e.next=137;break}Me(e.t8,c.MESSAGE_TYPE.VOICE.RESUME),e.next=144;break;case 137:e.t9=Ye(e.t8),e.next=e.t9===c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?140:142;break;case 140:return me(c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT,Ue(e.t8),c.MESSAGE_TYPE.VOICE.RESUME),e.abrupt("break",144);case 142:return me(c.ERROR_TYPE.VOICE.CAN_NOT_RESUME_CALL,Ue(e.t8),c.MESSAGE_TYPE.VOICE.RESUME),e.abrupt("break",144);case 144:return e.abrupt("break",494);case 145:return e.prev=145,f=t.data.statusInfo||{},h=t.data.enqueueNextState||!1,e.next=150,w.setAgentStatus(t.data.agentStatus,f,h);case 150:V=e.sent,Ne.validateClassObject(V,ae),v=V.success,ye(c.EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:v}),e.next=170;break;case 156:if(e.prev=156,e.t10=e.catch(145),!(e.t10 instanceof j)){e.next=162;break}Me(e.t10,c.MESSAGE_TYPE.SET_AGENT_STATUS),e.next=170;break;case 162:t.data.statusInfo&&ye(c.EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:!1}),e.t11=Ye(e.t10),e.next=e.t11===c.ERROR_TYPE.INVALID_AGENT_STATUS?166:168;break;case 166:return me(c.ERROR_TYPE.INVALID_AGENT_STATUS,Ue(e.t10),c.MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("break",170);case 168:return me(c.ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,Ue(e.t10),c.MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("break",170);case 170:return e.abrupt("break",494);case 171:return e.prev=171,e.next=174,w.getAgentStatus();case 174:G=e.sent,Ne.validateClassObject(G,Oe),ye(c.EVENT_TYPE.GET_AGENT_STATUS_RESULT,G),e.next=182;break;case 179:e.prev=179,e.t12=e.catch(171),e.t12 instanceof j?Me(e.t12,c.MESSAGE_TYPE.GET_AGENT_STATUS):me(c.ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,Ue(e.t12),c.MESSAGE_TYPE.GET_AGENT_STATUS);case 182:return e.abrupt("break",494);case 183:return e.prev=183,e.next=186,w.getTelephonyConnector();case 186:return D=e.sent,Y=t.data.params&&t.data.params.indexOf(c.DIAL_OPTIONS.CALLBACK)>=0,e.next=190,D.dial(new ie(t.data.contact),new re({isCallback:Y}));case 190:U=e.sent,Ne.validateClassObject(U,Z),g=U.call,c.CALL_TYPE.DIALED_CALLBACK.toLowerCase()===g.callType.toLowerCase()&&Y?ye(c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,g):ye(c.EVENT_TYPE.VOICE.CALL_STARTED,g),e.next=212;break;case 196:if(e.prev=196,e.t13=e.catch(183),ye(c.EVENT_TYPE.VOICE.CALL_FAILED),!(e.t13 instanceof j)){e.next=203;break}Me(e.t13,c.MESSAGE_TYPE.VOICE.DIAL),e.next=212;break;case 203:e.t14=Ye(e.t13),e.next=e.t14===c.ERROR_TYPE.VOICE.INVALID_DESTINATION?206:e.t14===c.ERROR_TYPE.GENERIC_ERROR?208:210;break;case 206:return me(c.ERROR_TYPE.VOICE.INVALID_DESTINATION,Ue(e.t13),c.MESSAGE_TYPE.VOICE.DIAL),e.abrupt("break",212);case 208:return me(c.ERROR_TYPE.GENERIC_ERROR,Ue(e.t13),c.MESSAGE_TYPE.VOICE.DIAL),e.abrupt("break",212);case 210:return me(c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,Ue(e.t13),c.MESSAGE_TYPE.VOICE.DIAL),e.abrupt("break",212);case 212:return e.abrupt("break",494);case 213:return e.prev=213,e.next=216,w.getTelephonyConnector();case 216:return y=e.sent,e.next=219,y.sendDigits(t.data.digits);case 219:e.next=224;break;case 221:e.prev=221,e.t15=e.catch(213),ge(c.MESSAGE_TYPE.VOICE.SEND_DIGITS,t.data.digits,!0);case 224:return e.abrupt("break",494);case 225:return e.prev=225,e.next=228,w.getTelephonyConnector();case 228:return m=e.sent,e.next=231,m.getPhoneContacts(t.data.filter);case 231:M=e.sent,Ne.validateClassObject(M,z),x=M.contacts.map((function(e){return{id:e.id,type:e.type,name:e.name,phoneNumber:e.phoneNumber,prefix:e.prefix,extension:e.extension,endpointARN:e.endpointARN,queue:e.queue,availability:e.availability,queueWaitTime:e.queueWaitTime,recordId:e.recordId,description:e.description}})),ye(c.EVENT_TYPE.VOICE.PHONE_CONTACTS,{contacts:x,contactTypes:M.contactTypes}),e.next=240;break;case 237:e.prev=237,e.t16=e.catch(225),e.t16 instanceof j?Me(e.t16,c.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS):me(c.ERROR_TYPE.VOICE.CAN_NOT_GET_PHONE_CONTACTS,e.t16,c.MESSAGE_TYPE.VOICE.GET_PHONE_CONTACTS);case 240:return e.abrupt("break",494);case 241:return e.prev=241,e.next=244,w.getTelephonyConnector();case 244:return k=e.sent,e.next=247,k.getPhoneContacts(t.data.filter);case 247:B=e.sent,Ne.validateClassObject(B,z),F=B.contacts.map((function(e){return{id:e.id,type:e.type,name:e.name,phoneNumber:e.phoneNumber,prefix:e.prefix,extension:e.extension,endpointARN:e.endpointARN,queue:e.queue,availability:e.availability,queueWaitTime:e.queueWaitTime,recordId:e.recordId,description:e.description}})),ye(c.EVENT_TYPE.GET_CONTACTS_RESULT,{contacts:F,contactTypes:B.contactTypes}),e.next=256;break;case 253:e.prev=253,e.t17=e.catch(241),Me(e.t17,c.MESSAGE_TYPE.GET_CONTACTS);case 256:return e.abrupt("break",494);case 257:return e.prev=257,e.next=260,w.getTelephonyConnector();case 260:return W=e.sent,e.next=263,W.swap(t.data.callToHold,t.data.callToResume);case 263:K=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED,payload:K}),e.next=270;break;case 267:e.prev=267,e.t18=e.catch(257),e.t18 instanceof j?Me(e.t18,c.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS):me(c.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,e.t18,c.MESSAGE_TYPE.VOICE.SWAP_PARTICIPANTS);case 270:return e.abrupt("break",494);case 271:return e.prev=271,e.next=274,w.getTelephonyConnector();case 274:return Q=e.sent,e.next=277,Q.conference(t.data.calls);case 277:J=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED,payload:J}),e.next=284;break;case 281:e.prev=281,e.t19=e.catch(271),e.t19 instanceof j?Me(e.t19,c.MESSAGE_TYPE.VOICE.CONFERENCE):me(c.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,e.t19,c.MESSAGE_TYPE.VOICE.CONFERENCE);case 284:return e.abrupt("break",494);case 285:return e.prev=285,e.next=288,w.getTelephonyConnector();case 288:return X=e.sent,e.next=291,X.addParticipant(new ie(t.data.contact),t.data.call,t.data.isBlindTransfer);case 291:$=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,payload:$}),t.data.isBlindTransfer&&ye(c.EVENT_TYPE.VOICE.HANGUP,t.data.call),e.next=310;break;case 296:if(e.prev=296,e.t20=e.catch(285),ye(c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,{reason:c.EVENT_TYPE.ERROR.toLowerCase()}),!(e.t20 instanceof j)){e.next=303;break}Me(e.t20,c.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),e.next=310;break;case 303:e.t21=Ye(e.t20),e.next=e.t21===c.ERROR_TYPE.VOICE.INVALID_DESTINATION?306:308;break;case 306:return me(c.ERROR_TYPE.VOICE.INVALID_DESTINATION,Ue(e.t20),c.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),e.abrupt("break",310);case 308:return me(c.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,Ue(e.t20),c.MESSAGE_TYPE.VOICE.ADD_PARTICIPANT),e.abrupt("break",310);case 310:return e.abrupt("break",494);case 311:return e.prev=311,e.next=314,w.getTelephonyConnector();case 314:return te=e.sent,e.next=317,te.pauseRecording(t.data.call);case 317:ne=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.RECORDING_TOGGLE,payload:ne}),e.next=324;break;case 321:e.prev=321,e.t22=e.catch(311),e.t22 instanceof j?Me(e.t22,c.MESSAGE_TYPE.VOICE.PAUSE_RECORDING):me(c.ERROR_TYPE.VOICE.CAN_NOT_PAUSE_RECORDING,e.t22,c.MESSAGE_TYPE.VOICE.PAUSE_RECORDING);case 324:return e.abrupt("break",494);case 325:return e.prev=325,e.next=328,w.getTelephonyConnector();case 328:return oe=e.sent,e.next=331,oe.resumeRecording(t.data.call);case 331:_e=e.sent,Xe({eventType:c.EVENT_TYPE.VOICE.RECORDING_TOGGLE,payload:_e}),e.next=338;break;case 335:e.prev=335,e.t23=e.catch(325),e.t23 instanceof j?Me(e.t23,c.MESSAGE_TYPE.VOICE.RESUME_RECORDING):me(c.ERROR_TYPE.VOICE.CAN_NOT_RESUME_RECORDING,e.t23,c.MESSAGE_TYPE.VOICE.RESUME_RECORDING);case 338:return e.abrupt("break",494);case 339:return e.prev=339,e.next=342,w.logout();case 342:se=e.sent,Ne.validateClassObject(se,Te),ce=se.success,le=se.loginFrameHeight,ye(c.EVENT_TYPE.LOGOUT_RESULT,{success:ce,loginFrameHeight:le}),e.next=351;break;case 348:e.prev=348,e.t24=e.catch(339),e.t24 instanceof j?Me(e.t24,c.MESSAGE_TYPE.LOGOUT):me(c.ERROR_TYPE.CAN_NOT_LOG_OUT,e.t24,c.MESSAGE_TYPE.LOGOUT);case 351:return e.abrupt("break",494);case 352:return w.handleMessage(t.data.message),e.abrupt("break",494);case 354:return e.next=356,w.getTelephonyConnector();case 356:return e.sent.wrapUpCall(t.data.call),e.abrupt("break",494);case 359:if(!t.data||!t.data.isAvailable){e.next=400;break}return e.next=362,w.getTelephonyConnector();case 362:return ue=e.sent,e.next=365,ue.getActiveCalls();case 365:Ae=e.sent,Ne.validateClassObject(Ae,q),Ce=Ae.activeCalls,e.t25=s.a.keys(Ce);case 369:if((e.t26=e.t25()).done){e.next=400;break}if(Re=e.t26.value,Ie=Ce[Re],Se=!Ie.callInfo||Ie.callInfo.isReplayable,Pe=Ie.callAttributes&&Ie.callAttributes.participantType===c.PARTICIPANT_TYPE.SUPERVISOR,Le=Pe&&Ie.callAttributes&&Ie.callAttributes.hasSupervisorBargedIn,!Se){e.next=398;break}Ie.isReplayedCall=!0,e.t27=Ie.state,e.next=e.t27===c.CALL_STATE.CONNECTED?380:e.t27===c.CALL_STATE.RINGING?387:e.t27===c.CALL_STATE.TRANSFERRING?393:e.t27===c.CALL_STATE.TRANSFERRED?395:397;break;case 380:if(!Pe){e.next=385;break}return H=!0,ye(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,Ie),Le&&ye(c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,Ie),e.abrupt("break",398);case 385:return ye(c.EVENT_TYPE.VOICE.CALL_CONNECTED,Ie),e.abrupt("break",398);case 387:if(!Pe){e.next=391;break}return H=!0,ye(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,Ie),e.abrupt("break",398);case 391:return ye(c.EVENT_TYPE.VOICE.CALL_STARTED,Ie),e.abrupt("break",398);case 393:return ye(c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,{phoneNumber:Ie.contact.phoneNumber,callInfo:Ie.callInfo,initialCallHasEnded:Ie.callAttributes.initialCallHasEnded,callId:Ie.callId}),e.abrupt("break",398);case 395:return ye(c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{phoneNumber:Ie.contact.phoneNumber,callInfo:Ie.callInfo,initialCallHasEnded:Ie.callAttributes.initialCallHasEnded,callId:Ie.callId}),e.abrupt("break",398);case 397:return e.abrupt("break",398);case 398:e.next=369;break;case 400:return e.abrupt("break",494);case 401:return e.prev=401,e.next=404,w.getTelephonyConnector();case 404:return fe=e.sent,e.next=407,fe.setAgentConfig(t.data.config);case 407:he=e.sent,Ne.validateClassObject(he,ae),ye(c.EVENT_TYPE.VOICE.AGENT_CONFIG_UPDATED,he),e.next=415;break;case 412:e.prev=412,e.t28=e.catch(401),e.t28 instanceof j?Me(e.t28,c.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG):me(Ye(e.t28)===c.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER?c.ERROR_TYPE.VOICE.CAN_NOT_UPDATE_PHONE_NUMBER:c.ERROR_TYPE.VOICE.CAN_NOT_SET_AGENT_CONFIG,Ue(e.t28),c.MESSAGE_TYPE.VOICE.SET_AGENT_CONFIG);case 415:return e.abrupt("break",494);case 416:return e.prev=416,Ve=t.data,ve=Ve.recordingUrl,Ge=Ve.vendorCallKey,be=Ve.callId,e.next=420,w.getTelephonyConnector();case 420:return ke=e.sent,e.next=423,ke.getSignedRecordingUrl(ve,Ge,be);case 423:we=e.sent,Ne.validateClassObject(we,Ee),ye(c.EVENT_TYPE.VOICE.SIGNED_RECORDING_URL,we),e.next=433;break;case 428:e.prev=428,e.t29=e.catch(416),He=new Ee({success:!1}),ye(c.EVENT_TYPE.VOICE.SIGNED_RECORDING_URL,He,!1),ge(c.MESSAGE_TYPE.VOICE.GET_SIGNED_RECORDING_URL,He,!0);case 433:return e.abrupt("break",494);case 434:return w.downloadLogs(b()),e.abrupt("break",494);case 436:return Be=t.data,je=Be.logLevel,Fe=Be.logMessage,We=Be.payload,w.logMessageToVendor(je,Fe,We),e.abrupt("break",494);case 439:return e.prev=439,H=!0,e.next=443,w.getTelephonyConnector();case 443:return qe=e.sent,e.next=446,qe.superviseCall(t.data.call);case 446:return Ke=e.sent,Ne.validateClassObject(Ke,de),e.next=450,qe.getAgentConfig();case 450:e.sent.selectedPhone.type===c.PHONE_TYPE.SOFT_PHONE?ye(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,Ke.call):ye(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,Ke.call),e.next=458;break;case 454:e.prev=454,e.t30=e.catch(439),H=!1,e.t30 instanceof j?Me(e.t30,c.MESSAGE_TYPE.VOICE.SUPERVISE_CALL):me(c.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,e.t30,c.MESSAGE_TYPE.VOICE.SUPERVISE_CALL);case 458:return e.abrupt("break",494);case 459:return e.prev=459,e.next=462,w.getTelephonyConnector();case 462:return Qe=e.sent,e.next=465,Qe.supervisorDisconnect(t.data.call);case 465:Je=e.sent,Ne.validateClassObject(Je,pe),H=!1,ye(c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,Je.calls),e.next=474;break;case 471:e.prev=471,e.t31=e.catch(459),e.t31 instanceof j?Me(e.t31,c.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT):me(c.ERROR_TYPE.VOICE.CAN_NOT_DISCONNECT_SUPERVISOR,e.t31,c.MESSAGE_TYPE.VOICE.SUPERVISOR_DISCONNECT);case 474:return e.abrupt("break",494);case 475:return e.prev=475,e.next=478,w.getTelephonyConnector();case 478:return $e=e.sent,e.next=481,$e.supervisorBargeIn(t.data.call);case 481:ze=e.sent,Ne.validateClassObject(ze,de),ye(c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,ze.call),e.next=489;break;case 486:e.prev=486,e.t32=e.catch(475),e.t32 instanceof j?Me(e.t32,c.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN):me(c.ERROR_TYPE.VOICE.CAN_NOT_BARGE_IN_SUPERVISOR,e.t32,c.MESSAGE_TYPE.VOICE.SUPERVISOR_BARGE_IN);case 489:return e.abrupt("break",494);case 490:return Ze=t.data.agentWork,et=Ze.workItemId,tt=Ze.workId,Et=Ze.workEvent,w.onAgentWorkEvent({workItemId:et,workId:tt,workEvent:Et}),e.abrupt("break",494);case 493:return e.abrupt("break",494);case 494:case"end":return e.stop()}}),e,null,[[5,27],[32,44],[48,65],[69,79],[83,93],[97,107],[121,131],[145,156],[171,179],[183,196],[213,221],[225,237],[241,253],[257,267],[271,281],[285,296],[311,321],[325,335],[339,348],[401,412],[416,428],[439,454],[459,471],[475,486]])})))).apply(this,arguments)}function je(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=T()(s.a.mark((function e(t){var E,n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.data.type,e.next=e.t0===c.MESSAGE_TYPE.SETUP_CONNECTOR?3:33;break;case 3:if(E=/^https:\/\/[\w-.]+(lightning\.[\w]+\.soma\.force\.com|\.lightning\.force\.com|\.lightning\.pc-rnd\.force\.com|\.stm\.force\.com|\.vf\.force\.com|\.salesforce\.com|\.my\.salesforce-sites\.com|\.lightning\.localhost\.[\w]+\.force.com)$/,n=new URL(t.origin),r=n.protocol+"//"+n.hostname,!E.test(r)){e.next=31;break}return(k=t.ports[0]).onmessage=He,ge(c.MESSAGE_TYPE.SETUP_CONNECTOR,We(t.data.connectorConfig),!1),e.prev=10,e.next=13,w.init(t.data.connectorConfig);case 13:a=e.sent,Ne.validateClassObject(a,ne),a.showStorageAccess?ye(c.EVENT_TYPE.SHOW_STORAGE_ACCESS,{success:!0}):a.showLogin?ye(c.EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:a.loginFrameHeight}):a.isSilentLogin?ye(c.EVENT_TYPE.SHOW_LOGIN,{isSilentLogin:a.isSilentLogin}):ke(),e.next=31;break;case 18:if(e.prev=18,e.t1=e.catch(10),!(e.t1 instanceof j)){e.next=24;break}Me(e.t1,c.MESSAGE_TYPE.SETUP_CONNECTOR),e.next=31;break;case 24:e.t2=Ye(e.t1),e.next=e.t2===c.ERROR_TYPE.VOICE.INVALID_PARAMS?27:29;break;case 27:return me(c.ERROR_TYPE.VOICE.INVALID_PARAMS,Ue(e.t1),c.MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("break",31);case 29:return me(c.ERROR_TYPE.CAN_NOT_LOG_IN,Ue(e.t1),c.MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("break",31);case 31:return window.removeEventListener("message",je),e.abrupt("break",34);case 33:return e.abrupt("break",34);case 34:case"end":return e.stop()}}),e,null,[[10,18]])})))).apply(this,arguments)}function We(e){e=e||{};var t={};return l.forEach((function(E){e.hasOwnProperty(E)&&(t[E]=e[E])})),N.forEach((function(E){Object.keys(e).forEach((function(n){n.startsWith(E)&&!u.includes(n)&&(t[n]=e[n])}))})),t}function qe(e,t,E,n){try{return Ne.validateClassObject(e,t),!0}catch(e){return E&&me(E,e,n),!1}}function Ke(e){w=e,window.addEventListener("message",je)}function Qe(e){ge(e.eventType,e.payload,e.isError)}function Je(e){var t=e.eventType,E=e.error;if(E instanceof j)Me(E,t);else switch(t){case c.EVENT_TYPE.LOGIN_RESULT:me(c.ERROR_TYPE.CAN_NOT_LOG_IN,E,c.EVENT_TYPE.LOGIN_RESULT);break;case c.EVENT_TYPE.LOGOUT_RESULT:me(c.ERROR_TYPE.CAN_NOT_LOG_OUT,E,c.EVENT_TYPE.LOGOUT_RESULT);break;case c.EVENT_TYPE.VOICE.CALL_STARTED:me(c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,c.EVENT_TYPE.VOICE.CALL_STARTED);break;case c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED:me(c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED);break;case c.EVENT_TYPE.VOICE.CALL_CONNECTED:me(c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,E,c.EVENT_TYPE.VOICE.CALL_CONNECTED);break;case c.EVENT_TYPE.VOICE.HANGUP:me(c.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,E,c.EVENT_TYPE.VOICE.HANGUP);break;case c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED:me(Ye(E)===c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT:c.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,E,c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED);break;case c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED:me(c.ERROR_TYPE.VOICE.CAN_NOT_CONNECT_PARTICIPANT,E,c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED);break;case c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED:me(c.ERROR_TYPE.VOICE.CAN_NOT_HANGUP_PARTICIPANT,E,c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED);break;case c.EVENT_TYPE.VOICE.MUTE_TOGGLE:me(c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_MUTE,E,c.EVENT_TYPE.VOICE.MUTE_TOGGLE);break;case c.EVENT_TYPE.VOICE.HOLD_TOGGLE:me(Ye(E)===c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT?c.ERROR_TYPE.VOICE.INVALID_PARTICIPANT:c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_HOLD,E,c.EVENT_TYPE.VOICE.HOLD_TOGGLE);break;case c.EVENT_TYPE.VOICE.RECORDING_TOGGLE:me(c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_RECORD,E,c.EVENT_TYPE.VOICE.RECORDING_TOGGLE);break;case c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED:me(c.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,E,c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED);break;case c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED:me(c.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,E,c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED);break;case c.EVENT_TYPE.VOICE.AGENT_ERROR:me(c.ERROR_TYPE.VOICE.AGENT_ERROR,E,c.EVENT_TYPE.VOICE.AGENT_ERROR);break;case c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR:switch(Ye(E)){case c.ERROR_TYPE.VOICE.UNSUPPORTED_BROWSER:me(c.ERROR_TYPE.VOICE.UNSUPPORTED_BROWSER,E,c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR);break;case c.ERROR_TYPE.VOICE.MICROPHONE_NOT_SHARED:me(c.ERROR_TYPE.VOICE.MICROPHONE_NOT_SHARED,E,c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR);break;default:me(c.ERROR_TYPE.GENERIC_ERROR,E,c.EVENT_TYPE.VOICE.SOFTPHONE_ERROR)}break;default:console.error("Unhandled error scenario with arguments ",arguments)}}function Xe(e){return $e.apply(this,arguments)}function $e(){return($e=T()(s.a.mark((function e(t){var E,n,r,a,T,o,i,_,l,N,u,A,O,C,R,I,S,P,d,p,L,f,h,V,v,G,D,b,Y,U,g,y,m,M,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E=t.eventType,n=t.payload,r=t.registerLog,a=void 0===r||r,e.t0=E,e.next=e.t0===c.EVENT_TYPE.LOGIN_RESULT?4:e.t0===c.EVENT_TYPE.LOGOUT_RESULT?6:e.t0===c.EVENT_TYPE.VOICE.CALL_STARTED?8:e.t0===c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED?10:e.t0===c.EVENT_TYPE.VOICE.CALL_CONNECTED?12:e.t0===c.EVENT_TYPE.VOICE.HANGUP?28:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED?30:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED?32:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED?34:e.t0===c.EVENT_TYPE.MESSAGE?44:e.t0===c.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED?46:e.t0===c.EVENT_TYPE.VOICE.WRAP_UP_ENDED?48:e.t0===c.EVENT_TYPE.REMOTE_CONTROLLER?50:e.t0===c.EVENT_TYPE.VOICE.MUTE_TOGGLE?52:e.t0===c.EVENT_TYPE.VOICE.HOLD_TOGGLE?54:e.t0===c.EVENT_TYPE.VOICE.RECORDING_TOGGLE?57:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED?60:e.t0===c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED?62:e.t0===c.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS?64:e.t0===c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN?66:e.t0===c.EVENT_TYPE.VOICE.CALL_BARGED_IN?68:e.t0===c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED?70:e.t0===c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED?72:e.t0===c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP?74:e.t0===c.EVENT_TYPE.SET_AGENT_STATUS?76:e.t0===c.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW?78:e.t0===c.EVENT_TYPE.STORAGE_ACCESS_RESULT?80:e.t0===c.EVENT_TYPE.GET_AGENT_STATUS?82:e.t0===c.EVENT_TYPE.STATE_CHANGE?84:86;break;case 4:return qe(n,ae,c.ERROR_TYPE.CAN_NOT_LOG_IN,c.EVENT_TYPE.LOGIN_RESULT)&&(ye(c.EVENT_TYPE.LOGIN_RESULT,n,a),n.success&&ke()),e.abrupt("break",86);case 6:return qe(n,Te,c.ERROR_TYPE.CAN_NOT_LOG_OUT,c.EVENT_TYPE.LOGOUT_RESULT)&&ye(c.EVENT_TYPE.LOGOUT_RESULT,{success:n.success,loginFrameHeight:n.loginFrameHeight},a),e.abrupt("break",86);case 8:return qe(n,Z,c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,c.EVENT_TYPE.VOICE.CALL_STARTED)&&ye(c.EVENT_TYPE.VOICE.CALL_STARTED,n.call,!0),e.abrupt("break",86);case 10:return qe(n,Z,c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED)&&ye(c.EVENT_TYPE.VOICE.QUEUED_CALL_STARTED,n.call,!0),e.abrupt("break",86);case 12:if(!qe(n,Z,c.ERROR_TYPE.VOICE.CAN_NOT_START_THE_CALL,c.EVENT_TYPE.VOICE.CALL_CONNECTED)){e.next=27;break}if(De(),!H){e.next=26;break}return e.next=17,w.getTelephonyConnector();case 17:return T=e.sent,e.next=20,T.supervisorDisconnect();case 20:return o=e.sent,Ne.validateClassObject(o,pe),H=!1,ye(c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,o,!0),ye(c.EVENT_TYPE.VOICE.CALL_CONNECTED,n.call,!0),e.abrupt("break",86);case 26:ye(c.EVENT_TYPE.VOICE.CALL_CONNECTED,n.call,!0);case 27:return e.abrupt("break",86);case 28:return qe(n,ee,c.ERROR_TYPE.VOICE.CAN_NOT_END_THE_CALL,c.EVENT_TYPE.VOICE.HANGUP)&&ye(c.EVENT_TYPE.VOICE.HANGUP,n.calls,!0),e.abrupt("break",86);case 30:return qe(n,$,c.ERROR_TYPE.VOICE.CAN_NOT_ADD_PARTICIPANT,c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED)&&(i=n.initialCallHasEnded,_=n.callInfo,l=n.phoneNumber,N=n.callId,ye(c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED,{initialCallHasEnded:i,callInfo:_,phoneNumber:l,callId:N},!0)),e.abrupt("break",86);case 32:return qe(n,$,c.ERROR_TYPE.VOICE.CAN_NOT_CONNECT_PARTICIPANT,c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED)&&(u=n.initialCallHasEnded,A=n.callInfo,O=n.phoneNumber,C=n.callId,ye(c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{initialCallHasEnded:u,callInfo:A,phoneNumber:O,callId:C},!0)),e.abrupt("break",86);case 34:if(!qe(n,Z,c.ERROR_TYPE.VOICE.CAN_NOT_HANGUP_PARTICIPANT,c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED)){e.next=43;break}return R=n.call,e.next=38,w.getTelephonyConnector();case 38:return I=e.sent,e.next=41,I.getActiveCalls();case 41:qe(S=e.sent,q)&&(0===(P=S.activeCalls).length?ye(c.EVENT_TYPE.VOICE.HANGUP,R,!0):R&&R.callAttributes&&R.callAttributes.participantType===c.PARTICIPANT_TYPE.INITIAL_CALLER?(d=Object.values(P).filter((function(e){return e.callType===c.CALL_TYPE.ADD_PARTICIPANT})).pop(),ye(d.state===c.CALL_STATE.TRANSFERRING?c.EVENT_TYPE.VOICE.PARTICIPANT_ADDED:c.EVENT_TYPE.VOICE.PARTICIPANT_CONNECTED,{initialCallHasEnded:!0},!0)):ye(c.EVENT_TYPE.VOICE.PARTICIPANT_REMOVED,{reason:R?R.reason:null},!0));case 43:return e.abrupt("break",86);case 44:return ye(c.EVENT_TYPE.MESSAGE,n,a),e.abrupt("break",86);case 46:return ye(c.EVENT_TYPE.VOICE.AFTER_CALL_WORK_STARTED,n,a),e.abrupt("break",86);case 48:return ye(c.EVENT_TYPE.VOICE.WRAP_UP_ENDED,n,a),e.abrupt("break",86);case 50:return He(n),e.abrupt("break",86);case 52:return qe(n,W,c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_MUTE,c.EVENT_TYPE.VOICE.MUTE_TOGGLE)&&ye(c.EVENT_TYPE.VOICE.MUTE_TOGGLE,n,a),e.abrupt("break",86);case 54:return p=n.isThirdPartyOnHold,L=n.isCustomerOnHold,f=n.calls,qe(n,te,c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_HOLD,c.EVENT_TYPE.VOICE.HOLD_TOGGLE)&&ye(c.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:p,isCustomerOnHold:L,calls:f},a),e.abrupt("break",86);case 57:return h=n.isRecordingPaused,V=n.contactId,v=n.initialContactId,G=n.instanceId,D=n.region,qe(n,X,c.ERROR_TYPE.VOICE.CAN_NOT_TOGGLE_RECORD,c.EVENT_TYPE.VOICE.RECORDING_TOGGLE)&&ye(c.EVENT_TYPE.VOICE.RECORDING_TOGGLE,{isRecordingPaused:h,contactId:V,initialContactId:v,instanceId:G,region:D},a),e.abrupt("break",86);case 60:return qe(n,te,c.ERROR_TYPE.VOICE.CAN_NOT_SWAP_PARTICIPANTS,c.EVENT_TYPE.VOICE.PARTICIPANTS_SWAPPED)&&(b=n.isThirdPartyOnHold,Y=n.isCustomerOnHold,U=n.calls,ye(c.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:b,isCustomerOnHold:Y,calls:U},!0)),e.abrupt("break",86);case 62:return qe(n,te,c.ERROR_TYPE.VOICE.CAN_NOT_CONFERENCE,c.EVENT_TYPE.VOICE.PARTICIPANTS_CONFERENCED)&&(g=n.isThirdPartyOnHold,y=n.isCustomerOnHold,ye(c.EVENT_TYPE.VOICE.HOLD_TOGGLE,{isThirdPartyOnHold:g,isCustomerOnHold:y},!0)),e.abrupt("break",86);case 64:return qe(n,Ie)&&(n.stats&&be(n.stats),n.isAudioStatsCompleted&&n.callId&&(m=n.callId,M=Ge(),ye(c.EVENT_TYPE.VOICE.UPDATE_AUDIO_STATS_COMPLETED,{callId:m,mos:M},a))),e.abrupt("break",86);case 66:return qe(n,de,c.ERROR_TYPE.VOICE.CAN_NOT_BARGE_IN_SUPERVISOR,c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN)&&ye(c.EVENT_TYPE.VOICE.SUPERVISOR_BARGED_IN,n.call,!0),e.abrupt("break",86);case 68:return qe(n,Re,c.ERROR_TYPE.GENERIC_ERROR,c.EVENT_TYPE.VOICE.CALL_BARGED_IN)&&ye(c.EVENT_TYPE.VOICE.CALL_BARGED_IN,n,!0),e.abrupt("break",86);case 70:return qe(n,de,c.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED)&&(H=!0,ye(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_STARTED,n.call,!0)),e.abrupt("break",86);case 72:return qe(n,de,c.ERROR_TYPE.VOICE.CAN_NOT_SUPERVISE_CALL,c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED)&&(H=!0,ye(c.EVENT_TYPE.VOICE.SUPERVISOR_CALL_CONNECTED,n.call,!0)),e.abrupt("break",86);case 74:return qe(n,pe,c.ERROR_TYPE.VOICE.CAN_NOT_DISCONNECT_SUPERVISOR,c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP)&&(H=!1,ye(c.EVENT_TYPE.VOICE.SUPERVISOR_HANGUP,n.calls,!0)),e.abrupt("break",86);case 76:return qe(n,Ae,c.ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,c.EVENT_TYPE.SET_AGENT_STATUS)&&(x=n.statusId,ye(c.EVENT_TYPE.SET_AGENT_STATUS,{statusId:x},a)),e.abrupt("break",86);case 78:return ye(c.EVENT_TYPE.VOICE.SHOW_TRANSFER_VIEW,n),e.abrupt("break",86);case 80:return qe(n,Le,c.ERROR_TYPE.INVALID_STORAGE_ACCESS_RESULT,c.EVENT_TYPE.STORAGE_ACCESS_RESULT)&&(ye(c.EVENT_TYPE.STORAGE_ACCESS_RESULT,n),n.success&&(n.showLogin?ye(c.EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:n.loginFrameHeight},a):ke())),e.abrupt("break",86);case 82:return qe(n,Oe,c.ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,c.EVENT_TYPE.GET_AGENT_STATUS)&&ye(c.EVENT_TYPE.GET_AGENT_STATUS,n,a),e.abrupt("break",86);case 84:return qe(n,Ce,c.ERROR_TYPE.INVALID_STATE_CHANGE_RESULT,c.EVENT_TYPE.STATE_CHANGE)&&ye(c.EVENT_TYPE.STATE_CHANGE,n),e.abrupt("break",86);case 86:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}])}));
//# sourceMappingURL=scv-connector-base.js.map